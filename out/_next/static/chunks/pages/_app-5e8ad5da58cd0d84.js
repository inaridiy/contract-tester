(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{5851:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n="abi/5.6.4"},4243:function(e,t,r){"use strict";r.d(t,{R:function(){return C},$:function(){return R}});var n=r(6441),i=r(6881),o=r(1581),s=r(5851),a=r(1184),l=r(9485);class u extends a.XI{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,l.getAddress)(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return(0,l.getAddress)((0,n.hexZeroPad)(e.readValue().toHexString(),20))}}class c extends a.XI{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let h=new o.Logger(s.i);function f(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let i={};n=t.map(e=>{let t=e.localName;return t||h.throwError("cannot encode object for signature with missing names",o.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]&&h.throwError("cannot encode object for signature with duplicate names",o.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]=!0,r[t]})}else h.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&h.throwArgumentError("types/value length mismatch","tuple",r);let s=new a.QV(e.wordSize),l=new a.QV(e.wordSize),u=[];return t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let i=l.length;e.encode(l,r);let o=s.writeUpdatableValue();u.push(e=>{o(e+i)})}else e.encode(s,r)}),u.forEach(e=>{e(s.length)}),e.appendWriter(s)+e.appendWriter(l)}function d(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let i=null;if(t.dynamic){let s=e.readValue(),a=n.subReader(s.toNumber());try{i=t.decode(a)}catch(l){if(l.code===o.Logger.errors.BUFFER_OVERRUN)throw l;(i=l).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(u){if(u.code===o.Logger.errors.BUFFER_OVERRUN)throw u;(i=u).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)});let i=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==i[n]||("length"===n&&(n="_length"),null!=r[n]))return;let o=r[t];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get(){throw o}}):r[n]=o});for(let s=0;s<r.length;s++){let a=r[s];a instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get(){throw a}})}return Object.freeze(r)}class p extends a.XI{constructor(e,t,r){let n=e.type+"["+(t>=0?t:"")+"]",i=-1===t||e.dynamic;super("array",n,r,i),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),h.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let i=0;i<t.length;i++)n.push(this.coder);return f(e,n,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&h.throwError("insufficient data length",o.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let n=0;n<t;n++)r.push(new c(this.coder));return e.coerce(this.name,d(e,r))}}class g extends a.XI{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class m extends a.XI{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=(0,n.arrayify)(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class y extends m{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,n.hexlify)(super.decode(e)))}}class v extends a.XI{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,n.arrayify)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,(0,n.hexlify)(e.readBytes(this.size)))}}class b extends a.XI{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var w=r(2593),E=r(1046);class A extends a.XI{constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=w.O$.from(t),n=E.Bz.mask(8*e.wordSize);if(this.signed){let i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(E.fh).mul(E.tL)))&&this._throwError("value out-of-bounds",t)}else(r.lt(E._Y)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}var S=r(9251);class _ extends m{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,S.Y0)(t))}decode(e){return(0,S.ZN)(super.decode(e))}}class k extends a.XI{constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)});let i="tuple("+n.join(",")+")";super("tuple",i,t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return f(e,this.coders,t)}decode(e){return e.coerce(this.name,d(e,this.coders))}}var T=r(1388);let N=new o.Logger(s.i),x=RegExp(/^bytes([0-9]*)$/),P=RegExp(/^(u?int)([0-9]*)$/);class C{constructor(e){(0,i.defineReadOnly)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new u(e.name);case"bool":return new g(e.name);case"string":return new _(e.name);case"bytes":return new y(e.name);case"array":return new p(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new k((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new b(e.name)}let t=e.type.match(P);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&N.throwArgumentError("invalid "+t[1]+" bit length","param",e),new A(r/8,"int"===t[1],e.name)}if(t=e.type.match(x)){let n=parseInt(t[1]);return(0===n||n>32)&&N.throwArgumentError("invalid bytes length","param",e),new v(n,e.name)}return N.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new a.Ej(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new a.QV(this._getWordSize())}getDefaultValue(e){let t=e.map(e=>this._getCoder(T._R.from(e))),r=new k(t,"_");return r.defaultValue()}encode(e,t){e.length!==t.length&&N.throwError("types/values length mismatch",o.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=e.map(e=>this._getCoder(T._R.from(e))),n=new k(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){let i=e.map(e=>this._getCoder(T._R.from(e))),o=new k(i,"_");return o.decode(this._getReader((0,n.arrayify)(t),r))}}let R=new C},1184:function(e,t,r){"use strict";r.d(t,{BR:function(){return u},Ej:function(){return f},QV:function(){return h},XI:function(){return c}});var n=r(6441),i=r(2593),o=r(6881),s=r(1581),a=r(5851);let l=new s.Logger(a.i);function u(e){let t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){let o=e.slice();o.push(i);try{r(o,n[i])}catch(s){t.push({path:o,error:s})}}};return r([],e),t}class c{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){l.throwArgumentError(e,this.localName,t)}}class h{constructor(e){(0,o.defineReadOnly)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,n.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,n.concat)(e._data))}writeBytes(e){let t=(0,n.arrayify)(e),r=t.length%this.wordSize;return r&&(t=(0,n.concat)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=(0,n.arrayify)(i.O$.from(e));return t.length>this.wordSize&&l.throwError("value out-of-bounds",s.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=(0,n.concat)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class f{constructor(e,t,r,i){(0,o.defineReadOnly)(this,"_data",(0,n.arrayify)(e)),(0,o.defineReadOnly)(this,"wordSize",t||32),(0,o.defineReadOnly)(this,"_coerceFunc",r),(0,o.defineReadOnly)(this,"allowLoose",i),this._offset=0}get data(){return(0,n.hexlify)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):f.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:l.throwError("data out-of-bounds",s.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new f(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return i.O$.from(this.readBytes(this.wordSize))}}},1388:function(e,t,r){"use strict";r.d(t,{HY:function(){return v},IC:function(){return T},QV:function(){return b},Xg:function(){return S},YW:function(){return _},_R:function(){return m},pc:function(){return p}});var n=r(2593),i=r(6881),o=r(1581),s=r(5851);let a=new o.Logger(s.i),l={},u={calldata:!0,memory:!0,storage:!0},c={calldata:!0,memory:!0};function h(e,t){if("bytes"===e||"string"===e){if(u[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&c[t])return!0;return(u[t]||"payable"===t)&&a.throwArgumentError("invalid modifier","name",t),!1}function f(e,t){let r=e;function n(t){a.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let l=0;l<e.length;l++){let u=e[l];switch(u){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(l),s.state.allowType=!1,s.type=N(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(l),s.indexed=!0,s.name=""),h(s.type,s.name)&&(s.name=""),s.type=N(s.type);let c=s;(s=s.parent)||n(l),delete c.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(l),s.indexed=!0,s.name=""),h(s.type,s.name)&&(s.name=""),s.type=N(s.type);let f=i(s.parent);s.parent.components.push(f),delete s.parent,s=f;break;case" ":s.state.allowType&&""!==s.type&&(s.type=N(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(l),s.indexed&&n(l),s.indexed=!0,s.name=""):h(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(l),s.type+=u,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(l),s.type+=u,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=u,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=u,delete s.state.allowArray):s.state.readArray?s.type+=u:n(l)}}return s.parent&&a.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):h(s.type,s.name)&&(s.name=""),o.type=N(o.type),o}function d(e,t){for(let r in t)(0,i.defineReadOnly)(e,r,t[r])}let p=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),g=RegExp(/^(.*)\[([0-9]*)\]$/);class m{constructor(e,t){e!==l&&a.throwError("use fromString",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),d(this,t);let r=this.type.match(g);r?d(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:m.fromObject({type:r[1],components:this.components}),baseType:"array"}):d(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=p.sighash),p[e]||a.throwArgumentError("invalid format type","format",e),e===p.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let r="";return"array"===this.baseType?r=this.arrayChildren.format(e)+"["+(this.arrayLength<0?"":String(this.arrayLength))+"]":"tuple"===this.baseType?(e!==p.sighash&&(r+=this.type),r+="("+this.components.map(t=>t.format(e)).join(e===p.full?", ":",")+")"):r+=this.type,e!==p.sighash&&(!0===this.indexed&&(r+=" indexed"),e===p.full&&this.name&&(r+=" "+this.name)),r}static from(e,t){return"string"==typeof e?m.fromString(e,t):m.fromObject(e)}static fromObject(e){return m.isParamType(e)?e:new m(l,{name:e.name||null,type:N(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(m.fromObject):null})}static fromString(e,t){var r;return r=f(e,!!t),m.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function y(e,t){return R(e).map(e=>m.fromString(e,t))}class v{constructor(e,t){e!==l&&a.throwError("use a static from method",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),d(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return v.isFragment(e)?e:"string"==typeof e?v.fromString(e):v.fromObject(e)}static fromObject(e){if(v.isFragment(e))return e;switch(e.type){case"function":return _.fromObject(e);case"event":return b.fromObject(e);case"constructor":return S.fromObject(e);case"error":return T.fromObject(e);case"fallback":case"receive":return null}return a.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?b.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?_.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?S.fromString(e.trim()):"error"===e.split(" ")[0]?T.fromString(e.substring(5).trim()):a.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class b extends v{format(e){if(e||(e=p.sighash),p[e]||a.throwArgumentError("invalid format type","format",e),e===p.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==p.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===p.full?", ":",")+") ",e!==p.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?b.fromString(e):b.fromObject(e)}static fromObject(e){if(b.isEventFragment(e))return e;"event"!==e.type&&a.throwArgumentError("invalid event object","value",e);let t={name:P(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(m.fromObject):[],type:"event"};return new b(l,t)}static fromString(e){let t=e.match(C);t||a.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:a.warn("unknown modifier: "+e)}}),b.fromObject({name:t[1].trim(),anonymous:r,inputs:y(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function w(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&a.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||a.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=n.O$.from(r[1]),r[0]):e}function E(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function A(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&a.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&a.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||a.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&a.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&a.throwArgumentError("unable to determine stateMutability","value",e),t}class S extends v{format(e){if(e||(e=p.sighash),p[e]||a.throwArgumentError("invalid format type","format",e),e===p.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===p.sighash&&a.throwError("cannot format a constructor for sighash",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===p.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?S.fromString(e):S.fromObject(e)}static fromObject(e){if(S.isConstructorFragment(e))return e;"constructor"!==e.type&&a.throwArgumentError("invalid constructor object","value",e);let t=A(e);t.constant&&a.throwArgumentError("constructor cannot be constant","value",e);let r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(m.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?n.O$.from(e.gas):null};return new S(l,r)}static fromString(e){let t={type:"constructor"},r=(e=w(e,t)).match(C);return r&&"constructor"===r[1].trim()||a.throwArgumentError("invalid constructor string","value",e),t.inputs=y(r[2].trim(),!1),E(r[3].trim(),t),S.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class _ extends S{format(e){if(e||(e=p.sighash),p[e]||a.throwArgumentError("invalid format type","format",e),e===p.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==p.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===p.full?", ":",")+") ",e!==p.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?_.fromString(e):_.fromObject(e)}static fromObject(e){if(_.isFunctionFragment(e))return e;"function"!==e.type&&a.throwArgumentError("invalid function object","value",e);let t=A(e),r={type:e.type,name:P(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(m.fromObject):[],outputs:e.outputs?e.outputs.map(m.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?n.O$.from(e.gas):null};return new _(l,r)}static fromString(e){let t={type:"function"},r=(e=w(e,t)).split(" returns ");r.length>2&&a.throwArgumentError("invalid function string","value",e);let n=r[0].match(C);if(n||a.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&P(t.name),t.inputs=y(n[2],!1),E(n[3].trim(),t),r.length>1){let i=r[1].match(C);(""!=i[1].trim()||""!=i[3].trim())&&a.throwArgumentError("unexpected tokens","value",e),t.outputs=y(i[2],!1)}else t.outputs=[];return _.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function k(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&a.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class T extends v{format(e){if(e||(e=p.sighash),p[e]||a.throwArgumentError("invalid format type","format",e),e===p.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==p.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===p.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?T.fromString(e):T.fromObject(e)}static fromObject(e){if(T.isErrorFragment(e))return e;"error"!==e.type&&a.throwArgumentError("invalid error object","value",e);let t={type:e.type,name:P(e.name),inputs:e.inputs?e.inputs.map(m.fromObject):[]};return k(new T(l,t))}static fromString(e){let t={type:"error"},r=e.match(C);return r||a.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&P(t.name),t.inputs=y(r[2],!1),k(T.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function N(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let x=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function P(e){return e&&e.match(x)||a.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let C=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function R(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let o=e[i];","===o&&0===n?(t.push(r),r=""):(r+=o,"("===o?n++:")"===o&&-1==--n&&a.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t}},3893:function(e,t,r){"use strict";r.r(t),r.d(t,{AbiCoder:function(){return i.R},ConstructorFragment:function(){return n.Xg},ErrorFragment:function(){return n.IC},EventFragment:function(){return n.QV},FormatTypes:function(){return n.pc},Fragment:function(){return n.HY},FunctionFragment:function(){return n.YW},Indexed:function(){return o.Hk},Interface:function(){return o.vU},LogDescription:function(){return o.CC},ParamType:function(){return n._R},TransactionDescription:function(){return o.vk},checkResultErrors:function(){return s.BR},defaultAbiCoder:function(){return i.$}});var n=r(1388),i=r(4243),o=r(8198),s=r(1184)},8198:function(e,t,r){"use strict";r.d(t,{CC:function(){return p},Hk:function(){return y},vU:function(){return w},vk:function(){return g}});var n=r(9485),i=r(2593),o=r(6441),s=r(2046),a=r(8197),l=r(6881),u=r(4243),c=r(1388),h=r(1581),f=r(5851);let d=new h.Logger(f.i);class p extends l.Description{}class g extends l.Description{}class m extends l.Description{}class y extends l.Description{static isIndexed(e){return!!(e&&e._isIndexed)}}let v={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function b(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class w{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,(0,l.defineReadOnly)(this,"fragments",t.map(e=>c.HY.from(e)).filter(e=>null!=e)),(0,l.defineReadOnly)(this,"_abiCoder",(0,l.getStatic)(new.target,"getAbiCoder")()),(0,l.defineReadOnly)(this,"functions",{}),(0,l.defineReadOnly)(this,"errors",{}),(0,l.defineReadOnly)(this,"events",{}),(0,l.defineReadOnly)(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy){d.warn("duplicate definition - constructor");return}(0,l.defineReadOnly)(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();if(t[r]){d.warn("duplicate definition - "+r);return}t[r]=e}),this.deploy||(0,l.defineReadOnly)(this,"deploy",c.Xg.from({payable:!1,type:"constructor"})),(0,l.defineReadOnly)(this,"_isInterface",!0)}format(e){e||(e=c.pc.full),e===c.pc.sighash&&d.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(t=>t.format(e));return e===c.pc.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return u.$}static getAddress(e){return(0,n.getAddress)(e)}static getSighash(e){return(0,o.hexDataSlice)((0,s.id)(e.format()),0,4)}static getEventTopic(e){return(0,s.id)(e.format())}getFunction(e){if((0,o.isHexString)(e)){for(let t in this.functions)if(e===this.getSighash(t))return this.functions[t];d.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){let r=e.trim(),n=Object.keys(this.functions).filter(e=>e.split("(")[0]===r);return 0===n.length?d.throwArgumentError("no matching function","name",r):n.length>1&&d.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}let i=this.functions[c.YW.fromString(e).format()];return i||d.throwArgumentError("no matching function","signature",e),i}getEvent(e){if((0,o.isHexString)(e)){let t=e.toLowerCase();for(let r in this.events)if(t===this.getEventTopic(r))return this.events[r];d.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){let n=e.trim(),i=Object.keys(this.events).filter(e=>e.split("(")[0]===n);return 0===i.length?d.throwArgumentError("no matching event","name",n):i.length>1&&d.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}let s=this.events[c.QV.fromString(e).format()];return s||d.throwArgumentError("no matching event","signature",e),s}getError(e){if((0,o.isHexString)(e)){let t=(0,l.getStatic)(this.constructor,"getSighash");for(let r in this.errors){let n=this.errors[r];if(e===t(n))return this.errors[r]}d.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){let i=e.trim(),s=Object.keys(this.errors).filter(e=>e.split("(")[0]===i);return 0===s.length?d.throwArgumentError("no matching error","name",i):s.length>1&&d.throwArgumentError("multiple matching errors","name",i),this.errors[s[0]]}let a=this.errors[c.YW.fromString(e).format()];return a||d.throwArgumentError("no matching error","signature",e),a}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch(t){throw r}}return(0,l.getStatic)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),(0,l.getStatic)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));let r=(0,o.arrayify)(t);return(0,o.hexlify)(r.slice(0,4))!==this.getSighash(e)&&d.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,o.hexlify)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),(0,o.hexlify)((0,o.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,o.arrayify)(t);return(0,o.hexlify)(r.slice(0,4))!==this.getSighash(e)&&d.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,o.hexlify)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,o.hexlify)((0,o.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,o.arrayify)(t),n=null,i="",s=null,a=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(u){}break;case 4:{let c=(0,o.hexlify)(r.slice(0,4)),f=v[c];if(f)s=this._abiCoder.decode(f.inputs,r.slice(4)),a=f.name,l=f.signature,f.reason&&(n=s[0]),"Error"===a?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:"Panic"===a&&(i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{let p=this.getError(c);s=this._abiCoder.decode(p.inputs,r.slice(4)),a=p.name,l=p.format()}catch(g){}}}return d.throwError("call revert exception"+i,h.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,o.hexlify)(t),errorArgs:s,errorName:a,errorSignature:l,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,o.hexlify)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&d.throwError("too many arguments for "+e.format(),h.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));let n=(e,t)=>"string"===e.type?(0,s.id)(t):"bytes"===e.type?(0,a.keccak256)((0,o.hexlify)(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=i.O$.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),(0,o.hexZeroPad)((0,o.hexlify)(t),32));for(t.forEach((t,i)=>{let o=e.inputs[i];if(!o.indexed){null!=t&&d.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,t);return}null==t?r.push(null):"array"===o.baseType||"tuple"===o.baseType?d.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,t):Array.isArray(t)?r.push(t.map(e=>n(o,e))):r.push(n(o,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));let r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&d.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,o)=>{let l=t[o];if(e.indexed){if("string"===e.type)r.push((0,s.id)(l));else if("bytes"===e.type)r.push((0,a.keccak256)(l));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this._abiCoder.encode([e.type],[l]))}else n.push(e),i.push(l)}),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let n=this.getEventTopic(e);(0,o.isHexString)(r[0],32)&&r[0].toLowerCase()===n||d.throwError("fragment/topic mismatch",h.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(c._R.fromObject({type:"bytes32",name:e.name})),a.push(!0)):(i.push(e),a.push(!1)):(s.push(e),a.push(!1))});let l=null!=r?this._abiCoder.decode(i,(0,o.concat)(r)):null,u=this._abiCoder.decode(s,t,!0),f=[],p=0,g=0;e.inputs.forEach((e,t)=>{if(e.indexed){if(null==l)f[t]=new y({_isIndexed:!0,hash:null});else if(a[t])f[t]=new y({_isIndexed:!0,hash:l[g++]});else try{f[t]=l[g++]}catch(r){f[t]=r}}else try{f[t]=u[p++]}catch(n){f[t]=n}if(e.name&&null==f[e.name]){let i=f[t];i instanceof Error?Object.defineProperty(f,e.name,{enumerable:!0,get(){throw b(`property ${JSON.stringify(e.name)}`,i)}}):f[e.name]=i}});for(let m=0;m<f.length;m++){let v=f[m];v instanceof Error&&Object.defineProperty(f,m,{enumerable:!0,get(){throw b(`index ${m}`,v)}})}return Object.freeze(f)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new g({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:i.O$.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new p({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){let t=(0,o.hexlify)(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new m({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}},1556:function(e,t,r){"use strict";r.d(t,{Sg:function(){return u},zt:function(){return c}});var n=r(2593),i=r(6881),o=r(1581);let s="abstract-provider/5.6.1";var a=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let l=new o.Logger(s);class u extends i.Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class c{constructor(){l.checkAbstract(new.target,c),(0,i.defineReadOnly)(this,"_isProvider",!0)}getFeeData(){return a(this,void 0,void 0,function*(){let{block:e,gasPrice:t}=yield(0,i.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,o=null;return e&&e.baseFeePerGas&&(o=n.O$.from("1500000000"),r=e.baseFeePerGas.mul(2).add(o)),{maxFeePerGas:r,maxPriorityFeePerGas:o,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}},8088:function(e,t,r){"use strict";r.d(t,{E:function(){return c},b:function(){return h}});var n=r(6881),i=r(1581);let o="abstract-signer/5.6.2";var s=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let a=new i.Logger(o),l=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],u=[i.Logger.errors.INSUFFICIENT_FUNDS,i.Logger.errors.NONCE_EXPIRED,i.Logger.errors.REPLACEMENT_UNDERPRICED];class c{constructor(){a.checkAbstract(new.target,c),(0,n.defineReadOnly)(this,"_isSigner",!0)}getBalance(e){return s(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return s(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return s(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield(0,n.resolveProperties)(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return s(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield(0,n.resolveProperties)(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return s(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return s(this,void 0,void 0,function*(){this._checkProvider("getChainId");let e=yield this.provider.getNetwork();return e.chainId})}getGasPrice(){return s(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return s(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return s(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===l.indexOf(t)&&a.throwArgumentError("invalid transaction key: "+t,"transaction",e);let r=(0,n.shallowCopy)(e);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&a.throwArgumentError("from address mismatch","transaction",e),t[0])),r}populateTransaction(e){return s(this,void 0,void 0,function*(){let t=yield(0,n.resolveProperties)(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>s(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&a.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?a.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&a.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let o=yield this.getFeeData();if(null==t.type){if(null!=o.maxFeePerGas&&null!=o.maxPriorityFeePerGas){if(t.type=2,null!=t.gasPrice){let l=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=l,t.maxPriorityFeePerGas=l}else null==t.maxFeePerGas&&(t.maxFeePerGas=o.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas)}else null!=o.gasPrice?(r&&a.throwError("network does not support EIP-1559",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=o.gasPrice),t.type=0):a.throwError("failed to get consistent fee data",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=o.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(u.indexOf(e.code)>=0)throw e;return a.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",i.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&a.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield(0,n.resolveProperties)(t)})}_checkProvider(e){this.provider||a.throwError("missing provider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class h extends c{constructor(e,t){super(),(0,n.defineReadOnly)(this,"address",e),(0,n.defineReadOnly)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{a.throwError(e,i.Logger.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new h(this.address,e)}}},9485:function(e,t,r){"use strict";r.r(t),r.d(t,{getAddress:function(){return v},getContractAddress:function(){return E},getCreate2Address:function(){return A},getIcapAddress:function(){return w},isAddress:function(){return b}});var n=r(6441),i=r(2593),o=r(8197),s=r(9052),a=r(1581);let l="address/5.6.1",u=new a.Logger(l);function c(e){(0,n.isHexString)(e,20)||u.throwArgumentError("invalid address","address",e),e=e.toLowerCase();let t=e.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);let s=(0,n.arrayify)((0,o.keccak256)(r));for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&s[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}let h=9007199254740991;function f(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}let d={};for(let p=0;p<10;p++)d[String(p)]=String(p);for(let g=0;g<26;g++)d[String.fromCharCode(65+g)]=String(10+g);let m=Math.floor(f(h));function y(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>d[e]).join("");for(;t.length>=m;){let r=t.substring(0,m);t=parseInt(r,10)%97+t.substring(r.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}function v(e){let t=null;if("string"!=typeof e&&u.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=c(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&u.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==y(e)&&u.throwArgumentError("bad icap checksum","address",e),t=(0,i.g$)(e.substring(4));t.length<40;)t="0"+t;t=c("0x"+t)}else u.throwArgumentError("invalid address","address",e);return t}function b(e){try{return v(e),!0}catch(t){}return!1}function w(e){let t=(0,i.t2)(v(e).substring(2)).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+y("XE00"+t)+t}function E(e){let t=null;try{t=v(e.from)}catch(r){u.throwArgumentError("missing from address","transaction",e)}let a=(0,n.stripZeros)((0,n.arrayify)(i.O$.from(e.nonce).toHexString()));return v((0,n.hexDataSlice)((0,o.keccak256)((0,s.encode)([t,a])),12))}function A(e,t,r){return 32!==(0,n.hexDataLength)(t)&&u.throwArgumentError("salt must be 32 bytes","salt",t),32!==(0,n.hexDataLength)(r)&&u.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),v((0,n.hexDataSlice)((0,o.keccak256)((0,n.concat)(["0xff",v(e),t,r])),12))}},6674:function(e,t,r){"use strict";var n,i,o,s;r.d(t,{J:function(){return k},c:function(){return T}});let a="logger/5.7.0",l=!1,u=!1,c={debug:1,default:2,info:2,warning:3,error:4,off:5},h=c.default,f=null;function d(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(t){return t.message}return null}let p=d();(o=n||(n={})).DEBUG="DEBUG",o.INFO="INFO",o.WARNING="WARNING",o.ERROR="ERROR",o.OFF="OFF",(s=i||(i={})).UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.SERVER_ERROR="SERVER_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.CALL_EXCEPTION="CALL_EXCEPTION",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s.NONCE_EXPIRED="NONCE_EXPIRED",s.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",s.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",s.TRANSACTION_REPLACED="TRANSACTION_REPLACED",s.ACTION_REJECTED="ACTION_REJECTED";let g="0123456789abcdef";class m{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==c[r]&&this.throwArgumentError("invalid log level name","logLevel",e),h>c[r]||console.log.apply(console,t)}debug(...e){this._log(m.levels.DEBUG,e)}info(...e){this._log(m.levels.INFO,e)}warn(...e){this._log(m.levels.WARNING,e)}makeError(e,t,r){if(u)return this.makeError("censored error",t,{});t||(t=m.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let i="";for(let o=0;o<t.length;o++)i=g[t[o]>>4]+g[15&t[o]];n.push(e+"=Uint8Array(0x"+i+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let o=e,s="";switch(t){case i.NUMERIC_FAULT:{s="NUMERIC_FAULT";let a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":s+="-"+a;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case i.CALL_EXCEPTION:case i.INSUFFICIENT_FUNDS:case i.MISSING_NEW:case i.NONCE_EXPIRED:case i.REPLACEMENT_UNDERPRICED:case i.TRANSACTION_REPLACED:case i.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let l=Error(e);return l.reason=o,l.code=t,Object.keys(r).forEach(function(e){l[e]=r[e]}),l}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,m.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),p&&this.throwError("platform missing String.prototype.normalize",m.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,m.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,m.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,m.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,m.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",m.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",m.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",m.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return f||(f=new m(a)),f}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",m.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l){if(!e)return;this.globalLogger().throwError("error censorship permanent",m.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}u=!!e,l=!!t}static setLogLevel(e){let t=c[e.toLowerCase()];if(null==t){m.globalLogger().warn("invalid log level - "+e);return}h=t}static from(e){return new m(e)}}m.errors=i,m.levels=n;let y="bytes/5.7.0",v=new m(y);function b(e){return!!e.toHexString}function w(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return w(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function E(e){return"number"==typeof e&&e==e&&e%1==0}function A(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!E(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!E(r)||r<0||r>=256)return!1}return!0}function S(e,t){if(t||(t={}),"number"==typeof e){v.checkSafeUint53(e,"invalid arrayify value");let r=[];for(;e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),w(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),b(e)&&(e=e.toHexString()),_(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":v.throwArgumentError("hex data is odd-length","value",e));let i=[];for(let o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return w(new Uint8Array(i))}return A(e)?w(new Uint8Array(e)):v.throwArgumentError("invalid arrayify value","value",e)}function _(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}function k(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return S(t)}function T(e){e=S(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}},7727:function(e,t,r){"use strict";r.r(t),r.d(t,{Base32:function(){return s},Base58:function(){return a},BaseX:function(){return o}});var n=r(6441),i=r(6881);class o{constructor(e){(0,i.defineReadOnly)(this,"alphabet",e),(0,i.defineReadOnly)(this,"base",e.length),(0,i.defineReadOnly)(this,"_alphabetMap",{}),(0,i.defineReadOnly)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=(0,n.arrayify)(e);if(0===t.length)return"";let r=[0];for(let i=0;i<t.length;++i){let o=t[i];for(let s=0;s<r.length;++s)o+=r[s]<<8,r[s]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let a="";for(let l=0;0===t[l]&&l<t.length-1;++l)a+=this._leader;for(let u=r.length-1;u>=0;--u)a+=this.alphabet[r[u]];return a}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(void 0===i)throw Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<t.length;++s)o+=t[s]*this.base,t[s]=255&o,o>>=8;for(;o>0;)t.push(255&o),o>>=8}for(let a=0;e[a]===this._leader&&a<e.length-1;++a)t.push(0);return(0,n.arrayify)(new Uint8Array(t.reverse()))}}let s=new o("abcdefghijklmnopqrstuvwxyz234567"),a=new o("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8794:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n="bignumber/5.6.2"},2593:function(e,t,r){"use strict";r.d(t,{O$:function(){return p},Zm:function(){return f},g$:function(){return b},t2:function(){return w}});var n=r(3550),i=r.n(n),o=r(6441),s=r(1581),a=r(8794),l=i().BN;let u=new s.Logger(a.i),c={},h=9007199254740991;function f(e){return null!=e&&(p.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||(0,o.isHexString)(e)||"bigint"==typeof e||(0,o.isBytes)(e))}let d=!1;class p{constructor(e,t){e!==c&&u.throwError("cannot call constructor directly; use BigNumber.from",s.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return m(y(this).fromTwos(e))}toTwos(e){return m(y(this).toTwos(e))}abs(){return"-"===this._hex[0]?p.from(this._hex.substring(1)):this}add(e){return m(y(this).add(y(e)))}sub(e){return m(y(this).sub(y(e)))}div(e){let t=p.from(e);return t.isZero()&&v("division-by-zero","div"),m(y(this).div(y(e)))}mul(e){return m(y(this).mul(y(e)))}mod(e){let t=y(e);return t.isNeg()&&v("division-by-zero","mod"),m(y(this).umod(t))}pow(e){let t=y(e);return t.isNeg()&&v("negative-power","pow"),m(y(this).pow(t))}and(e){let t=y(e);return(this.isNegative()||t.isNeg())&&v("unbound-bitwise-result","and"),m(y(this).and(t))}or(e){let t=y(e);return(this.isNegative()||t.isNeg())&&v("unbound-bitwise-result","or"),m(y(this).or(t))}xor(e){let t=y(e);return(this.isNegative()||t.isNeg())&&v("unbound-bitwise-result","xor"),m(y(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&v("negative-width","mask"),m(y(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&v("negative-width","shl"),m(y(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&v("negative-width","shr"),m(y(this).shrn(e))}eq(e){return y(this).eq(y(e))}lt(e){return y(this).lt(y(e))}lte(e){return y(this).lte(y(e))}gt(e){return y(this).gt(y(e))}gte(e){return y(this).gte(y(e))}isNegative(){return"-"===this._hex[0]}isZero(){return y(this).isZero()}toNumber(){try{return y(this).toNumber()}catch(e){v("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return u.throwError("this platform does not support BigInt",s.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?d||(d=!0,u.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?u.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",s.Logger.errors.UNEXPECTED_ARGUMENT,{}):u.throwError("BigNumber.toString does not accept parameters",s.Logger.errors.UNEXPECTED_ARGUMENT,{})),y(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof p)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new p(c,g(e)):e.match(/^-?[0-9]+$/)?new p(c,g(new l(e))):u.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&v("underflow","BigNumber.from",e),(e>=h||e<=-h)&&v("overflow","BigNumber.from",e),p.from(String(e));let t=e;if("bigint"==typeof t)return p.from(t.toString());if((0,o.isBytes)(t))return p.from((0,o.hexlify)(t));if(t){if(t.toHexString){let r=t.toHexString();if("string"==typeof r)return p.from(r)}else{let n=t._hex;if(null==n&&"BigNumber"===t.type&&(n=t.hex),"string"==typeof n&&((0,o.isHexString)(n)||"-"===n[0]&&(0,o.isHexString)(n.substring(1))))return p.from(n)}}return u.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function g(e){if("string"!=typeof e)return g(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&u.throwArgumentError("invalid hex","value",e),"0x00"===(e=g(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function m(e){return p.from(g(e))}function y(e){let t=p.from(e).toHexString();return"-"===t[0]?new l("-"+t.substring(3),16):new l(t.substring(2),16)}function v(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),u.throwError(e,s.Logger.errors.NUMERIC_FAULT,n)}function b(e){return new l(e,36).toString(16)}function w(e){return new l(e,16).toString(36)}},335:function(e,t,r){"use strict";r.d(t,{Ox:function(){return g},S5:function(){return p},xs:function(){return y}});var n=r(6441),i=r(1581),o=r(8794),s=r(2593);let a=new i.Logger(o.i),l={},u=s.O$.from(0),c=s.O$.from(-1);function h(e,t,r,n){let o={fault:t,operation:r};return void 0!==n&&(o.value=n),a.throwError(e,i.Logger.errors.NUMERIC_FAULT,o)}let f="0";for(;f.length<256;)f+=f;function d(e){if("number"!=typeof e)try{e=s.O$.from(e).toNumber()}catch(t){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+f.substring(0,e):a.throwArgumentError("invalid decimal size","decimals",e)}function p(e,t){null==t&&(t=0);let r=d(t);e=s.O$.from(e);let n=e.lt(u);n&&(e=e.mul(c));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];let o=e.div(r).toString();return e=1===r.length?o:o+"."+i,n&&(e="-"+e),e}function g(e,t){null==t&&(t=0);let r=d(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||a.throwArgumentError("invalid decimal value","value",e);let n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&a.throwArgumentError("missing value","value",e);let i=e.split(".");i.length>2&&a.throwArgumentError("too many decimal points","value",e);let o=i[0],l=i[1];for(o||(o="0"),l||(l="0");"0"===l[l.length-1];)l=l.substring(0,l.length-1);for(l.length>r.length-1&&h("fractional component exceeds decimals","underflow","parseFixed"),""===l&&(l="0");l.length<r.length-1;)l+="0";let u=s.O$.from(o),f=s.O$.from(l),p=u.mul(r).add(f);return n&&(p=p.mul(c)),p}class m{constructor(e,t,r,n){e!==l&&a.throwError("cannot use FixedFormat constructor; use FixedFormat.from",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=d(n),Object.freeze(this)}static from(e){if(e instanceof m)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e){if("fixed"===e);else if("ufixed"===e)t=!1;else{let i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||a.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}}else if(e){let o=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&a.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=o("signed","boolean",t),r=o("width","number",r),n=o("decimals","number",n)}return r%8&&a.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&a.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new m(l,t,r,n)}}class y{constructor(e,t,r,n){e!==l&&a.throwError("cannot use FixedNumber constructor; use FixedNumber.from",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&a.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=g(this._value,this.format.decimals),r=g(e._value,e.format.decimals);return y.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=g(this._value,this.format.decimals),r=g(e._value,e.format.decimals);return y.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=g(this._value,this.format.decimals),r=g(e._value,e.format.decimals);return y.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=g(this._value,this.format.decimals),r=g(e._value,e.format.decimals);return y.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=y.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(v.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=y.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(v.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&a.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=y.from("1"+f.substring(0,e),this.format),n=b.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&a.throwArgumentError("invalid byte width","width",e);let t=s.O$.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,n.hexZeroPad)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return y.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||(0,s.Zm)(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),y.fromString(p(e,t),m.from(r))}static fromString(e,t){null==t&&(t="fixed");let r=m.from(t),i=g(e,r.decimals);!r.signed&&i.lt(u)&&h("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=i.toTwos(r.width).toHexString():(o=i.toHexString(),o=(0,n.hexZeroPad)(o,r.width/8));let s=p(i,r.decimals);return new y(l,o,s,r)}static fromBytes(e,t){null==t&&(t="fixed");let r=m.from(t);if((0,n.arrayify)(e).length>r.width/8)throw Error("overflow");let i=s.O$.from(e);r.signed&&(i=i.fromTwos(r.width));let o=i.toTwos((r.signed?0:1)+r.width).toHexString(),a=p(i,r.decimals);return new y(l,o,a,r)}static from(e,t){if("string"==typeof e)return y.fromString(e,t);if((0,n.isBytes)(e))return y.fromBytes(e,t);try{return y.fromValue(e,0,t)}catch(r){if(r.code!==i.Logger.errors.INVALID_ARGUMENT)throw r}return a.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let v=y.from(1),b=y.from("0.5")},6441:function(e,t,r){"use strict";r.r(t),r.d(t,{arrayify:function(){return h},concat:function(){return f},hexConcat:function(){return w},hexDataLength:function(){return v},hexDataSlice:function(){return b},hexStripZeros:function(){return A},hexValue:function(){return E},hexZeroPad:function(){return S},hexlify:function(){return y},isBytes:function(){return c},isBytesLike:function(){return l},isHexString:function(){return g},joinSignature:function(){return k},splitSignature:function(){return _},stripZeros:function(){return d},zeroPad:function(){return p}});var n=r(1581);let i="bytes/5.6.1",o=new n.Logger(i);function s(e){return!!e.toHexString}function a(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return a(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function l(e){return g(e)&&!(e.length%2)||c(e)}function u(e){return"number"==typeof e&&e==e&&e%1==0}function c(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!u(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!u(r)||r<0||r>=256)return!1}return!0}function h(e,t){if(t||(t={}),"number"==typeof e){o.checkSafeUint53(e,"invalid arrayify value");let r=[];for(;e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),a(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),s(e)&&(e=e.toHexString()),g(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":o.throwArgumentError("hex data is odd-length","value",e));let i=[];for(let l=0;l<n.length;l+=2)i.push(parseInt(n.substring(l,l+2),16));return a(new Uint8Array(i))}return c(e)?a(new Uint8Array(e)):o.throwArgumentError("invalid arrayify value","value",e)}function f(e){let t=e.map(e=>h(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),a(n)}function d(e){let t=h(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function p(e,t){(e=h(e)).length>t&&o.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),a(r)}function g(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let m="0123456789abcdef";function y(e,t){if(t||(t={}),"number"==typeof e){o.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=m[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),s(e))return e.toHexString();if(g(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":o.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(c(e)){let n="0x";for(let i=0;i<e.length;i++){let a=e[i];n+=m[(240&a)>>4]+m[15&a]}return n}return o.throwArgumentError("invalid hexlify value","value",e)}function v(e){if("string"!=typeof e)e=y(e);else if(!g(e)||e.length%2)return null;return(e.length-2)/2}function b(e,t,r){return("string"!=typeof e?e=y(e):(!g(e)||e.length%2)&&o.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function w(e){let t="0x";return e.forEach(e=>{t+=y(e).substring(2)}),t}function E(e){let t=A(y(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function A(e){"string"!=typeof e&&(e=y(e)),g(e)||o.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function S(e,t){for("string"!=typeof e?e=y(e):g(e)||o.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&o.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function _(e){let t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(l(e)){let r=h(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=y(r.slice(0,32)),t.s=y(r.slice(32,64))):65===r.length?(t.r=y(r.slice(0,32)),t.s=y(r.slice(32,64)),t.v=r[64]):o.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:o.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=y(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){let n=p(h(t._vs),32);t._vs=y(n);let i=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&o.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;let s=y(n);null==t.s?t.s=s:t.s!==s&&o.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?o.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{let a=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==a&&o.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&g(t.r)?t.r=S(t.r,32):o.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&g(t.s)?t.s=S(t.s,32):o.throwArgumentError("signature missing or invalid s","signature",e);let u=h(t.s);u[0]>=128&&o.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(u[0]|=128);let c=y(u);t._vs&&(g(t._vs)||o.throwArgumentError("signature invalid _vs","signature",e),t._vs=S(t._vs,32)),null==t._vs?t._vs=c:t._vs!==c&&o.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function k(e){return y(f([(e=_(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},9279:function(e,t,r){"use strict";r.d(t,{d:function(){return n}});let n="0x0000000000000000000000000000000000000000"},1046:function(e,t,r){"use strict";r.d(t,{$B:function(){return c},Bz:function(){return u},Ce:function(){return l},PS:function(){return h},Py:function(){return a},_Y:function(){return o},fh:function(){return s},tL:function(){return i}});var n=r(2593);let i=n.O$.from(-1),o=n.O$.from(0),s=n.O$.from(1),a=n.O$.from(2),l=n.O$.from("1000000000000000000"),u=n.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),c=n.O$.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),h=n.O$.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},7218:function(e,t,r){"use strict";r.d(t,{R:function(){return n}});let n="0x0000000000000000000000000000000000000000000000000000000000000000"},4146:function(e,t,r){"use strict";r.d(t,{VZ:function(){return R},CH:function(){return I},lV:function(){return O}});var n=r(1184),i=r(8198),o=r(1556),s=r(8088),a=r(9485),l=r(2593),u=r(6441),c=r(6881),h=r(3875),f=r(1581);let d="contracts/5.6.2";var p=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let g=new f.Logger(d),m={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function y(e,t){return p(this,void 0,void 0,function*(){let r=yield t;"string"!=typeof r&&g.throwArgumentError("invalid address or ENS name","name",r);try{return(0,a.getAddress)(r)}catch(n){}e||g.throwError("a provider or signer is needed to resolve ENS names",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let i=yield e.resolveName(r);return null==i&&g.throwArgumentError("resolver or addr is not configured for ENS name","name",r),i})}function v(e,t,r){return p(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((r,n)=>v(e,Array.isArray(t)?t[n]:t[r.name],r))):"address"===r.type?yield y(e,t):"tuple"===r.type?yield v(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map(t=>v(e,t,r.arrayChildren))):Promise.reject(g.makeError("invalid value for array",f.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function b(e,t,r){return p(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=(0,c.shallowCopy)(r.pop())),g.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=(0,c.resolveProperties)({override:y(e.signer,n.from),signer:e.signer.getAddress()}).then(e=>p(this,void 0,void 0,function*(){return(0,a.getAddress)(e.signer)!==e.override&&g.throwError("Contract with a Signer cannot override from",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):n.from=e.signer.getAddress():n.from&&(n.from=y(e.provider,n.from));let i=yield(0,c.resolveProperties)({args:v(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:(0,c.resolveProperties)(n)||{}}),o=e.interface.encodeFunctionData(t,i.args),s={data:o,to:i.address},d=i.overrides;if(null!=d.nonce&&(s.nonce=l.O$.from(d.nonce).toNumber()),null!=d.gasLimit&&(s.gasLimit=l.O$.from(d.gasLimit)),null!=d.gasPrice&&(s.gasPrice=l.O$.from(d.gasPrice)),null!=d.maxFeePerGas&&(s.maxFeePerGas=l.O$.from(d.maxFeePerGas)),null!=d.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=l.O$.from(d.maxPriorityFeePerGas)),null!=d.from&&(s.from=d.from),null!=d.type&&(s.type=d.type),null!=d.accessList&&(s.accessList=(0,h.accessListify)(d.accessList)),null==s.gasLimit&&null!=t.gas){let m=21e3,b=(0,u.arrayify)(o);for(let w=0;w<b.length;w++)m+=4,b[w]&&(m+=64);s.gasLimit=l.O$.from(t.gas).add(m)}if(d.value){let E=l.O$.from(d.value);E.isZero()||t.payable||g.throwError("non-payable method cannot override value",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=E}d.customData&&(s.customData=(0,c.shallowCopy)(d.customData)),d.ccipReadEnabled&&(s.ccipReadEnabled=!!d.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;let A=Object.keys(n).filter(e=>null!=n[e]);return A.length&&g.throwError(`cannot override ${A.map(e=>JSON.stringify(e)).join(",")}`,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:A}),s})}function w(e,t){return function(...r){return b(e,t,r)}}function E(e,t){let r=e.signer||e.provider;return function(...n){return p(this,void 0,void 0,function*(){r||g.throwError("estimate require a provider or signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let i=yield b(e,t,n);return yield r.estimateGas(i)})}}function A(e,t){let r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let n=(0,c.deepCopy)(r),i=null;try{i=e.interface.parseLog(r)}catch(o){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t))}function S(e,t,r){let n=e.signer||e.provider;return function(...i){return p(this,void 0,void 0,function*(){let o;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){let s=(0,c.shallowCopy)(i.pop());null!=s.blockTag&&(o=yield s.blockTag),delete s.blockTag,i.push(s)}null!=e.deployTransaction&&(yield e._deployed(o));let a=yield b(e,t,i),l=yield n.call(a,o);try{let u=e.interface.decodeFunctionResult(t,l);return r&&1===t.outputs.length&&(u=u[0]),u}catch(h){throw h.code===f.Logger.errors.CALL_EXCEPTION&&(h.address=e.address,h.args=i,h.transaction=a),h}})}}function _(e,t){return function(...r){return p(this,void 0,void 0,function*(){e.signer||g.throwError("sending a transaction requires a signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());let n=yield b(e,t,r),i=yield e.signer.sendTransaction(n);return A(e,i),i})}}function k(e,t,r){return t.constant?S(e,t,r):_(e,t)}function T(e){return e.address&&(null==e.topics||0===e.topics.length)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class N{constructor(e,t){(0,c.defineReadOnly)(this,"tag",e),(0,c.defineReadOnly)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!!t||r.listener!==e||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class x extends N{constructor(){super("error",null)}}class P extends N{constructor(e,t,r,n){let i={address:e},o=t.getEventTopic(r);n?(o!==n[0]&&g.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(T(i),i),(0,c.defineReadOnly)(this,"address",e),(0,c.defineReadOnly)(this,"interface",t),(0,c.defineReadOnly)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let t=(0,n.BR)(e.args);if(t.length)throw t[0].error;let r=(e.args||[]).slice();return r.push(e),r}}class C extends N{constructor(e,t){super("*",{address:e}),(0,c.defineReadOnly)(this,"address",e),(0,c.defineReadOnly)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(r){}}}class R{constructor(e,t,r){(0,c.defineReadOnly)(this,"interface",(0,c.getStatic)(new.target,"getInterface")(t)),null==r?((0,c.defineReadOnly)(this,"provider",null),(0,c.defineReadOnly)(this,"signer",null)):s.E.isSigner(r)?((0,c.defineReadOnly)(this,"provider",r.provider||null),(0,c.defineReadOnly)(this,"signer",r)):o.zt.isProvider(r)?((0,c.defineReadOnly)(this,"provider",r),(0,c.defineReadOnly)(this,"signer",null)):g.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,c.defineReadOnly)(this,"callStatic",{}),(0,c.defineReadOnly)(this,"estimateGas",{}),(0,c.defineReadOnly)(this,"functions",{}),(0,c.defineReadOnly)(this,"populateTransaction",{}),(0,c.defineReadOnly)(this,"filters",{});{let n={};Object.keys(this.interface.events).forEach(e=>{let t=this.interface.events[e];(0,c.defineReadOnly)(this.filters,e,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(t,e)})),n[t.name]||(n[t.name]=[]),n[t.name].push(e)}),Object.keys(n).forEach(e=>{let t=n[e];1===t.length?(0,c.defineReadOnly)(this.filters,e,this.filters[t[0]]):g.warn(`Duplicate definition of ${e} (${t.join(", ")})`)})}if((0,c.defineReadOnly)(this,"_runningEvents",{}),(0,c.defineReadOnly)(this,"_wrappedEmits",{}),null==e&&g.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,c.defineReadOnly)(this,"address",e),this.provider)(0,c.defineReadOnly)(this,"resolvedAddress",y(this.provider,e));else try{(0,c.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,a.getAddress)(e)))}catch(i){g.throwError("provider is required to use ENS name as contract address",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});let l={},u={};Object.keys(this.interface.functions).forEach(e=>{let t=this.interface.functions[e];if(u[e]){g.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);return}u[e]=!0;{let r=t.name;l[`%${r}`]||(l[`%${r}`]=[]),l[`%${r}`].push(e)}null==this[e]&&(0,c.defineReadOnly)(this,e,k(this,t,!0)),null==this.functions[e]&&(0,c.defineReadOnly)(this.functions,e,k(this,t,!1)),null==this.callStatic[e]&&(0,c.defineReadOnly)(this.callStatic,e,S(this,t,!0)),null==this.populateTransaction[e]&&(0,c.defineReadOnly)(this.populateTransaction,e,w(this,t)),null==this.estimateGas[e]&&(0,c.defineReadOnly)(this.estimateGas,e,E(this,t))}),Object.keys(l).forEach(e=>{let t=l[e];if(t.length>1)return;e=e.substring(1);let r=t[0];try{null==this[e]&&(0,c.defineReadOnly)(this,e,this[r])}catch(n){}null==this.functions[e]&&(0,c.defineReadOnly)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&(0,c.defineReadOnly)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&(0,c.defineReadOnly)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&(0,c.defineReadOnly)(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return(0,a.getContractAddress)(e)}static getInterface(e){return i.vU.isInterface(e)?e:new i.vU(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&g.throwError("contract not deployed",f.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||g.throwError("sending a transactions require a signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=(0,c.shallowCopy)(e||{});return["from","to"].forEach(function(e){null!=t[e]&&g.throwError("cannot override "+e,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new s.b(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,c.defineReadOnly)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return i.Hk.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new x);if("event"===e)return this._normalizeRunningEvent(new N("event",null));if("*"===e)return this._normalizeRunningEvent(new C(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new P(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let r=e.topics[0];if("string"!=typeof r)throw Error("invalid topic");let n=this.interface.getEvent(r);return this._normalizeRunningEvent(new P(this.address,this.interface,n,e.topics))}catch(i){}let o={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new N(T(o),o))}return this._normalizeRunningEvent(new C(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){let n=(0,c.deepCopy)(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||g.throwError("events require a provider or a signer with a provider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let n=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{let i=e.getEmit(n);this.emit(e.filter,...i)}catch(o){n.decodeError=o.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,r){let n=this._getRunningEvent(e),i=(0,c.shallowCopy)(n.filter);return"string"==typeof t&&(0,u.isHexString)(t,32)?(null!=r&&g.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then(e=>e.map(e=>this._wrapEvent(n,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){let t=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(e=>{t.push(e)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(let t in this._runningEvents){let r=this._runningEvents[t];r.removeAllListeners(),this._checkRunningEvents(r)}return this}let n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,t){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class I extends R{}class O{constructor(e,t,r){let n=null;"0x"!==(n="string"==typeof t?t:(0,u.isBytes)(t)?(0,u.hexlify)(t):t&&"string"==typeof t.object?t.object:"!").substring(0,2)&&(n="0x"+n),(!(0,u.isHexString)(n)||n.length%2)&&g.throwArgumentError("invalid bytecode","bytecode",t),r&&!s.E.isSigner(r)&&g.throwArgumentError("invalid signer","signer",r),(0,c.defineReadOnly)(this,"bytecode",n),(0,c.defineReadOnly)(this,"interface",(0,c.getStatic)(new.target,"getInterface")(e)),(0,c.defineReadOnly)(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){for(let r in t=(0,c.shallowCopy)(e.pop()))if(!m[r])throw Error("unknown transaction override "+r)}if(["data","from","to"].forEach(e=>{null!=t[e]&&g.throwError("cannot override "+e,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.value){let n=l.O$.from(t.value);n.isZero()||this.interface.deploy.payable||g.throwError("non-payable constructor cannot override value",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}return g.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=(0,u.hexlify)((0,u.concat)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return p(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),g.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");let r=yield v(this.signer,e,this.interface.deploy.inputs);r.push(t);let n=this.getDeployTransaction(...r),i=yield this.signer.sendTransaction(n),o=(0,c.getStatic)(this.constructor,"getContractAddress")(i),s=(0,c.getStatic)(this.constructor,"getContract")(o,this.interface,this.signer);return A(s,i),(0,c.defineReadOnly)(s,"deployTransaction",i),s})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&g.throwError("missing compiler output",f.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}static getInterface(e){return I.getInterface(e)}static getContractAddress(e){return(0,a.getContractAddress)(e)}static getContract(e,t,r){return new I(e,t,r)}}},5644:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n="hash/5.6.1"},2046:function(e,t,r){"use strict";r.d(t,{id:function(){return o}});var n=r(8197),i=r(9251);function o(e){return(0,n.keccak256)((0,i.Y0)(e))}},5931:function(e,t,r){"use strict";r.r(t),r.d(t,{_TypedDataEncoder:function(){return s.E},dnsEncode:function(){return i.Kn},hashMessage:function(){return o.r},id:function(){return n.id},isValidName:function(){return i.r1},messagePrefix:function(){return o.B},namehash:function(){return i.VM}});var n=r(2046),i=r(4706),o=r(3684),s=r(7827)},3684:function(e,t,r){"use strict";r.d(t,{B:function(){return s},r:function(){return a}});var n=r(6441),i=r(8197),o=r(9251);let s="\x19Ethereum Signed Message:\n";function a(e){return"string"==typeof e&&(e=(0,o.Y0)(e)),(0,i.keccak256)((0,n.concat)([(0,o.Y0)(s),(0,o.Y0)(String(e.length)),e]))}},4706:function(e,t,r){"use strict";r.d(t,{Kn:function(){return p},VM:function(){return d},r1:function(){return f}});var n=r(6441),i=r(5637),o=r(9251),s=r(8197),a=r(1581),l=r(5644);let u=new a.Logger(l.i),c=new Uint8Array(32);c.fill(0);let h=RegExp("^((.*)\\.)?([^.]+)$");function f(e){try{let t=e.split(".");for(let r=0;r<t.length;r++)if(0===(0,i.Ll)(t[r]).length)throw Error("empty");return!0}catch(n){}return!1}function d(e){"string"!=typeof e&&u.throwArgumentError("invalid ENS name; not a string","name",e);let t=e,r=c;for(;t.length;){let a=t.match(h);(null==a||""===a[2])&&u.throwArgumentError("invalid ENS address; missing component","name",e);let l=(0,o.Y0)((0,i.Ll)(a[3]));r=(0,s.keccak256)((0,n.concat)([r,(0,s.keccak256)(l)])),t=a[2]||""}return(0,n.hexlify)(r)}function p(e){return(0,n.hexlify)((0,n.concat)(e.split(".").map(e=>{let t=(0,o.Y0)("_"+(0,i.Ll)(e));return t[0]=t.length-1,t})))+"00"}},7827:function(e,t,r){"use strict";r.d(t,{E:function(){return N}});var n=r(9485),i=r(2593),o=r(6441),s=r(8197),a=r(6881),l=r(1581),u=r(5644),c=r(2046),h=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let f=new l.Logger(u.i),d=new Uint8Array(32);d.fill(0);let p=i.O$.from(-1),g=i.O$.from(0),m=i.O$.from(1),y=i.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function v(e){let t=(0,o.arrayify)(e),r=t.length%32;return r?(0,o.hexConcat)([t,d.slice(r)]):(0,o.hexlify)(t)}let b=(0,o.hexZeroPad)(m.toHexString(),32),w=(0,o.hexZeroPad)(g.toHexString(),32),E={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},A=["name","version","chainId","verifyingContract","salt"];function S(e){return function(t){return"string"!=typeof t&&f.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let _={name:S("name"),version:S("version"),chainId:function(e){try{return i.O$.from(e).toString()}catch(t){}return f.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return(0,n.getAddress)(e).toLowerCase()}catch(t){}return f.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=(0,o.arrayify)(e);if(32!==t.length)throw Error("bad length");return(0,o.hexlify)(t)}catch(r){}return f.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function k(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],a=parseInt(t[2]||"256");(a%8!=0||a>256||t[2]&&t[2]!==String(a))&&f.throwArgumentError("invalid numeric width","type",e);let l=y.mask(r?a-1:a),u=r?l.add(m).mul(p):g;return function(t){let r=i.O$.from(t);return(r.lt(u)||r.gt(l))&&f.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),(0,o.hexZeroPad)(r.toTwos(256).toHexString(),32)}}}{let h=e.match(/^bytes(\d+)$/);if(h){let d=parseInt(h[1]);return(0===d||d>32||h[1]!==String(d))&&f.throwArgumentError("invalid bytes width","type",e),function(t){let r=(0,o.arrayify)(t);return r.length!==d&&f.throwArgumentError(`invalid length for ${e}`,"value",t),v(t)}}}switch(e){case"address":return function(e){return(0,o.hexZeroPad)((0,n.getAddress)(e),32)};case"bool":return function(e){return e?b:w};case"bytes":return function(e){return(0,s.keccak256)(e)};case"string":return function(e){return(0,c.id)(e)}}return null}function T(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class N{constructor(e){(0,a.defineReadOnly)(this,"types",Object.freeze((0,a.deepCopy)(e))),(0,a.defineReadOnly)(this,"_encoderCache",{}),(0,a.defineReadOnly)(this,"_types",{});let t={},r={},n={};for(let i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){let o={};e[i].forEach(n=>{o[n.name]&&f.throwArgumentError(`duplicate variable name ${JSON.stringify(n.name)} in ${JSON.stringify(i)}`,"types",e),o[n.name]=!0;let s=n.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&f.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);let a=k(s);a||(r[s]||f.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(i),t[i][s]=!0)})}let s=Object.keys(r).filter(e=>0===r[e].length);function l(i,o){o[i]&&f.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e),o[i]=!0,Object.keys(t[i]).forEach(e=>{r[e]&&(l(e,o),Object.keys(o).forEach(t=>{n[t][e]=!0}))}),delete o[i]}for(let u in 0===s.length?f.throwArgumentError("missing primary type","types",e):s.length>1&&f.throwArgumentError(`ambiguous primary types or unused types: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,a.defineReadOnly)(this,"primaryType",s[0]),l(this.primaryType,{}),n){let c=Object.keys(n[u]);c.sort(),this._types[u]=T(u,e[u])+c.map(t=>T(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=k(e);if(t)return t}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let n=r[1],i=this.getEncoder(n),a=parseInt(r[3]);return e=>{a>=0&&e.length!==a&&f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let t=e.map(i);return this._types[n]&&(t=t.map(s.keccak256)),(0,s.keccak256)((0,o.hexConcat)(t))}}let l=this.types[e];if(l){let u=(0,c.id)(this._types[e]);return e=>{let t=l.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this._types[r]?(0,s.keccak256)(n):n});return t.unshift(u),(0,o.hexConcat)(t)}}return f.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||f.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,s.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){{let n=k(e);if(n)return r(e,t)}let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let o=i[1],s=parseInt(i[3]);return s>=0&&t.length!==s&&f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(e=>this._visit(o,e,r))}let a=this.types[e];return a?a.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):f.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new N(e)}static getPrimaryType(e){return N.from(e).primaryType}static hashStruct(e,t,r){return N.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=E[r];n||f.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>A.indexOf(e.name)-A.indexOf(t.name)),N.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,o.hexConcat)(["0x1901",N.hashDomain(e),N.from(t).hash(r)])}static hash(e,t,r){return(0,s.keccak256)(N.encode(e,t,r))}static resolveNames(e,t,r,n){return h(this,void 0,void 0,function*(){e=(0,a.shallowCopy)(e);let i={};e.verifyingContract&&!(0,o.isHexString)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let s=N.from(t);for(let l in s.visit(r,(e,t)=>("address"!==e||(0,o.isHexString)(t,20)||(i[t]="0x"),t)),i)i[l]=yield n(l);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}})}static getPayload(e,t,r){N.hashDomain(e);let n={},s=[];A.forEach(t=>{let r=e[t];null!=r&&(n[t]=_[t](r),s.push({name:t,type:E[t]}))});let l=N.from(t),u=(0,a.shallowCopy)(t);return u.EIP712Domain?f.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):u.EIP712Domain=s,l.encode(r),{types:u,domain:n,primaryType:l.primaryType,message:l.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return(0,o.hexlify)((0,o.arrayify)(t));if(e.match(/^u?int/))return i.O$.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&f.throwArgumentError("invalid string","value",t),t}return f.throwArgumentError("unsupported type","type",e)})}}}},4178:function(e,t,r){"use strict";r.r(t),r.d(t,{HDNode:function(){return N},defaultPath:function(){return T},entropyToMnemonic:function(){return C},getAccountPath:function(){return I},isValidMnemonic:function(){return R},mnemonicToEntropy:function(){return P},mnemonicToSeed:function(){return x}});var n=r(7727),i=r(6441),o=r(2593),s=r(9251),a=r(5306),l=r(6881),u=r(7669),c=r(2006),h=r(1261),f=r(3875),d=r(234),p=r(1581);let g="hdnode/5.6.2",m=new p.Logger(g),y=o.O$.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),v=(0,s.Y0)("Bitcoin seed"),b=2147483648;function w(e){return(1<<e)-1<<8-e}function E(e){return(1<<e)-1}function A(e){return(0,i.hexZeroPad)((0,i.hexlify)(e),32)}function S(e){return n.Base58.encode((0,i.concat)([e,(0,i.hexDataSlice)((0,c.JQ)((0,c.JQ)(e)),0,4)]))}function _(e){if(null==e)return d.E.en;if("string"==typeof e){let t=d.E[e];return null==t&&m.throwArgumentError("unknown locale","wordlist",e),t}return e}let k={},T="m/44'/60'/0'/0/0";class N{constructor(e,t,r,n,o,s,a,h){if(e!==k)throw Error("HDNode constructor cannot be called directly");if(t){let d=new u.SigningKey(t);(0,l.defineReadOnly)(this,"privateKey",d.privateKey),(0,l.defineReadOnly)(this,"publicKey",d.compressedPublicKey)}else(0,l.defineReadOnly)(this,"privateKey",null),(0,l.defineReadOnly)(this,"publicKey",(0,i.hexlify)(r));(0,l.defineReadOnly)(this,"parentFingerprint",n),(0,l.defineReadOnly)(this,"fingerprint",(0,i.hexDataSlice)((0,c.bP)((0,c.JQ)(this.publicKey)),0,4)),(0,l.defineReadOnly)(this,"address",(0,f.computeAddress)(this.publicKey)),(0,l.defineReadOnly)(this,"chainCode",o),(0,l.defineReadOnly)(this,"index",s),(0,l.defineReadOnly)(this,"depth",a),null==h?((0,l.defineReadOnly)(this,"mnemonic",null),(0,l.defineReadOnly)(this,"path",null)):"string"==typeof h?((0,l.defineReadOnly)(this,"mnemonic",null),(0,l.defineReadOnly)(this,"path",h)):((0,l.defineReadOnly)(this,"mnemonic",h),(0,l.defineReadOnly)(this,"path",h.path))}get extendedKey(){if(this.depth>=256)throw Error("Depth too large!");return S((0,i.concat)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,i.hexlify)(this.depth),this.parentFingerprint,(0,i.hexZeroPad)((0,i.hexlify)(this.index),4),this.chainCode,null!=this.privateKey?(0,i.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new N(k,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~b));let r=new Uint8Array(37);if(e&b){if(!this.privateKey)throw Error("cannot derive child of neutered node");r.set((0,i.arrayify)(this.privateKey),1),t&&(t+="'")}else r.set((0,i.arrayify)(this.publicKey));for(let n=24;n>=0;n-=8)r[33+(n>>3)]=e>>24-n&255;let s=(0,i.arrayify)((0,c.Gy)(h.p.sha512,this.chainCode,r)),a=s.slice(0,32),l=s.slice(32),f=null,d=null;if(this.privateKey)f=A(o.O$.from(a).add(this.privateKey).mod(y));else{let p=new u.SigningKey((0,i.hexlify)(a));d=p._addPoint(this.publicKey)}let g=t,m=this.mnemonic;return m&&(g=Object.freeze({phrase:m.phrase,path:t,locale:m.locale||"en"})),new N(k,f,d,this.fingerprint,A(l),e,this.depth+1,g)}derivePath(e){let t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let n=0;n<t.length;n++){let i=t[n];if(i.match(/^[0-9]+'$/)){let o=parseInt(i.substring(0,i.length-1));if(o>=b)throw Error("invalid path index - "+i);r=r._derive(b+o)}else if(i.match(/^[0-9]+$/)){let s=parseInt(i);if(s>=b)throw Error("invalid path index - "+i);r=r._derive(s)}else throw Error("invalid path component - "+i)}return r}static _fromSeed(e,t){let r=(0,i.arrayify)(e);if(r.length<16||r.length>64)throw Error("invalid seed");let n=(0,i.arrayify)((0,c.Gy)(h.p.sha512,v,r));return new N(k,A(n.slice(0,32)),null,"0x00000000",A(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=C(P(e,r=_(r)),r),N._fromSeed(x(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return N._fromSeed(e,null)}static fromExtendedKey(e){let t=n.Base58.decode(e);(82!==t.length||S(t.slice(0,78))!==e)&&m.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let r=t[4],o=(0,i.hexlify)(t.slice(5,9)),s=parseInt((0,i.hexlify)(t.slice(9,13)).substring(2),16),a=(0,i.hexlify)(t.slice(13,45)),l=t.slice(45,78);switch((0,i.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new N(k,null,(0,i.hexlify)(l),o,a,s,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==l[0])break;return new N(k,(0,i.hexlify)(l.slice(1)),null,o,a,s,r,null)}return m.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function x(e,t){t||(t="");let r=(0,s.Y0)("mnemonic"+t,s.Uj.NFKD);return(0,a.n)((0,s.Y0)(e,s.Uj.NFKD),r,2048,64,"sha512")}function P(e,t){t=_(t),m.checkNormalize();let r=t.split(e);if(r.length%3!=0)throw Error("invalid mnemonic");let n=(0,i.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),o=0;for(let s=0;s<r.length;s++){let a=t.getWordIndex(r[s].normalize("NFKD"));if(-1===a)throw Error("invalid mnemonic");for(let l=0;l<11;l++)a&1<<10-l&&(n[o>>3]|=1<<7-o%8),o++}let u=32*r.length/3,h=r.length/3,f=w(h),d=(0,i.arrayify)((0,c.JQ)(n.slice(0,u/8)))[0]&f;if(d!==(n[n.length-1]&f))throw Error("invalid checksum");return(0,i.hexlify)(n.slice(0,u/8))}function C(e,t){if(t=_(t),(e=(0,i.arrayify)(e)).length%4!=0||e.length<16||e.length>32)throw Error("invalid entropy");let r=[0],n=11;for(let o=0;o<e.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[o]>>8-n,r.push(e[o]&E(8-n)),n+=3);let s=e.length/4,a=(0,i.arrayify)((0,c.JQ)(e))[0]&w(s);return r[r.length-1]<<=s,r[r.length-1]|=a>>8-s,t.join(r.map(e=>t.getWord(e)))}function R(e,t){try{return P(e,t),!0}catch(r){}return!1}function I(e){return("number"!=typeof e||e<0||e>=b||e%1)&&m.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}},9816:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n="json-wallets/5.6.1"},4341:function(e,t,r){"use strict";r.r(t),r.d(t,{decryptCrowdsale:function(){return m},decryptJsonWallet:function(){return b},decryptJsonWalletSync:function(){return w},decryptKeystore:function(){return v.pe},decryptKeystoreSync:function(){return v.hb},encryptKeystore:function(){return v.HI},getJsonWalletAddress:function(){return y.Rb},isCrowdsaleWallet:function(){return y.LW},isKeystoreWallet:function(){return y.aO}});var n=r(8826),i=r.n(n),o=r(9485),s=r(6441),a=r(8197),l=r(5306),u=r(9251),c=r(6881),h=r(1581),f=r(9816),d=r(7013);let p=new h.Logger(f.i);class g extends c.Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function m(e,t){let r=JSON.parse(e);t=(0,d.Ij)(t);let n=(0,o.getAddress)((0,d.gx)(r,"ethaddr")),c=(0,d.p3)((0,d.gx)(r,"encseed"));c&&c.length%16==0||p.throwArgumentError("invalid encseed","json",e);let h=(0,s.arrayify)((0,l.n)(t,t,2e3,32,"sha256")).slice(0,16),f=c.slice(0,16),m=c.slice(16),y=new(i()).ModeOfOperation.cbc(h,f),v=i().padding.pkcs7.strip((0,s.arrayify)(y.decrypt(m))),b="";for(let w=0;w<v.length;w++)b+=String.fromCharCode(v[w]);let E=(0,u.Y0)(b),A=(0,a.keccak256)(E);return new g({_isCrowdsaleAccount:!0,address:n,privateKey:A})}var y=r(7949),v=r(1964);function b(e,t,r){if((0,y.LW)(e)){r&&r(0);let n=m(e,t);return r&&r(1),Promise.resolve(n)}return(0,y.aO)(e)?(0,v.pe)(e,t,r):Promise.reject(Error("invalid JSON wallet"))}function w(e,t){if((0,y.LW)(e))return m(e,t);if((0,y.aO)(e))return(0,v.hb)(e,t);throw Error("invalid JSON wallet")}},7949:function(e,t,r){"use strict";r.d(t,{LW:function(){return i},Rb:function(){return s},aO:function(){return o}});var n=r(9485);function i(e){let t=null;try{t=JSON.parse(e)}catch(r){return!1}return t.encseed&&t.ethaddr}function o(e){let t=null;try{t=JSON.parse(e)}catch(r){return!1}return!!t.version&&parseInt(t.version)===t.version&&3===parseInt(t.version)}function s(e){if(i(e))try{return(0,n.getAddress)(JSON.parse(e).ethaddr)}catch(t){return null}if(o(e))try{return(0,n.getAddress)(JSON.parse(e).address)}catch(r){}return null}},1964:function(e,t,r){"use strict";r.d(t,{HI:function(){return P},hb:function(){return N},pe:function(){return x}});var n=r(8826),i=r.n(n),o=r(7635),s=r.n(o),a=r(9485),l=r(6441),u=r(4178),c=r(8197),h=r(5306),f=r(5634),d=r(6881),p=r(3875),g=r(7013),m=r(1581),y=r(9816),v=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let b=new m.Logger(y.i);function w(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class E extends d.Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function A(e,t,r){let n=(0,g.gx)(e,"crypto/cipher");if("aes-128-ctr"===n){let o=(0,g.p3)((0,g.gx)(e,"crypto/cipherparams/iv")),s=new(i()).Counter(o),a=new(i()).ModeOfOperation.ctr(t,s);return(0,l.arrayify)(a.decrypt(r))}return null}function S(e,t){let r=(0,g.p3)((0,g.gx)(e,"crypto/ciphertext")),n=(0,l.hexlify)((0,c.keccak256)((0,l.concat)([t.slice(16,32),r]))).substring(2);if(n!==(0,g.gx)(e,"crypto/mac").toLowerCase())throw Error("invalid password");let o=A(e,t.slice(0,16),r);o||b.throwError("unsupported cipher",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let s=t.slice(32,64),h=(0,p.computeAddress)(o);if(e.address){let f=e.address.toLowerCase();if("0x"!==f.substring(0,2)&&(f="0x"+f),(0,a.getAddress)(f)!==h)throw Error("address mismatch")}let d={_isKeystoreAccount:!0,address:h,privateKey:(0,l.hexlify)(o)};if("0.1"===(0,g.gx)(e,"x-ethers/version")){let y=(0,g.p3)((0,g.gx)(e,"x-ethers/mnemonicCiphertext")),v=(0,g.p3)((0,g.gx)(e,"x-ethers/mnemonicCounter")),w=new(i()).Counter(v),S=new(i()).ModeOfOperation.ctr(s,w),_=(0,g.gx)(e,"x-ethers/path")||u.defaultPath,k=(0,g.gx)(e,"x-ethers/locale")||"en",T=(0,l.arrayify)(S.decrypt(y));try{let N=(0,u.entropyToMnemonic)(T,k),x=u.HDNode.fromMnemonic(N,null,k).derivePath(_);if(x.privateKey!=d.privateKey)throw Error("mnemonic mismatch");d.mnemonic=x.mnemonic}catch(P){if(P.code!==m.Logger.errors.INVALID_ARGUMENT||"wordlist"!==P.argument)throw P}}return new E(d)}function _(e,t,r,n,i){return(0,l.arrayify)((0,h.n)(e,t,r,n,i))}function k(e,t,r,n,i){return Promise.resolve(_(e,t,r,n,i))}function T(e,t,r,n,i){let o=(0,g.Ij)(t),s=(0,g.gx)(e,"crypto/kdf");if(s&&"string"==typeof s){let a=function(e,t){return b.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){let l=(0,g.p3)((0,g.gx)(e,"crypto/kdfparams/salt")),u=parseInt((0,g.gx)(e,"crypto/kdfparams/n")),c=parseInt((0,g.gx)(e,"crypto/kdfparams/r")),h=parseInt((0,g.gx)(e,"crypto/kdfparams/p"));u&&c&&h||a("kdf",s),(u&u-1)!=0&&a("N",u);let f=parseInt((0,g.gx)(e,"crypto/kdfparams/dklen"));return 32!==f&&a("dklen",f),n(o,l,u,c,h,64,i)}if("pbkdf2"===s.toLowerCase()){let d=(0,g.p3)((0,g.gx)(e,"crypto/kdfparams/salt")),p=null,m=(0,g.gx)(e,"crypto/kdfparams/prf");"hmac-sha256"===m?p="sha256":"hmac-sha512"===m?p="sha512":a("prf",m);let y=parseInt((0,g.gx)(e,"crypto/kdfparams/c")),v=parseInt((0,g.gx)(e,"crypto/kdfparams/dklen"));return 32!==v&&a("dklen",v),r(o,d,y,v,p)}}return b.throwArgumentError("unsupported key-derivation function","kdf",s)}function N(e,t){let r=JSON.parse(e),n=T(r,t,_,s().syncScrypt);return S(r,n)}function x(e,t,r){return v(this,void 0,void 0,function*(){let n=JSON.parse(e),i=yield T(n,t,k,s().scrypt,r);return S(n,i)})}function P(e,t,r,n){try{if((0,a.getAddress)(e.address)!==(0,p.computeAddress)(e.privateKey))throw Error("address/privateKey mismatch");if(w(e)){let o=e.mnemonic,h=u.HDNode.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path||u.defaultPath);if(h.privateKey!=e.privateKey)throw Error("mnemonic mismatch")}}catch(d){return Promise.reject(d)}"function"!=typeof r||n||(n=r,r={}),r||(r={});let m=(0,l.arrayify)(e.privateKey),y=(0,g.Ij)(t),v=null,b=null,E=null;if(w(e)){let A=e.mnemonic;v=(0,l.arrayify)((0,u.mnemonicToEntropy)(A.phrase,A.locale||"en")),b=A.path||u.defaultPath,E=A.locale||"en"}let S=r.client;S||(S="ethers.js");let _=null;_=r.salt?(0,l.arrayify)(r.salt):(0,f.O)(32);let k=null;if(r.iv){if(16!==(k=(0,l.arrayify)(r.iv)).length)throw Error("invalid iv")}else k=(0,f.O)(16);let T=null;if(r.uuid){if(16!==(T=(0,l.arrayify)(r.uuid)).length)throw Error("invalid uuid")}else T=(0,f.O)(16);let N=131072,x=8,P=1;return r.scrypt&&(r.scrypt.N&&(N=r.scrypt.N),r.scrypt.r&&(x=r.scrypt.r),r.scrypt.p&&(P=r.scrypt.p)),s().scrypt(y,_,N,x,P,64,n).then(t=>{t=(0,l.arrayify)(t);let r=t.slice(0,16),n=t.slice(16,32),o=t.slice(32,64),s=new(i()).Counter(k),a=new(i()).ModeOfOperation.ctr(r,s),u=(0,l.arrayify)(a.encrypt(m)),h=(0,c.keccak256)((0,l.concat)([n,u])),d={address:e.address.substring(2).toLowerCase(),id:(0,g.EH)(T),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,l.hexlify)(k).substring(2)},ciphertext:(0,l.hexlify)(u).substring(2),kdf:"scrypt",kdfparams:{salt:(0,l.hexlify)(_).substring(2),n:N,dklen:32,p:P,r:x},mac:h.substring(2)}};if(v){let p=(0,f.O)(16),y=new(i()).Counter(p),w=new(i()).ModeOfOperation.ctr(o,y),A=(0,l.arrayify)(w.encrypt(v)),C=new Date,R=C.getUTCFullYear()+"-"+(0,g.VP)(C.getUTCMonth()+1,2)+"-"+(0,g.VP)(C.getUTCDate(),2)+"T"+(0,g.VP)(C.getUTCHours(),2)+"-"+(0,g.VP)(C.getUTCMinutes(),2)+"-"+(0,g.VP)(C.getUTCSeconds(),2)+".0Z";d["x-ethers"]={client:S,gethFilename:"UTC--"+R+"--"+d.address,mnemonicCounter:(0,l.hexlify)(p).substring(2),mnemonicCiphertext:(0,l.hexlify)(A).substring(2),path:b,locale:E,version:"0.1"}}return JSON.stringify(d)})}},7013:function(e,t,r){"use strict";r.d(t,{EH:function(){return u},Ij:function(){return a},VP:function(){return s},gx:function(){return l},p3:function(){return o}});var n=r(6441),i=r(9251);function o(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),(0,n.arrayify)(e)}function s(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function a(e){return"string"==typeof e?(0,i.Y0)(e,i.Uj.NFKC):(0,n.arrayify)(e)}function l(e,t){let r=e,n=t.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(let s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(null===o)return null;r=o}return r}function u(e){let t=(0,n.arrayify)(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=(0,n.hexlify)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}},8197:function(e,t,r){"use strict";r.r(t),r.d(t,{keccak256:function(){return s}});var n=r(1094),i=r.n(n),o=r(6441);function s(e){return"0x"+i().keccak_256((0,o.arrayify)(e))}},1581:function(e,t,r){"use strict";var n,i,o,s;r.r(t),r.d(t,{ErrorCode:function(){return i},LogLevel:function(){return n},Logger:function(){return m}});let a="logger/5.6.0",l=!1,u=!1,c={debug:1,default:2,info:2,warning:3,error:4,off:5},h=c.default,f=null;function d(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(t){return t.message}return null}let p=d();(o=n||(n={})).DEBUG="DEBUG",o.INFO="INFO",o.WARNING="WARNING",o.ERROR="ERROR",o.OFF="OFF",(s=i||(i={})).UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.SERVER_ERROR="SERVER_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.CALL_EXCEPTION="CALL_EXCEPTION",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s.NONCE_EXPIRED="NONCE_EXPIRED",s.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",s.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",s.TRANSACTION_REPLACED="TRANSACTION_REPLACED";let g="0123456789abcdef";class m{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==c[r]&&this.throwArgumentError("invalid log level name","logLevel",e),h>c[r]||console.log.apply(console,t)}debug(...e){this._log(m.levels.DEBUG,e)}info(...e){this._log(m.levels.INFO,e)}warn(...e){this._log(m.levels.WARNING,e)}makeError(e,t,r){if(u)return this.makeError("censored error",t,{});t||(t=m.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let i="";for(let o=0;o<t.length;o++)i=g[t[o]>>4]+g[15&t[o]];n.push(e+"=Uint8Array(0x"+i+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let o=e,s="";switch(t){case i.NUMERIC_FAULT:{s="NUMERIC_FAULT";let a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":s+="-"+a;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case i.CALL_EXCEPTION:case i.INSUFFICIENT_FUNDS:case i.MISSING_NEW:case i.NONCE_EXPIRED:case i.REPLACEMENT_UNDERPRICED:case i.TRANSACTION_REPLACED:case i.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let l=Error(e);return l.reason=o,l.code=t,Object.keys(r).forEach(function(e){l[e]=r[e]}),l}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,m.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),p&&this.throwError("platform missing String.prototype.normalize",m.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,m.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,m.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,m.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,m.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",m.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",m.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",m.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return f||(f=new m(a)),f}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",m.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l){if(!e)return;this.globalLogger().throwError("error censorship permanent",m.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}u=!!e,l=!!t}static setLogLevel(e){let t=c[e.toLowerCase()];if(null==t){m.globalLogger().warn("invalid log level - "+e);return}h=t}static from(e){return new m(e)}}m.errors=i,m.levels=n},5710:function(e,t,r){"use strict";r.d(t,{H:function(){return d}});var n=r(1581);let i="networks/5.6.4",o=new n.Logger(i);function s(e){return e&&"function"==typeof e.renetwork}function a(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(i){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(o){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(s){}if(t.PocketProvider&&"-"!==r.pocket){let a=["goerli","ropsten","rinkeby"];try{let l=new t.PocketProvider(e,r.pocket);l.network&&-1===a.indexOf(l.network.name)&&n.push(l)}catch(u){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(c){}if(t.AnkrProvider&&"-"!==r.ankr)try{let h=["ropsten"],f=new t.AnkrProvider(e,r.ankr);f.network&&-1===h.indexOf(f.network.name)&&n.push(f)}catch(d){}if(0===n.length)return null;if(t.FallbackProvider){let p=1;return null!=r.quorum?p=r.quorum:"homestead"===e&&(p=2),new t.FallbackProvider(n,p)}return n[0]};return t.renetwork=function(e){return a(e)},t}function l(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return l(e,t)},r}let u={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:a("homestead")},c={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:a("ropsten")},h={chainId:63,name:"classicMordor",_defaultProvider:l("https://www.ethercluster.com/mordor","classicMordor")},f={unspecified:{chainId:0,name:"unspecified"},homestead:u,mainnet:u,morden:{chainId:2,name:"morden"},ropsten:c,testnet:c,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:a("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:a("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:a("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:l("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:h,classicTestnet:h,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:l("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:a("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:a("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function d(e){if(null==e)return null;if("number"==typeof e){for(let t in f){let r=f[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let n=f[e];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}let i=f[e.name];if(!i)return"number"!=typeof e.chainId&&o.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==i.chainId&&o.throwArgumentError("network chainId mismatch","network",e);let a=e._defaultProvider||null;return null==a&&i._defaultProvider&&(a=s(i._defaultProvider)?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,ensAddress:e.ensAddress||i.ensAddress||null,_defaultProvider:a}}},5306:function(e,t,r){"use strict";r.d(t,{n:function(){return o}});var n=r(6441),i=r(2006);function o(e,t,r,o,s){let a,l,u;e=(0,n.arrayify)(e),t=(0,n.arrayify)(t);let c=1,h=new Uint8Array(o),f=new Uint8Array(t.length+4);f.set(t);for(let d=1;d<=c;d++){f[t.length]=d>>24&255,f[t.length+1]=d>>16&255,f[t.length+2]=d>>8&255,f[t.length+3]=255&d;let p=(0,n.arrayify)((0,i.Gy)(s,e,f));a||(a=p.length,u=new Uint8Array(a),c=Math.ceil(o/a),l=o-(c-1)*a),u.set(p);for(let g=1;g<r;g++){p=(0,n.arrayify)((0,i.Gy)(s,e,p));for(let m=0;m<a;m++)u[m]^=p[m]}let y=(d-1)*a,v=d===c?l:a;h.set((0,n.arrayify)(u).slice(0,v),y)}return(0,n.hexlify)(h)}},6881:function(e,t,r){"use strict";r.r(t),r.d(t,{Description:function(){return m},checkProperties:function(){return c},deepCopy:function(){return g},defineReadOnly:function(){return a},getStatic:function(){return l},resolveProperties:function(){return u},shallowCopy:function(){return h}});var n=r(1581);let i="properties/5.6.0";var o=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let s=new n.Logger(i);function a(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function l(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function u(e){return o(this,void 0,void 0,function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})})}function c(e,t){e&&"object"==typeof e||s.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(r=>{t[r]||s.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)})}function h(e){let t={};for(let r in e)t[r]=e[r];return t}let f={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function d(e){if(null==e||f[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(i){continue}if(!d(n))return!1}return!0}return s.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function p(e){if(d(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>g(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&a(t,r,g(n))}return t}return s.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function g(e){return p(e)}class m{constructor(e){for(let t in e)this[t]=g(e[t])}}},4216:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n="providers/5.6.8"},6419:function(e,t,r){"use strict";r.d(t,{Zk:function(){return H},H2:function(){return G}});var n=r(1556),i=r(6441);function o(e){e=(0,i.arrayify)(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var s=r(7727),a=r(2593),l=r(7218),u=r(4706),c=r(5710),h=r(6881),f=r(2006),d=r(9251),p=r(9685),g=r(2882),m=r.n(g),y=r(1581),v=r(4216),b=r(32),w=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let E=new y.Logger(v.i),A=10;function S(e){return null==e?"null":(32!==(0,i.hexDataLength)(e)&&E.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function _(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return S(e);{let t={};e.forEach(e=>{t[S(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function k(e){return""===e?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t})}function T(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,i.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+_(e);else if(n.Sg.isForkEvent(e))throw E.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+_(e.topics||[]);throw Error("invalid event - "+e)}function N(){return new Date().getTime()}function x(e){return new Promise(t=>{setTimeout(t,e)})}let P=["block","network","pending","poll"];class C{constructor(e,t,r){(0,h.defineReadOnly)(this,"tag",e),(0,h.defineReadOnly)(this,"listener",t),(0,h.defineReadOnly)(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){let e=this.tag.split(":");if("filter"!==e[0])return null;let t=e[1],r=k(e[2]),n={};return r.length>0&&(n.topics=r),t&&"*"!==t&&(n.address=t),n}pollable(){return this.tag.indexOf(":")>=0||P.indexOf(this.tag)>=0}}let R={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function I(e){return(0,i.hexZeroPad)(a.O$.from(e).toHexString(),32)}function O(e){return s.Base58.encode((0,i.concat)([e,(0,i.hexDataSlice)((0,f.JQ)((0,f.JQ)(e)),0,4)]))}let M=RegExp("^(ipfs)://(.*)$","i"),D=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),M,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function L(e,t){try{return(0,d.ZN)(F(e,t))}catch(r){}return null}function F(e,t){if("0x"===e)return null;let r=a.O$.from((0,i.hexDataSlice)(e,t,t+32)).toNumber(),n=a.O$.from((0,i.hexDataSlice)(e,r,r+32)).toNumber();return(0,i.hexDataSlice)(e,r+32,r+32+n)}function B(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):E.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function U(e){let t=(0,i.arrayify)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function j(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function V(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let o=0;o<e.length;o++){let s=(0,i.arrayify)(e[o]);t[o]=U(r),t.push(U(s.length)),t.push(j(s)),r+=32+32*Math.ceil(s.length/32)}return(0,i.hexConcat)(t)}class G{constructor(e,t,r,n){(0,h.defineReadOnly)(this,"provider",e),(0,h.defineReadOnly)(this,"name",r),(0,h.defineReadOnly)(this,"address",e.formatter.address(t)),(0,h.defineReadOnly)(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>a.O$.from(e).eq(1)).catch(e=>{if(e.code===y.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return w(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:(0,i.hexConcat)([e,(0,u.VM)(this.name),t||"0x"])},n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=(0,i.hexConcat)(["0x9061b923",V([(0,u.Kn)(this.name),r.data])]));try{let o=yield this.provider.call(r);return(0,i.arrayify)(o).length%32==4&&E.throwError("resolver threw error",y.Logger.errors.CALL_EXCEPTION,{transaction:r,data:o}),n&&(o=F(o,0)),o}catch(s){if(s.code===y.Logger.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return w(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?F(r,0):null})}_getAddress(e,t){let r=R[String(e)];if(null==r&&E.throwError(`unsupported coin type: ${e}`,y.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=(0,i.arrayify)(t);if(null!=r.p2pkh){let o=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){let s=parseInt(o[1],16);if(o[2].length===2*s&&s>=1&&s<=75)return O((0,i.concat)([[r.p2pkh],"0x"+o[2]]))}}if(null!=r.p2sh){let a=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){let l=parseInt(a[1],16);if(a[2].length===2*l&&l>=1&&l<=75)return O((0,i.concat)([[r.p2sh],"0x"+a[2]]))}}if(null!=r.prefix){let u=n[1],c=n[0];if(0===c?20!==u&&32!==u&&(c=-1):c=-1,c>=0&&n.length===2+u&&u>=1&&u<=75){let h=m().toWords(n.slice(2));return h.unshift(c),m().encode(r.prefix,h)}}return null}getAddress(e){return w(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let t=yield this._fetch("0x3b3b57de");if("0x"===t||t===l.R)return null;return this.provider.formatter.callAddress(t)}catch(r){if(r.code===y.Logger.errors.CALL_EXCEPTION)return null;throw r}let n=yield this._fetchBytes("0xf1cb7e06",I(e));if(null==n||"0x"===n)return null;let i=this._getAddress(e,n);return null==i&&E.throwError("invalid or unsupported coin data",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),i})}getAvatar(){return w(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<D.length;r++){let n=t.match(D[r]);if(null==n)continue;let o=n[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:B(t)};case"erc721":case"erc1155":{let s="erc721"===o?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:t});let l=this._resolvedAddress||(yield this.getAddress()),u=(n[2]||"").split("/");if(2!==u.length)return null;let c=yield this.provider.formatter.address(u[0]),h=(0,i.hexZeroPad)(a.O$.from(u[1]).toHexString(),32);if("erc721"===o){let f=this.provider.formatter.callAddress((yield this.provider.call({to:c,data:(0,i.hexConcat)(["0x6352211e",h])})));if(l!==f)return null;e.push({type:"owner",content:f})}else if("erc1155"===o){let d=a.O$.from((yield this.provider.call({to:c,data:(0,i.hexConcat)(["0x00fdd58e",(0,i.hexZeroPad)(l,32),h])})));if(d.isZero())return null;e.push({type:"balance",content:d.toString()})}let g={to:this.provider.formatter.address(u[0]),data:(0,i.hexConcat)([s,h])},m=L((yield this.provider.call(g)),0);if(null==m)return null;e.push({type:"metadata-url-base",content:m}),"erc1155"===o&&(m=m.replace("{id}",h.substring(2)),e.push({type:"metadata-url-expanded",content:m})),m.match(/^ipfs:/i)&&(m=B(m)),e.push({type:"metadata-url",content:m});let y=yield(0,p.fetchJson)(m);if(!y)return null;e.push({type:"metadata",content:JSON.stringify(y)});let v=y.image;if("string"!=typeof v)return null;if(v.match(/^(https:\/\/|data:)/i));else{let b=v.match(M);if(null==b)return null;e.push({type:"url-ipfs",content:v}),v=B(v)}return e.push({type:"url",content:v}),{linkage:e,url:v}}}}}catch(w){}return null})}getContentHash(){return w(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let r=parseInt(t[3],16);if(t[4].length===2*r)return"ipfs://"+s.Base58.encode("0x"+t[1])}let n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let i=parseInt(n[3],16);if(n[4].length===2*i)return"ipns://"+s.Base58.encode("0x"+n[1])}let a=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(a&&64===a[1].length)return"bzz://"+a[1];let l=e.match(/^0x90b2c605([0-9a-f]*)$/);if(l&&68===l[1].length){let u={"=":"","+":"-","/":"_"},c=o("0x"+l[1]).replace(/[=+\/]/g,e=>u[e]);return"sia://"+c}return E.throwError("invalid or unsupported content hash data",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return w(this,void 0,void 0,function*(){let t=(0,d.Y0)(e);(t=(0,i.concat)([I(64),I(t.length),t])).length%32!=0&&(t=(0,i.concat)([t,(0,i.hexZeroPad)("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",(0,i.hexlify)(t));return null==r||"0x"===r?null:(0,d.ZN)(r)})}}let z=null,q=1;class H extends n.zt{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,h.defineReadOnly)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{let t=(0,h.getStatic)(new.target,"getNetwork")(e);t?((0,h.defineReadOnly)(this,"_network",t),this.emit("network",t,null)):E.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return w(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(t){}null==e&&(e=yield this.detectNetwork()),e||E.throwError("no network detected",y.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:(0,h.defineReadOnly)(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return(0,p.poll)(()=>this._ready().then(e=>e,e=>{if(e.code!==y.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==z&&(z=new b.Mb),z}static getNetwork(e){return(0,c.H)(null==e?"homestead":e)}ccipReadFetch(e,t,r){return w(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let s=0;s<r.length;s++){let a=r[s],l=a.replace("{sender}",n).replace("{data}",i),u=a.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),c=yield(0,p.fetchJson)({url:l,errorPassThrough:!0},u,(e,t)=>(e.status=t.statusCode,e));if(c.data)return c.data;let h=c.message||"unknown error";if(c.status>=400&&c.status<500)return E.throwError(`response not found during CCIP fetch: ${h}`,y.Logger.errors.SERVER_ERROR,{url:a,errorMessage:h});o.push(h)}return E.throwError(`error encountered during CCIP fetch: ${o.map(e=>JSON.stringify(e)).join(", ")}`,y.Logger.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return w(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(N()-r.respTime<=e)return r.blockNumber;break}catch(n){if(this._internalBlockNumber===t)break}}let i=N(),o=(0,h.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:t})=>{if(t)throw this._internalBlockNumber===o&&(this._internalBlockNumber=null),t;let r=N();return(e=a.O$.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:i,respTime:r}});return this._internalBlockNumber=o,o.catch(e=>{this._internalBlockNumber===o&&(this._internalBlockNumber=null)}),(yield o).blockNumber})}poll(){return w(this,void 0,void 0,function*(){let e=q++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){this.emit("error",n);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)E.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",E.makeError("network block skew detected",y.Logger.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let n=e.hash,i=this.getTransactionReceipt(n).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+n]=e.blockNumber,this.emit(n,e)),null)).catch(e=>{this.emit("error",e)});t.push(i);break}case"filter":if(!e._inflight){e._inflight=!0;let o=e.filter;o.fromBlock=e._lastBlockNumber+1,o.toBlock=r,o.toBlock-this._maxFilterBlockRange>o.fromBlock&&(o.fromBlock=o.toBlock-this._maxFilterBlockRange);let s=this.getLogs(o).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(o,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(s)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return w(this,void 0,void 0,function*(){return E.throwError("provider does not support network detection",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return w(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield x(0),this._network;let r=E.makeError("underlying network changed",y.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=N();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=N(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return w(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return w(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,o)=>{let s=[],a=!1,l=function(){return!!a||(a=!0,s.forEach(e=>{e()}),!1)},u=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,u),s.push(()=>{this.removeListener(e,u)}),n){let c=n.startBlock,h=null,f=r=>w(this,void 0,void 0,function*(){a||(yield x(1e3),this.getTransactionCount(n.from).then(i=>w(this,void 0,void 0,function*(){if(!a){if(i<=n.nonce)c=r;else{{let s=yield this.getTransaction(e);if(s&&null!=s.blockNumber)return}for(null==h&&(h=c-3)<n.startBlock&&(h=n.startBlock);h<=r;){if(a)return;let u=yield this.getBlockWithTransactions(h);for(let d=0;d<u.transactions.length;d++){let p=u.transactions[d];if(p.hash===e)return;if(p.from===n.from&&p.nonce===n.nonce){if(a)return;let g=yield this.waitForTransaction(p.hash,t);if(l())return;let m="replaced";p.data===n.data&&p.to===n.to&&p.value.eq(n.value)?m="repriced":"0x"===p.data&&p.from===p.to&&p.value.isZero()&&(m="cancelled"),o(E.makeError("transaction was replaced",y.Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===m||"cancelled"===m,reason:m,replacement:this._wrapTransaction(p),hash:e,receipt:g}));return}}h++}}a||this.once("block",f)}}),e=>{a||this.once("block",f)}))});if(a)return;this.once("block",f),s.push(()=>{this.removeListener("block",f)})}if("number"==typeof r&&r>0){let d=setTimeout(()=>{l()||o(E.makeError("timeout exceeded",y.Logger.errors.TIMEOUT,{timeout:r}))},r);d.unref&&d.unref(),s.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return w(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return w(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return a.O$.from(e)}catch(t){return E.throwError("bad result from backend",y.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return w(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,h.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return a.O$.from(n)}catch(i){return E.throwError("bad result from backend",y.Logger.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:i})}})}getTransactionCount(e,t){return w(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,h.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return a.O$.from(n).toNumber()}catch(i){return E.throwError("bad result from backend",y.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:i})}})}getCode(e,t){return w(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,h.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return(0,i.hexlify)(n)}catch(o){return E.throwError("bad result from backend",y.Logger.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:o})}})}getStorageAt(e,t,r){return w(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield(0,h.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>(0,i.hexValue)(e))}),o=yield this.perform("getStorageAt",n);try{return(0,i.hexlify)(o)}catch(s){return E.throwError("bad result from backend",y.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:o,error:s})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==(0,i.hexDataLength)(t))throw Error("invalid response - sendTransaction");let n=e;return null!=t&&e.hash!==t&&E.throwError("Transaction hash mismatch from Provider.sendTransaction.",y.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(t,n)=>w(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let o=yield this._waitForTransaction(e.hash,t,n,i);return null==o&&0===t?null:(this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&E.throwError("transaction failed",y.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),o)}),n}sendTransaction(e){return w(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>(0,i.hexlify)(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let o=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,o,n)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return w(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?a.O$.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?(0,i.hexlify)(e):null))}),this.formatter.transactionRequest((yield(0,h.resolveProperties)(r)))})}_getFilter(e){return w(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield(0,h.resolveProperties)(t)))})}_call(e,t,r){return w(this,void 0,void 0,function*(){r>=A&&E.throwError("CCIP read exceeded maximum redirections",y.Logger.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,o=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===o.substring(0,10)&&(0,i.hexDataLength)(o)%32==4)try{let s=(0,i.hexDataSlice)(o,4),l=(0,i.hexDataSlice)(s,0,32);a.O$.from(l).eq(n)||E.throwError("CCIP Read sender did not match",y.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let u=[],c=a.O$.from((0,i.hexDataSlice)(s,32,64)).toNumber(),h=a.O$.from((0,i.hexDataSlice)(s,c,c+32)).toNumber(),f=(0,i.hexDataSlice)(s,c+32);for(let d=0;d<h;d++){let p=L(f,32*d);null==p&&E.throwError("CCIP Read contained corrupt URL string",y.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),u.push(p)}let g=F(s,64);a.O$.from((0,i.hexDataSlice)(s,100,128)).isZero()||E.throwError("CCIP Read callback selector included junk",y.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let m=(0,i.hexDataSlice)(s,96,100),v=F(s,128),b=yield this.ccipReadFetch(e,g,u);null==b&&E.throwError("CCIP Read disabled or provided no URLs",y.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let w={to:n,data:(0,i.hexConcat)([m,V([b,v])])};return this._call(w,t,r+1)}catch(S){if(S.code===y.Logger.errors.SERVER_ERROR)throw S}try{return(0,i.hexlify)(o)}catch(_){return E.throwError("bad result from backend",y.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:o,error:_})}})}call(e,t){return w(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,h.resolveProperties)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return w(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,h.resolveProperties)({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return a.O$.from(r)}catch(n){return E.throwError("bad result from backend",y.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:n})}})}_getAddress(e){return w(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&E.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&E.throwError("ENS name not configured",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return w(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,n={includeTransactions:!!t};if((0,i.isHexString)(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),(0,i.isHexString)(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(o){E.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return(0,p.poll)(()=>w(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let i=null;for(let o=0;o<e.transactions.length;o++){let s=e.transactions[o];if(null==s.blockNumber)s.confirmations=0;else if(null==s.confirmations){null==i&&(i=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let a=i-s.blockNumber+1;a<=0&&(a=1),s.confirmations=a}}let l=this.formatter.blockWithTransactions(e);return l.transactions=l.transactions.map(e=>this._wrapTransaction(e)),l}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return w(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,p.poll)(()=>w(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval),o=i-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return w(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,p.poll)(()=>w(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval),o=i-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return n}),{oncePoll:this})})}getLogs(e){return w(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,h.resolveProperties)({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),b.Mb.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return w(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return w(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&E.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return w(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new G(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return w(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||E.throwError("network does not support ENS",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let n=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+(0,u.VM)(e).substring(2)});return this.formatter.callAddress(n)}catch(i){}return null})}resolveName(e){return w(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if((0,i.isHexString)(e))throw t}"string"!=typeof e&&E.throwArgumentError("invalid ENS name","name",e);let r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return w(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=L((yield this.call({to:r,data:"0x691f3431"+(0,u.VM)(t).substring(2)})),0),i=yield this.resolveName(n);return i!=e?null:n})}getAvatar(e){return w(this,void 0,void 0,function*(){let t=null;if((0,i.isHexString)(e)){let r=this.formatter.address(e),n=r.substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(n,"getAvatar");if(!o)return null;t=new G(this,o,n);try{let s=yield t.getAvatar();if(s)return s.url}catch(a){if(a.code!==y.Logger.errors.CALL_EXCEPTION)throw a}try{let l=L((yield this.call({to:o,data:"0x691f3431"+(0,u.VM)(n).substring(2)})),0);t=yield this.getResolver(l)}catch(c){if(c.code!==y.Logger.errors.CALL_EXCEPTION)throw c;return null}}else if(!(t=yield this.getResolver(e)))return null;let h=yield t.getAvatar();return null==h?null:h.url})}perform(e,t){return E.throwError(e+" not implemented",y.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new C(T(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=T(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=T(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=T(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=T(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=T(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}},32:function(e,t,r){"use strict";r.d(t,{Ed:function(){return d},Gp:function(){return p},Mb:function(){return f},vh:function(){return m}});var n=r(9485),i=r(2593),o=r(6441),s=r(9279),a=r(6881),l=r(3875),u=r(1581),c=r(4216);let h=new u.Logger(c.i);class f{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),c=e=>this.data(e,!0);return e.transaction={hash:o,type:u,accessList:f.allowNull(this.accessList.bind(this),null),blockHash:f.allowNull(o,null),blockNumber:f.allowNull(l,null),transactionIndex:f.allowNull(l,null),confirmations:f.allowNull(l,null),from:t,gasPrice:f.allowNull(r),maxPriorityFeePerGas:f.allowNull(r),maxFeePerGas:f.allowNull(r),gasLimit:r,to:f.allowNull(t,null),value:r,nonce:l,data:i,r:f.allowNull(this.uint256),s:f.allowNull(this.uint256),v:f.allowNull(l),creates:f.allowNull(t,null),raw:f.allowNull(i)},e.transactionRequest={from:f.allowNull(t),nonce:f.allowNull(l),gasLimit:f.allowNull(r),gasPrice:f.allowNull(r),maxPriorityFeePerGas:f.allowNull(r),maxFeePerGas:f.allowNull(r),to:f.allowNull(t),value:f.allowNull(r),data:f.allowNull(c),type:f.allowNull(l),accessList:f.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:t,topics:f.arrayOf(o),data:i,logIndex:l,blockHash:o},e.receipt={to:f.allowNull(this.address,null),from:f.allowNull(this.address,null),contractAddress:f.allowNull(t,null),transactionIndex:l,root:f.allowNull(s),gasUsed:r,logsBloom:f.allowNull(i),blockHash:o,transactionHash:o,logs:f.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:f.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:f.allowNull(r),status:f.allowNull(l),type:u},e.block={hash:f.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:f.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:f.allowNull(t),extraData:i,transactions:f.allowNull(f.arrayOf(o)),baseFeePerGas:f.allowNull(r)},e.blockWithTransactions=(0,a.shallowCopy)(e.block),e.blockWithTransactions.transactions=f.allowNull(f.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:f.allowNull(n,void 0),toBlock:f.allowNull(n,void 0),blockHash:f.allowNull(o,void 0),address:f.allowNull(t,void 0),topics:f.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:f.allowNull(l),blockHash:f.allowNull(o),transactionIndex:l,removed:f.allowNull(this.boolean.bind(this)),address:t,data:f.allowFalsish(i,"0x"),topics:f.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return(0,l.accessListify)(e||[])}number(e){return"0x"===e?0:i.O$.from(e).toNumber()}type(e){return"0x"===e||null==e?0:i.O$.from(e).toNumber()}bigNumber(e){return i.O$.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,o.isHexString)(e))?e.toLowerCase():h.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return(0,n.getAddress)(e)}callAddress(e){if(!(0,o.isHexString)(e,32))return null;let t=(0,n.getAddress)((0,o.hexDataSlice)(e,12));return t===s.d?null:t}contractAddress(e){return(0,n.getContractAddress)(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||(0,o.isHexString)(e))return(0,o.hexValue)(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==(0,o.hexDataLength)(r)?h.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=i.O$.from(e);try{return t.toNumber()}catch(r){}return null}uint256(e){if(!(0,o.isHexString)(e))throw Error("invalid uint256");return(0,o.hexZeroPad)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=f.check(t,e);return n._difficulty=null==r?null:i.O$.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return f.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&i.O$.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=f.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;(0,o.isHexString)(r)&&(r=i.O$.from(r).toNumber()),t.chainId=r}else{let n=e.networkId;null==n&&null==t.v&&(n=e.chainId),(0,o.isHexString)(n)&&(n=i.O$.from(n).toNumber()),"number"!=typeof n&&null!=t.v&&((n=(t.v-35)/2)<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),t.chainId=n}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return(0,l.parse)(e)}receiptLog(e){return f.check(this.formats.receiptLog,e)}receipt(e){let t=f.check(this.formats.receipt,e);if(null!=t.root){if(t.root.length<=4){let r=i.O$.from(t.root).toNumber();0===r||1===r?(null!=t.status&&t.status!==r&&h.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=r,delete t.root):h.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&h.throwArgumentError("invalid root hash","value.root",t.root)}return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return f.check(this.formats.filter,e)}filterLog(e){return f.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(o){throw o.checkKey=n,o.checkValue=t[n],o}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}function d(e){return e&&"function"==typeof e.isCommunityResource}function p(e){return d(e)&&e.isCommunityResource()}let g=!1;function m(){g||(g=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}},2169:function(e,t,r){"use strict";r.d(t,{C:function(){return S},r:function(){return T}});var n=r(8088),i=r(2593),o=r(6441),s=r(7827),a=r(6881),l=r(9251),u=r(3875),c=r(9685),h=r(1581),f=r(4216),d=r(6419),p=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let g=new h.Logger(f.i),m=["call","estimateGas"];function y(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=(0,o.isHexString)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let n in e){let i=y(e[n],t);if(i)return i}return null}if("string"==typeof e)try{return y(JSON.parse(e),t)}catch(s){}return null}function v(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let i=y(t,!0);if(i)return i.data;g.throwError("missing revert data in call exception; Transaction reverted without a reason string",h.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let o=y(t.body,!1);null==o&&(o=y(t,!1)),o&&g.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",h.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:e,transaction:n,error:t})}let s=t.message;throw t.code===h.Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?s=t.error.message:"string"==typeof t.body?s=t.body:"string"==typeof t.responseText&&(s=t.responseText),(s=(s||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&g.throwError("insufficient funds for intrinsic transaction cost",h.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),s.match(/nonce (is )?too low/i)&&g.throwError("nonce has already been used",h.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),s.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&g.throwError("replacement fee too low",h.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),s.match(/only replay-protected/i)&&g.throwError("legacy pre-eip-155 transactions not supported",h.Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),m.indexOf(e)>=0&&s.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&g.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",h.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function b(e){return new Promise(function(t){setTimeout(t,e)})}function w(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function E(e){return e?e.toLowerCase():e}let A={};class S extends n.E{constructor(e,t,r){if(super(),e!==A)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,a.defineReadOnly)(this,"provider",t),null==r&&(r=0),"string"==typeof r?((0,a.defineReadOnly)(this,"_address",this.provider.formatter.address(r)),(0,a.defineReadOnly)(this,"_index",null)):"number"==typeof r?((0,a.defineReadOnly)(this,"_index",r),(0,a.defineReadOnly)(this,"_address",null)):g.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return g.throwError("cannot alter JSON-RPC Signer connection",h.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new _(A,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&g.throwError("unknown account #"+this._index,h.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=(0,a.shallowCopy)(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=(0,a.shallowCopy)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>p(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&g.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),(0,a.resolveProperties)({tx:(0,a.resolveProperties)(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&g.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>v("sendTransaction",e,n))})}signTransaction(e){return g.throwError("signing transactions is unsupported",h.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return p(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield(0,c.poll)(()=>p(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(n){throw n.transactionHash=r,n}})}signMessage(e){return p(this,void 0,void 0,function*(){let t="string"==typeof e?(0,l.Y0)(e):e,r=yield this.getAddress();return yield this.provider.send("personal_sign",[(0,o.hexlify)(t),r.toLowerCase()])})}_legacySignMessage(e){return p(this,void 0,void 0,function*(){let t="string"==typeof e?(0,l.Y0)(e):e,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),(0,o.hexlify)(t)])})}_signTypedData(e,t,r){return p(this,void 0,void 0,function*(){let n=yield s.E.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(s.E.getPayload(n.domain,t,n.value))])})}unlock(e){return p(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class _ extends S{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let k={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class T extends d.Zk{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=(0,a.getStatic)(this.constructor,"defaultUrl")()),"string"==typeof e?(0,a.defineReadOnly)(this,"connection",Object.freeze({url:e})):(0,a.defineReadOnly)(this,"connection",Object.freeze((0,a.shallowCopy)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return p(this,void 0,void 0,function*(){yield b(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(r){try{e=yield this.send("net_version",[])}catch(t){}}if(null!=e){let n=(0,a.getStatic)(this.constructor,"getNetwork");try{return n(i.O$.from(e).toNumber())}catch(o){return g.throwError("could not detect network",h.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:o})}}return g.throwError("could not detect network",h.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new S(A,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,a.deepCopy)(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=(0,c.fetchJson)(this.connection,JSON.stringify(r),w).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[E(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[E(t.address),t.blockTag]];case"getCode":return["eth_getCode",[E(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[E(t.address),(0,o.hexZeroPad)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{let r=(0,a.getStatic)(this.constructor,"hexlifyTransaction");return["eth_call",[r(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{let n=(0,a.getStatic)(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=E(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return p(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let r=t.transaction;if(r&&null!=r.type&&i.O$.from(r.type).isZero()&&null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas){let n=yield this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&((t=(0,a.shallowCopy)(t)).transaction=(0,a.shallowCopy)(r),delete t.transaction.type)}}let o=this.prepareRequest(e,t);null==o&&g.throwError(e+" not implemented",h.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(o[0],o[1])}catch(s){return v(e,s,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return b(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){n()},0),null}).catch(e=>{})}return n(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=(0,a.shallowCopy)(k);if(t)for(let n in t)t[n]&&(r[n]=!0);(0,a.checkProperties)(e,r);let s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=(0,o.hexValue)(i.O$.from(e[t]));"gasLimit"===t&&(t="gas"),s[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(s[t]=(0,o.hexlify)(e[t]))}),e.accessList&&(s.accessList=(0,u.accessListify)(e.accessList)),s}}},241:function(e,t,r){"use strict";r.d(t,{Q:function(){return h}});var n=r(6881),i=r(1581),o=r(4216),s=r(2169);let a=new i.Logger(o.i),l=1;function u(e,t){let r="Web3LegacyFetcher";return function(e,i){let o={method:e,params:i,id:l++,jsonrpc:"2.0"};return new Promise((e,i)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,n.deepCopy)(o),provider:this}),t(o,(t,n)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:o,provider:this}),i(t);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:n,provider:this}),n.error){let s=Error(n.error.message);return s.code=n.error.code,s.data=n.error.data,i(s)}e(n.result)})})}}function c(e){return function(t,r){null==r&&(r=[]);let i={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,n.deepCopy)(i),provider:this}),e.request(i).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:e,provider:this}),e})}}class h extends s.r{constructor(e,t){null==e&&a.throwArgumentError("missing provider","provider",e);let r=null,i=null,o=null;"function"==typeof e?(r="unknown:",i=e):((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),o=e,e.request?(""===r&&(r="eip-1193:"),i=c(e)):e.sendAsync?i=u(e,e.sendAsync.bind(e)):e.send?i=u(e,e.send.bind(e)):a.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),(0,n.defineReadOnly)(this,"jsonRpcFetchFunc",i),(0,n.defineReadOnly)(this,"provider",o)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}},2118:function(e,t,r){"use strict";r.r(t),r.d(t,{randomBytes:function(){return n.O},shuffled:function(){return i.y}});var n=r(5634),i=r(2472)},5634:function(e,t,r){"use strict";r.d(t,{O:function(){return c}});var n=r(6441),i=r(1581);let o="random/5.6.1",s=new i.Logger(o);function a(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}let l=a(),u=l.crypto||l.msCrypto;function c(e){(e<=0||e>1024||e%1||e!=e)&&s.throwArgumentError("invalid length","length",e);let t=new Uint8Array(e);return u.getRandomValues(t),(0,n.arrayify)(t)}u&&u.getRandomValues||(s.warn("WARNING: Missing strong random number source"),u={getRandomValues:function(e){return s.throwError("no secure random source avaialble",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}})},2472:function(e,t,r){"use strict";function n(e){e=e.slice();for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}r.d(t,{y:function(){return n}})},9052:function(e,t,r){"use strict";r.r(t),r.d(t,{decode:function(){return d},encode:function(){return c}});var n=r(6441),i=r(1581);let o="rlp/5.6.1",s=new i.Logger(o);function a(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function l(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function u(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(u(e))}),t.length<=55)return t.unshift(192+t.length),t;let r=a(t.length);return r.unshift(247+r.length),r.concat(t)}(0,n.isBytesLike)(e)||s.throwArgumentError("RLP object must be BytesLike","object",e);let i=Array.prototype.slice.call((0,n.arrayify)(e));if(1===i.length&&i[0]<=127)return i;if(i.length<=55)return i.unshift(128+i.length),i;let o=a(i.length);return o.unshift(183+o.length),o.concat(i)}function c(e){return(0,n.hexlify)(u(e))}function h(e,t,r,n){let o=[];for(;r<t+1+n;){let a=f(e,r);o.push(a.result),(r+=a.consumed)>t+1+n&&s.throwError("child data too short",i.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function f(e,t){if(0===e.length&&s.throwError("data too short",i.Logger.errors.BUFFER_OVERRUN,{}),e[t]>=248){let r=e[t]-247;t+1+r>e.length&&s.throwError("data short segment too short",i.Logger.errors.BUFFER_OVERRUN,{});let o=l(e,t+1,r);return t+1+r+o>e.length&&s.throwError("data long segment too short",i.Logger.errors.BUFFER_OVERRUN,{}),h(e,t,t+1+r,r+o)}if(e[t]>=192){let a=e[t]-192;return t+1+a>e.length&&s.throwError("data array too short",i.Logger.errors.BUFFER_OVERRUN,{}),h(e,t,t+1,a)}if(e[t]>=184){let u=e[t]-183;t+1+u>e.length&&s.throwError("data array too short",i.Logger.errors.BUFFER_OVERRUN,{});let c=l(e,t+1,u);t+1+u+c>e.length&&s.throwError("data array too short",i.Logger.errors.BUFFER_OVERRUN,{});let f=(0,n.hexlify)(e.slice(t+1+u,t+1+u+c));return{consumed:1+u+c,result:f}}if(e[t]>=128){let d=e[t]-128;t+1+d>e.length&&s.throwError("data too short",i.Logger.errors.BUFFER_OVERRUN,{});let p=(0,n.hexlify)(e.slice(t+1,t+1+d));return{consumed:1+d,result:p}}return{consumed:1,result:(0,n.hexlify)(e[t])}}function d(e){let t=(0,n.arrayify)(e),r=f(t,0);return r.consumed!==t.length&&s.throwArgumentError("invalid rlp data","data",e),r.result}},1278:function(e,t,r){"use strict";r.r(t),r.d(t,{SupportedAlgorithm:function(){return i.p},computeHmac:function(){return n.Gy},ripemd160:function(){return n.bP},sha256:function(){return n.JQ},sha512:function(){return n.o}});var n=r(2006),i=r(1261)},2006:function(e,t,r){"use strict";r.d(t,{Gy:function(){return d},bP:function(){return c},JQ:function(){return h},o:function(){return f}});var n=r(3715),i=r.n(n),o=r(6441),s=r(1261),a=r(1581);let l="sha2/5.6.1",u=new a.Logger(l);function c(e){return"0x"+i().ripemd160().update((0,o.arrayify)(e)).digest("hex")}function h(e){return"0x"+i().sha256().update((0,o.arrayify)(e)).digest("hex")}function f(e){return"0x"+i().sha512().update((0,o.arrayify)(e)).digest("hex")}function d(e,t,r){return s.p[e]||u.throwError("unsupported algorithm "+e,a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+i().hmac(i()[e],(0,o.arrayify)(t)).update((0,o.arrayify)(r)).digest("hex")}},1261:function(e,t,r){"use strict";var n,i;r.d(t,{p:function(){return n}}),(i=n||(n={})).sha256="sha256",i.sha512="sha512"},7669:function(e,t,r){"use strict";r.r(t),r.d(t,{SigningKey:function(){return Q},computePublicKey:function(){return Z},recoverPublicKey:function(){return X}});var n=r(3550),i=r.n(n),o=r(3715),s=r.n(o);function a(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return l(e,null==t?r.path:t)}},r.exports),r.exports}function l(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var u=c;function c(e,t){if(!e)throw Error(t||"Assertion failed")}c.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var h=a(function(e,t){var r=t;function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r}function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toArray=n,r.zero2=i,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}}),f=a(function(e,t){var r=t;function n(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n}function o(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,s,a,l=e.andln(3)+n&3,u=t.andln(3)+i&3;3===l&&(l=-1),3===u&&(u=-1),s=(1&l)==0?0:(3==(o=e.andln(7)+n&7)||5===o)&&2===u?-l:l,r[0].push(s),a=(1&u)==0?0:(3==(o=t.andln(7)+i&7)||5===o)&&2===l?-u:u,r[1].push(a),2*n===s+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r}function s(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}}function a(e){return"string"==typeof e?r.toArray(e,"hex"):e}function l(e){return new(i())(e,"hex","le")}r.assert=u,r.toArray=h.toArray,r.zero2=h.zero2,r.toHex=h.toHex,r.encode=h.encode,r.getNAF=n,r.getJSF=o,r.cachedProperty=s,r.parseBytes=a,r.intFromLE=l}),d=f.getNAF,p=f.getJSF,g=f.assert;function m(e,t){this.type=e,this.p=new(i())(t.p,16),this.red=t.prime?i().red(t.prime):i().mont(this.p),this.zero=new(i())(0).toRed(this.red),this.one=new(i())(1).toRed(this.red),this.two=new(i())(2).toRed(this.red),this.n=t.n&&new(i())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var y=m;function v(e,t){this.curve=e,this.type=t,this.precomputed=null}m.prototype.point=function(){throw Error("Not implemented")},m.prototype.validate=function(){throw Error("Not implemented")},m.prototype._fixedNafMul=function(e,t){g(e.precomputed);var r,n,i=e._getDoubles(),o=d(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var a=[];for(r=0;r<o.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+o[l];a.push(n)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=s;h>0;h--){for(r=0;r<a.length;r++)(n=a[r])===h?c=c.mixedAdd(i.points[r]):n===-h&&(c=c.mixedAdd(i.points[r].neg()));u=u.add(c)}return u.toP()},m.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=d(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];g(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},m.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=t[o])._getNAFPoints(e);l[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var g=o-1,m=o;if(1!==l[g]||1!==l[m]){c[g]=d(r[g],l[g],this._bitLength),c[m]=d(r[m],l[m],this._bitLength),h=Math.max(c[g].length,h),h=Math.max(c[m].length,h);continue}var y=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(y[1]=t[g].add(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].add(t[m].neg())):(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=p(r[g],r[m]);for(s=0,h=Math.max(b[0].length,h),c[g]=Array(h),c[m]=Array(h);s<h;s++){var w=0|b[0][s],E=0|b[1][s];c[g][s]=v[(w+1)*3+(E+1)],c[m][s]=0,u[g]=y}}var A=this.jpoint(null,null,null),S=this._wnafT4;for(o=h;o>=0;o--){for(var _=0;o>=0;){var k=!0;for(s=0;s<n;s++)S[s]=0|c[s][o],0!==S[s]&&(k=!1);if(!k)break;_++,o--}if(o>=0&&_++,A=A.dblp(_),o<0)break;for(s=0;s<n;s++){var T=S[s];0!==T&&(T>0?a=u[s][T-1>>1]:T<0&&(a=u[s][-T-1>>1].neg()),A="affine"===a.type?A.mixedAdd(a):A.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?A:A.toP()},m.BasePoint=v,v.prototype.eq=function(){throw Error("Not implemented")},v.prototype.validate=function(){return this.curve.validate(this)},m.prototype.decodePoint=function(e,t){e=f.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?g(e[e.length-1]%2==0):7===e[0]&&g(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},v.prototype.encodeCompressed=function(e){return this.encode(e,!0)},v.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},v.prototype.encode=function(e,t){return f.encode(this._encode(t),e)},v.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},v.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},v.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},v.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},v.prototype._getBeta=function(){return null},v.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var b=a(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),w=f.assert;function E(e){y.call(this,"short",e),this.a=new(i())(e.a,16).toRed(this.red),this.b=new(i())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}b(E,y);var A=E;function S(e,t,r,n){y.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(i())(t,16),this.y=new(i())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function _(e,t,r,n){y.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(i())(0)):(this.x=new(i())(t,16),this.y=new(i())(r,16),this.z=new(i())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}E.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new(i())(e.beta,16).toRed(this.red);else{var t,r,n,o=this._getEndoRoots(this.p);t=(t=0>o[0].cmp(o[1])?o[0]:o[1]).toRed(this.red)}if(e.lambda)r=new(i())(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],w(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new(i())(e.a,16),b:new(i())(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},E.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i().mont(e),r=new(i())(2).toRed(t).redInvm(),n=r.redNeg(),o=new(i())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},E.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,l,u,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),p=new(i())(1),g=new(i())(0),m=new(i())(0),y=new(i())(1),v=0;0!==f.cmpn(0);){var b=d.div(f);u=d.sub(b.mul(f)),c=m.sub(b.mul(p));var w=y.sub(b.mul(g));if(!n&&0>u.cmp(h))t=l.neg(),r=p,n=u.neg(),o=c;else if(n&&2==++v)break;l=u,d=f,f=u,m=p,p=c,y=g,g=w}s=u.neg(),a=c;var E=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(E)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},E.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:l.add(u).neg()}},E.prototype.pointFromX=function(e,t){(e=new(i())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},E.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},E.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*o]=a,n[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},b(S,y.BasePoint),E.prototype.point=function(e,t,r){return new S(this,e,t,r)},E.prototype.pointFromJSON=function(e,t){return S.fromJSON(this,e,t)},S.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},S.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},S.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return this.inf},S.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},S.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},S.prototype.getX=function(){return this.x.fromRed()},S.prototype.getY=function(){return this.y.fromRed()},S.prototype.mul=function(e){return(e=new(i())(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},S.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},S.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},S.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},S.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},S.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},b(_,y.BasePoint),E.prototype.jpoint=function(e,t,r){return new _(this,e,t,r)},_.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},_.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},_.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,d,p)},_.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},_.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=o.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var v=u.redMul(a);t+1<e&&(l=l.redMul(f)),o=g,a=v,u=y}return this.curve.jpoint(o,u.redMul(i),a)},_.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},_.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=l,t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},_.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},_.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),l=t.redAdd(t),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},_.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},_.prototype.mul=function(e,t){return e=new(i())(e,t),this.curve._wnafMul(this,e)},_.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},_.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},_.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},_.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var k=a(function(e,t){var r=t;r.base=y,r.short=A,r.mont=null,r.edwards=null}),T=a(function(e,t){var r,n=t,i=f.assert;function o(e){"short"===e.type?this.curve=new k.short(e):"edwards"===e.type?this.curve=new k.edwards(e):this.curve=new k.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(l){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function N(e){if(!(this instanceof N))return new N(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=h.toArray(e.entropy,e.entropyEnc||"hex"),r=h.toArray(e.nonce,e.nonceEnc||"hex"),n=h.toArray(e.pers,e.persEnc||"hex");u(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var x=N;N.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},N.prototype._hmac=function(){return new(s()).hmac(this.hash,this.K)},N.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},N.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=h.toArray(e,t),r=h.toArray(r,n),u(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},N.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=h.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,h.encode(o,t)};var P=f.assert;function C(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var R=C;C.fromPublic=function(e,t,r){return t instanceof C?t:new C(e,{pub:t,pubEnc:r})},C.fromPrivate=function(e,t,r){return t instanceof C?t:new C(e,{priv:t,privEnc:r})},C.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},C.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},C.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},C.prototype._importPrivate=function(e,t){this.priv=new(i())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},C.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?P(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&P(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},C.prototype.derive=function(e){return e.validate()||P(e.validate(),"public point not validated"),e.mul(this.priv).getX()},C.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},C.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},C.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var I=f.assert;function O(e,t){if(e instanceof O)return e;this._importDER(e,t)||(I(e.r&&e.s,"Signature without r or s"),this.r=new(i())(e.r,16),this.s=new(i())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var M=O;function D(){this.place=0}function L(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function F(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function B(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}O.prototype._importDER=function(e,t){e=f.toArray(e,t);var r=new D;if(48!==e[r.place++])return!1;var n=L(e,r);if(!1===n||n+r.place!==e.length||2!==e[r.place++])return!1;var o=L(e,r);if(!1===o)return!1;var s=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var a=L(e,r);if(!1===a||e.length!==a+r.place)return!1;var l=e.slice(r.place,a+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new(i())(s),this.s=new(i())(l),this.recoveryParam=null,!0},O.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=F(t),r=F(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];B(n,t.length),(n=n.concat(t)).push(2),B(n,r.length);var i=n.concat(r),o=[48];return B(o,i.length),o=o.concat(i),f.encode(o,e)};var U=function(){throw Error("unsupported")},j=f.assert;function V(e){if(!(this instanceof V))return new V(e);"string"==typeof e&&(j(Object.prototype.hasOwnProperty.call(T,e),"Unknown curve "+e),e=T[e]),e instanceof T.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var G=V;V.prototype.keyPair=function(e){return new R(this,e)},V.prototype.keyFromPrivate=function(e,t){return R.fromPrivate(this,e,t)},V.prototype.keyFromPublic=function(e,t){return R.fromPublic(this,e,t)},V.prototype.genKeyPair=function(e){e||(e={});for(var t=new x({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||U(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(i())(2));;){var o=new(i())(t.generate(r));if(!(o.cmp(n)>0))return o.iaddn(1),this.keyFromPrivate(o)}},V.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},V.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(i())(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),a=e.toArray("be",o),l=new x({hash:this.hash,entropy:s,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(i())(1)),c=0;;c++){var h=n.k?n.k(c):new(i())(l.generate(this.n.byteLength()));if(!(0>=(h=this._truncateToN(h,!0)).cmpn(1)||h.cmp(u)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var d=f.getX(),p=d.umod(this.n);if(0!==p.cmpn(0)){var g=h.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==d.cmp(p)?2:0);return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new M({r:p,s:g,recoveryParam:m})}}}}}},V.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(i())(e,16)),r=this.keyFromPublic(r,n);var o,s=(t=new M(t,"hex")).r,a=t.s;if(0>s.cmpn(1)||s.cmp(this.n)>=0||0>a.cmpn(1)||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),u=l.mul(e).umod(this.n),c=l.mul(s).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(s):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(s)},V.prototype.recoverPubKey=function(e,t,r,n){j((3&r)===r,"The recovery param is more than two bits"),t=new M(t,n);var o=this.n,s=new(i())(e),a=t.r,l=t.s,u=1&r,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");a=c?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var h=t.r.invm(o),f=o.sub(s).mul(h).umod(o),d=l.mul(h).umod(o);return this.g.mulAdd(f,a,d)},V.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new M(t,n)).recoveryParam)return t.recoveryParam;for(var i,o=0;o<4;o++){try{i=this.recoverPubKey(e,t,o)}catch(s){continue}if(i.eq(r))return o}throw Error("Unable to find valid recovery factor")};var z=a(function(e,t){var r=t;r.version="6.5.4",r.utils=f,r.rand=function(){throw Error("unsupported")},r.curve=k,r.curves=T,r.ec=G,r.eddsa=null}).ec,q=r(6441),H=r(6881),K=r(1581);let W="signing-key/5.6.2",$=new K.Logger(W),Y=null;function J(){return Y||(Y=new z("secp256k1")),Y}class Q{constructor(e){(0,H.defineReadOnly)(this,"curve","secp256k1"),(0,H.defineReadOnly)(this,"privateKey",(0,q.hexlify)(e)),32!==(0,q.hexDataLength)(this.privateKey)&&$.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=J().keyFromPrivate((0,q.arrayify)(this.privateKey));(0,H.defineReadOnly)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,H.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,H.defineReadOnly)(this,"_isSigningKey",!0)}_addPoint(e){let t=J().keyFromPublic((0,q.arrayify)(this.publicKey)),r=J().keyFromPublic((0,q.arrayify)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=J().keyFromPrivate((0,q.arrayify)(this.privateKey)),r=(0,q.arrayify)(e);32!==r.length&&$.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return(0,q.splitSignature)({recoveryParam:n.recoveryParam,r:(0,q.hexZeroPad)("0x"+n.r.toString(16),32),s:(0,q.hexZeroPad)("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=J().keyFromPrivate((0,q.arrayify)(this.privateKey)),r=J().keyFromPublic((0,q.arrayify)(Z(e)));return(0,q.hexZeroPad)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function X(e,t){let r=(0,q.splitSignature)(t),n={r:(0,q.arrayify)(r.r),s:(0,q.arrayify)(r.s)};return"0x"+J().recoverPubKey((0,q.arrayify)(e),n,r.recoveryParam).encode("hex",!1)}function Z(e,t){let r=(0,q.arrayify)(e);if(32===r.length){let n=new Q(r);return t?"0x"+J().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?(0,q.hexlify)(r):"0x"+J().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+J().keyFromPublic(r).getPublic(!0,"hex"):(0,q.hexlify)(r):$.throwArgumentError("invalid public or private key","key","[REDACTED]")}},1886:function(e,t,r){"use strict";r.r(t),r.d(t,{keccak256:function(){return y},pack:function(){return m},sha256:function(){return v}});var n=r(2593),i=r(6441),o=r(8197),s=r(2006),a=r(9251),l=r(1581);let u="solidity/5.6.1",c=RegExp("^bytes([0-9]+)$"),h=RegExp("^(u?int)([0-9]*)$"),f=RegExp("^(.*)\\[([0-9]*)\\]$"),d="0000000000000000000000000000000000000000000000000000000000000000",p=new l.Logger(u);function g(e,t,r){switch(e){case"address":if(r)return(0,i.zeroPad)(t,32);return(0,i.arrayify)(t);case"string":return(0,a.Y0)(t);case"bytes":return(0,i.arrayify)(t);case"bool":if(t=t?"0x01":"0x00",r)return(0,i.zeroPad)(t,32);return(0,i.arrayify)(t)}let o=e.match(h);if(o){let s=parseInt(o[2]||"256");return(o[2]&&String(s)!==o[2]||s%8!=0||0===s||s>256)&&p.throwArgumentError("invalid number type","type",e),r&&(s=256),t=n.O$.from(t).toTwos(s),(0,i.zeroPad)(t,s/8)}if(o=e.match(c)){let l=parseInt(o[1]);return((String(l)!==o[1]||0===l||l>32)&&p.throwArgumentError("invalid bytes type","type",e),(0,i.arrayify)(t).byteLength!==l&&p.throwArgumentError(`invalid value for ${e}`,"value",t),r)?(0,i.arrayify)((t+d).substring(0,66)):t}if((o=e.match(f))&&Array.isArray(t)){let u=o[1],m=parseInt(o[2]||String(t.length));m!=t.length&&p.throwArgumentError(`invalid array length for ${e}`,"value",t);let y=[];return t.forEach(function(e){y.push(g(u,e,!0))}),(0,i.concat)(y)}return p.throwArgumentError("invalid type","type",e)}function m(e,t){e.length!=t.length&&p.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach(function(e,n){r.push(g(e,t[n]))}),(0,i.hexlify)((0,i.concat)(r))}function y(e,t){return(0,o.keccak256)(m(e,t))}function v(e,t){return(0,s.JQ)(m(e,t))}},6237:function(e,t,r){"use strict";r.d(t,{F:function(){return a},s:function(){return s}});var n=r(7218),i=r(6441),o=r(9251);function s(e){let t=(0,o.Y0)(e);if(t.length>31)throw Error("bytes32 string must be less than 32 bytes");return(0,i.hexlify)((0,i.concat)([t,n.R]).slice(0,32))}function a(e){let t=(0,i.arrayify)(e);if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return(0,o.ZN)(t.slice(0,r))}},5637:function(e,t,r){"use strict";r.d(t,{Ll:function(){return b}});var n=r(9251);function i(e){if(e.length%4!=0)throw Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function o(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach(e=>{let i=e.split(":");n[r+=parseInt(i[0],16)]=t(i[1])}),n}function s(e){let t=0;return e.split(",").map(e=>{let r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}})}function a(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];if(e>=(r+=i.l)&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}let l=s("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),u="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),c=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],h=o("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),f=o("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),d=o("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",i),p=s("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function g(e){return e.reduce((e,t)=>(t.forEach(t=>{e.push(t)}),e),[])}function m(e){return!!a(e,l)}function y(e){let t=a(e,c);if(t)return[e+t.s];let r=h[e];if(r)return r;let n=f[e];return n?[e+n[0]]:d[e]||null}function v(e){return!!a(e,p)}function b(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=(0,n.XL)(e);t=g(t.map(e=>u.indexOf(e)>=0||e>=65024&&e<=65039?[]:y(e)||[e])),(t=(0,n.XL)((0,n.uu)(t),n.Uj.NFKC)).forEach(e=>{if(v(e))throw Error("STRINGPREP_CONTAINS_PROHIBITED")}),t.forEach(e=>{if(m(e))throw Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=(0,n.uu)(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw Error("invalid hyphen");if(r.length>63)throw Error("too long");return r}},2741:function(e,t,r){"use strict";r.r(t),r.d(t,{UnicodeNormalizationForm:function(){return o.Uj},Utf8ErrorFuncs:function(){return o.te},Utf8ErrorReason:function(){return o.Uw},_toEscapedUtf8String:function(){return o.U$},formatBytes32String:function(){return n.s},nameprep:function(){return i.Ll},parseBytes32String:function(){return n.F},toUtf8Bytes:function(){return o.Y0},toUtf8CodePoints:function(){return o.XL},toUtf8String:function(){return o.ZN}});var n=r(6237),i=r(5637),o=r(9251)},9251:function(e,t,r){"use strict";r.d(t,{Uj:function(){return o},te:function(){return p},Uw:function(){return s},U$:function(){return v},uu:function(){return b},Y0:function(){return m},XL:function(){return E},ZN:function(){return w}});var n,i,o,s,a=r(6441),l=r(1581);let u="strings/5.6.1",c=new l.Logger(u);function h(e,t,r,n,i){return c.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function f(e,t,r,n,i){if(e===s.BAD_PREFIX||e===s.UNEXPECTED_CONTINUE){let o=0;for(let a=t+1;a<r.length&&r[a]>>6==2;a++)o++;return o}return e===s.OVERRUN?r.length-t-1:0}function d(e,t,r,n,i){return e===s.OVERLONG?(n.push(i),0):(n.push(65533),f(e,t,r,n,i))}(n=o||(o={})).current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD",(i=s||(s={})).UNEXPECTED_CONTINUE="unexpected continuation byte",i.BAD_PREFIX="bad codepoint prefix",i.OVERRUN="string overrun",i.MISSING_CONTINUE="missing continuation byte",i.OUT_OF_RANGE="out of UTF-8 range",i.UTF16_SURROGATE="UTF-16 surrogate",i.OVERLONG="overlong representation";let p=Object.freeze({error:h,ignore:f,replace:d});function g(e,t){null==t&&(t=p.error),e=(0,a.arrayify)(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,l=null;if((224&i)==192)o=1,l=127;else if((240&i)==224)o=2,l=2047;else if((248&i)==240)o=3,l=65535;else{(192&i)==128?n+=t(s.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(s.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(s.OVERRUN,n-1,e,r);continue}let u=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let h=e[n];if((192&h)!=128){n+=t(s.MISSING_CONTINUE,n,e,r),u=null;break}u=u<<6|63&h,n++}if(null!==u){if(u>1114111){n+=t(s.OUT_OF_RANGE,n-1-o,e,r,u);continue}if(u>=55296&&u<=57343){n+=t(s.UTF16_SURROGATE,n-1-o,e,r,u);continue}if(u<=l){n+=t(s.OVERLONG,n-1-o,e,r,u);continue}r.push(u)}}return r}function m(e,t=o.current){t!=o.current&&(c.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if((64512&i)==55296){n++;let s=e.charCodeAt(n);if(n>=e.length||(64512&s)!=56320)throw Error("invalid utf-8 string");let l=65536+((1023&i)<<10)+(1023&s);r.push(l>>18|240),r.push(l>>12&63|128),r.push(l>>6&63|128),r.push(63&l|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return(0,a.arrayify)(r)}function y(e){let t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function v(e,t){return'"'+g(e,t).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?y(e):y(((e-=65536)>>10&1023)+55296)+y((1023&e)+56320)}).join("")+'"'}function b(e){return e.map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function w(e,t){return b(g(e,t))}function E(e,t=o.current){return g(m(e,t))}},3875:function(e,t,r){"use strict";r.r(t),r.d(t,{TransactionTypes:function(){return i},accessListify:function(){return _},computeAddress:function(){return w},parse:function(){return M},recoverAddress:function(){return E},serialize:function(){return P}});var n,i,o=r(9485),s=r(2593),a=r(6441),l=r(1046),u=r(8197),c=r(6881),h=r(9052),f=r(7669),d=r(1581);let p="transactions/5.6.2",g=new d.Logger(p);function m(e){return"0x"===e?null:(0,o.getAddress)(e)}function y(e){return"0x"===e?l._Y:s.O$.from(e)}(n=i||(i={}))[n.legacy=0]="legacy",n[n.eip2930=1]="eip2930",n[n.eip1559=2]="eip1559";let v=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],b={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function w(e){let t=(0,f.computePublicKey)(e);return(0,o.getAddress)((0,a.hexDataSlice)((0,u.keccak256)((0,a.hexDataSlice)(t,1)),12))}function E(e,t){return w((0,f.recoverPublicKey)((0,a.arrayify)(e),t))}function A(e,t){let r=(0,a.stripZeros)(s.O$.from(e).toHexString());return r.length>32&&g.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function S(e,t){return{address:(0,o.getAddress)(e),storageKeys:(t||[]).map((t,r)=>(32!==(0,a.hexDataLength)(t)&&g.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function _(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&g.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),S(e[0],e[1])):S(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return S(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function k(e){return _(e).map(e=>[e.address,e.storageKeys])}function T(e,t){if(null!=e.gasPrice){let r=s.O$.from(e.gasPrice),n=s.O$.from(e.maxFeePerGas||0);r.eq(n)||g.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}let i=[A(e.chainId||0,"chainId"),A(e.nonce||0,"nonce"),A(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),A(e.maxFeePerGas||0,"maxFeePerGas"),A(e.gasLimit||0,"gasLimit"),null!=e.to?(0,o.getAddress)(e.to):"0x",A(e.value||0,"value"),e.data||"0x",k(e.accessList||[])];if(t){let l=(0,a.splitSignature)(t);i.push(A(l.recoveryParam,"recoveryParam")),i.push((0,a.stripZeros)(l.r)),i.push((0,a.stripZeros)(l.s))}return(0,a.hexConcat)(["0x02",h.encode(i)])}function N(e,t){let r=[A(e.chainId||0,"chainId"),A(e.nonce||0,"nonce"),A(e.gasPrice||0,"gasPrice"),A(e.gasLimit||0,"gasLimit"),null!=e.to?(0,o.getAddress)(e.to):"0x",A(e.value||0,"value"),e.data||"0x",k(e.accessList||[])];if(t){let n=(0,a.splitSignature)(t);r.push(A(n.recoveryParam,"recoveryParam")),r.push((0,a.stripZeros)(n.r)),r.push((0,a.stripZeros)(n.s))}return(0,a.hexConcat)(["0x01",h.encode(r)])}function x(e,t){(0,c.checkProperties)(e,b);let r=[];v.forEach(function(t){let n=e[t.name]||[],i={};t.numeric&&(i.hexPad="left"),n=(0,a.arrayify)((0,a.hexlify)(n,i)),t.length&&n.length!==t.length&&n.length>0&&g.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=(0,a.stripZeros)(n)).length>t.maxLength&&g.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push((0,a.hexlify)(n))});let n=0;if(null!=e.chainId?"number"!=typeof(n=e.chainId)&&g.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!(0,a.isBytesLike)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push((0,a.hexlify)(n)),r.push("0x"),r.push("0x")),!t)return h.encode(r);let i=(0,a.splitSignature)(t),o=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,i.v>28&&i.v!==o&&g.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==o&&g.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,a.hexlify)(o)),r.push((0,a.stripZeros)((0,a.arrayify)(i.r))),r.push((0,a.stripZeros)((0,a.arrayify)(i.s))),h.encode(r)}function P(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&g.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),x(e,t);switch(e.type){case 1:return N(e,t);case 2:return T(e,t)}return g.throwError(`unsupported transaction type: ${e.type}`,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function C(e,t,r){try{let n=y(t[0]).toNumber();if(0!==n&&1!==n)throw Error("bad recid");e.v=n}catch(i){g.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,a.hexZeroPad)(t[1],32),e.s=(0,a.hexZeroPad)(t[2],32);try{let o=(0,u.keccak256)(r(e));e.from=E(o,{r:e.r,s:e.s,recoveryParam:e.v})}catch(s){}}function R(e){let t=h.decode(e.slice(1));9!==t.length&&12!==t.length&&g.throwArgumentError("invalid component count for transaction type: 2","payload",(0,a.hexlify)(e));let r=y(t[2]),n=y(t[3]),i={type:2,chainId:y(t[0]).toNumber(),nonce:y(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:y(t[4]),to:m(t[5]),value:y(t[6]),data:t[7],accessList:_(t[8])};return 9===t.length||(i.hash=(0,u.keccak256)(e),C(i,t.slice(9),T)),i}function I(e){let t=h.decode(e.slice(1));8!==t.length&&11!==t.length&&g.throwArgumentError("invalid component count for transaction type: 1","payload",(0,a.hexlify)(e));let r={type:1,chainId:y(t[0]).toNumber(),nonce:y(t[1]).toNumber(),gasPrice:y(t[2]),gasLimit:y(t[3]),to:m(t[4]),value:y(t[5]),data:t[6],accessList:_(t[7])};return 8===t.length||(r.hash=(0,u.keccak256)(e),C(r,t.slice(8),N)),r}function O(e){let t=h.decode(e);9!==t.length&&6!==t.length&&g.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:y(t[0]).toNumber(),gasPrice:y(t[1]),gasLimit:y(t[2]),to:m(t[3]),value:y(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=s.O$.from(t[6]).toNumber()}catch(n){return r}if(r.r=(0,a.hexZeroPad)(t[7],32),r.s=(0,a.hexZeroPad)(t[8],32),s.O$.from(r.r).isZero()&&s.O$.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27,o=t.slice(0,6);0!==r.chainId&&(o.push((0,a.hexlify)(r.chainId)),o.push("0x"),o.push("0x"),i-=2*r.chainId+8);let l=(0,u.keccak256)(h.encode(o));try{r.from=E(l,{r:(0,a.hexlify)(r.r),s:(0,a.hexlify)(r.s),recoveryParam:i})}catch(c){}r.hash=(0,u.keccak256)(e)}return r.type=null,r}function M(e){let t=(0,a.arrayify)(e);if(t[0]>127)return O(t);switch(t[0]){case 1:return I(t);case 2:return R(t)}return g.throwError(`unsupported transaction type: ${t[0]}`,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}},1744:function(e,t,r){"use strict";r.r(t),r.d(t,{commify:function(){return l},formatEther:function(){return h},formatUnits:function(){return u},parseEther:function(){return f},parseUnits:function(){return c}});var n=r(335),i=r(1581);let o="units/5.6.1",s=new i.Logger(o),a=["wei","kwei","mwei","gwei","szabo","finney","ether"];function l(e){let t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&s.throwArgumentError("invalid value","value",e);let r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);let o=[];for(;r.length;){if(r.length<=3){o.unshift(r);break}{let a=r.length-3;o.unshift(r.substring(a)),r=r.substring(0,a)}}return n+o.join(",")+i}function u(e,t){if("string"==typeof t){let r=a.indexOf(t);-1!==r&&(t=3*r)}return(0,n.S5)(e,null!=t?t:18)}function c(e,t){if("string"!=typeof e&&s.throwArgumentError("value must be a string","value",e),"string"==typeof t){let r=a.indexOf(t);-1!==r&&(t=3*r)}return(0,n.Ox)(e,null!=t?t:18)}function h(e){return u(e,18)}function f(e){return c(e,18)}},9911:function(e,t,r){"use strict";r.r(t),r.d(t,{Wallet:function(){return S},verifyMessage:function(){return _},verifyTypedData:function(){return k}});var n=r(9485),i=r(1556),o=r(8088),s=r(6441),a=r(3684),l=r(7827),u=r(4178),c=r(8197),h=r(6881),f=r(5634),d=r(7669),p=r(1964),g=r(4341),m=r(3875),y=r(1581);let v="wallet/5.6.2";var b=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let w=new y.Logger(v);function E(e){return null!=e&&(0,s.isHexString)(e.privateKey,32)&&null!=e.address}function A(e){let t=e.mnemonic;return t&&t.phrase}class S extends o.E{constructor(e,t){if(super(),E(e)){let r=new d.SigningKey(e.privateKey);if((0,h.defineReadOnly)(this,"_signingKey",()=>r),(0,h.defineReadOnly)(this,"address",(0,m.computeAddress)(this.publicKey)),this.address!==(0,n.getAddress)(e.address)&&w.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),A(e)){let o=e.mnemonic;(0,h.defineReadOnly)(this,"_mnemonic",()=>({phrase:o.phrase,path:o.path||u.defaultPath,locale:o.locale||"en"}));let s=this.mnemonic,a=u.HDNode.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);(0,m.computeAddress)(a.privateKey)!==this.address&&w.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,h.defineReadOnly)(this,"_mnemonic",()=>null)}else{if(d.SigningKey.isSigningKey(e))"secp256k1"!==e.curve&&w.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,h.defineReadOnly)(this,"_signingKey",()=>e);else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);let l=new d.SigningKey(e);(0,h.defineReadOnly)(this,"_signingKey",()=>l)}(0,h.defineReadOnly)(this,"_mnemonic",()=>null),(0,h.defineReadOnly)(this,"address",(0,m.computeAddress)(this.publicKey))}t&&!i.zt.isProvider(t)&&w.throwArgumentError("invalid provider","provider",t),(0,h.defineReadOnly)(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new S(this,e)}signTransaction(e){return(0,h.resolveProperties)(e).then(t=>{null!=t.from&&((0,n.getAddress)(t.from)!==this.address&&w.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);let r=this._signingKey().signDigest((0,c.keccak256)((0,m.serialize)(t)));return(0,m.serialize)(t,r)})}signMessage(e){return b(this,void 0,void 0,function*(){return(0,s.joinSignature)(this._signingKey().signDigest((0,a.r)(e)))})}_signTypedData(e,t,r){return b(this,void 0,void 0,function*(){let n=yield l.E.resolveNames(e,t,r,e=>(null==this.provider&&w.throwError("cannot resolve ENS names without a provider",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e)));return(0,s.joinSignature)(this._signingKey().signDigest(l.E.hash(n.domain,t,n.value)))})}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw Error("invalid callback");return t||(t={}),(0,p.HI)(this,e,t,r)}static createRandom(e){let t=(0,f.O)(16);e||(e={}),e.extraEntropy&&(t=(0,s.arrayify)((0,s.hexDataSlice)((0,c.keccak256)((0,s.concat)([t,e.extraEntropy])),0,16)));let r=(0,u.entropyToMnemonic)(t,e.locale);return S.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return(0,g.decryptJsonWallet)(e,t,r).then(e=>new S(e))}static fromEncryptedJsonSync(e,t){return new S((0,g.decryptJsonWalletSync)(e,t))}static fromMnemonic(e,t,r){return t||(t=u.defaultPath),new S(u.HDNode.fromMnemonic(e,null,r).derivePath(t))}}function _(e,t){return(0,m.recoverAddress)((0,a.r)(e),t)}function k(e,t,r,n){return(0,m.recoverAddress)(l.E.hash(e,t,r),n)}},9685:function(e,t,r){"use strict";r.r(t),r.d(t,{_fetchData:function(){return m},fetchJson:function(){return y},poll:function(){return v}});var n=r(6441);function i(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return(0,n.arrayify)(t)}function o(e){e=(0,n.arrayify)(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var s=r(6881),a=r(9251),l=r(1581);let u="web/5.6.1";var c=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};function h(e,t){return c(this,void 0,void 0,function*(){null==t&&(t={});let r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");let i=yield fetch(e,r),o=yield i.arrayBuffer(),s={};return i.headers.forEach?i.headers.forEach((e,t)=>{s[t.toLowerCase()]=e}):i.headers.keys().forEach(e=>{s[e.toLowerCase()]=i.headers.get(e)}),{headers:s,statusCode:i.status,statusMessage:i.statusText,body:(0,n.arrayify)(new Uint8Array(o))}})}var f=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let d=new l.Logger(u);function p(e){return new Promise(t=>{setTimeout(t,e)})}function g(e,t){if(null==e)return null;if("string"==typeof e)return e;if((0,n.isBytesLike)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,a.ZN)(e)}catch(r){}return(0,n.hexlify)(e)}return e}function m(e,t,r){let n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;d.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);let s="object"==typeof e?e.throttleCallback:null,u="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;d.assertArgument(u>0&&u%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",u);let c="object"==typeof e&&!!e.errorPassThrough,m={},y=null,v={method:"GET"},b=!1,w=12e4;if("string"==typeof e)y=e;else if("object"==typeof e){if((null==e||null==e.url)&&d.throwArgumentError("missing URL","connection.url",e),y=e.url,"number"==typeof e.timeout&&e.timeout>0&&(w=e.timeout),e.headers)for(let E in e.headers)m[E.toLowerCase()]={key:E,value:String(e.headers[E])},["if-none-match","if-modified-since"].indexOf(E.toLowerCase())>=0&&(b=!0);if(v.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==y.substring(0,6)&&!0!==e.allowInsecureAuthentication&&d.throwError("basic authentication requires a secure https url",l.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:y,user:e.user,password:"[REDACTED]"});let A=e.user+":"+e.password;m.authorization={key:"Authorization",value:"Basic "+o((0,a.Y0)(A))}}null!=e.skipFetchSetup&&(v.skipFetchSetup=!!e.skipFetchSetup)}let S=RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),_=y?y.match(S):null;if(_)try{let k={statusCode:200,statusMessage:"OK",headers:{"content-type":_[1]},body:i(_[2])},T=k.body;return r&&(T=r(k.body,k)),Promise.resolve(T)}catch(N){d.throwError("processing response error",l.Logger.errors.SERVER_ERROR,{body:g(_[1],_[2]),error:N,requestBody:null,requestMethod:"GET",url:y})}t&&(v.method="POST",v.body=t,null==m["content-type"]&&(m["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==m["content-length"]&&(m["content-length"]={key:"Content-Length",value:String(t.length)}));let x={};Object.keys(m).forEach(e=>{let t=m[e];x[t.key]=t.value}),v.headers=x;let P=function(){let e=null,t=new Promise(function(t,r){w&&(e=setTimeout(()=>{null!=e&&(e=null,r(d.makeError("timeout",l.Logger.errors.TIMEOUT,{requestBody:g(v.body,x["content-type"]),requestMethod:v.method,timeout:w,url:y})))},w))}),r=function(){null!=e&&(clearTimeout(e),e=null)};return{promise:t,cancel:r}}(),C=function(){return f(this,void 0,void 0,function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield h(y,v),e<n){if(301===t.statusCode||302===t.statusCode){let i=t.headers.location||"";if("GET"===v.method&&i.match(/^https:/)){y=t.headers.location;continue}}else if(429===t.statusCode){let o=!0;if(s&&(o=yield s(e,y)),o){let a=0,f=t.headers["retry-after"];yield p(a="string"==typeof f&&f.match(/^[1-9][0-9]*$/)?1e3*parseInt(f):u*parseInt(String(Math.random()*Math.pow(2,e))));continue}}}}catch(m){null==(t=m.response)&&(P.cancel(),d.throwError("missing response",l.Logger.errors.SERVER_ERROR,{requestBody:g(v.body,x["content-type"]),requestMethod:v.method,serverError:m,url:y}))}let w=t.body;if(b&&304===t.statusCode?w=null:!c&&(t.statusCode<200||t.statusCode>=300)&&(P.cancel(),d.throwError("bad response",l.Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:g(w,t.headers?t.headers["content-type"]:null),requestBody:g(v.body,x["content-type"]),requestMethod:v.method,url:y})),r)try{let E=yield r(w,t);return P.cancel(),E}catch(_){if(_.throttleRetry&&e<n){let A=!0;if(s&&(A=yield s(e,y)),A){let S=u*parseInt(String(Math.random()*Math.pow(2,e)));yield p(S);continue}}P.cancel(),d.throwError("processing response error",l.Logger.errors.SERVER_ERROR,{body:g(w,t.headers?t.headers["content-type"]:null),error:_,requestBody:g(v.body,x["content-type"]),requestMethod:v.method,url:y})}return P.cancel(),w}return d.throwError("failed response",l.Logger.errors.SERVER_ERROR,{requestBody:g(v.body,x["content-type"]),requestMethod:v.method,url:y})})}();return Promise.race([P.promise,C])}function y(e,t,r){let n=(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse((0,a.ZN)(e))}catch(i){d.throwError("invalid JSON",l.Logger.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n},i=null;if(null!=t){i=(0,a.Y0)(t);let o="string"==typeof e?{url:e}:(0,s.shallowCopy)(e);if(o.headers){let u=0!==Object.keys(o.headers).filter(e=>"content-type"===e.toLowerCase()).length;u||(o.headers=(0,s.shallowCopy)(o.headers),o.headers["content-type"]="application/json")}else o.headers={"content-type":"application/json"};e=o}return m(e,i,n)}function v(e,t){return t||(t={}),null==(t=(0,s.shallowCopy)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,o=!1,s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(Error("timeout"))},t.timeout));let a=t.retryLimit,l=0;function u(){return e().then(function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",u);else if(t.onceBlock)t.onceBlock.once("block",u);else if(!o){if(++l>a){s()&&n(Error("retry limit reached"));return}let i=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));i<t.floor&&(i=t.floor),i>t.ceiling&&(i=t.ceiling),setTimeout(u,i)}return null},function(e){s()&&n(e)})}u()})}},8812:function(e,t,r){"use strict";r.d(t,{D:function(){return u}});var n=r(2046),i=r(6881),o=r(1581);let s="wordlists/5.6.1",a=!1,l=new o.Logger(s);class u{constructor(e){l.checkAbstract(new.target,u),(0,i.defineReadOnly)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let t=[];for(let r=0;r<2048;r++){let i=e.getWord(r);if(r!==e.getWordIndex(i))return"0x";t.push(i)}return(0,n.id)(t.join("\n")+"\n")}static register(e,t){if(t||(t=e.locale),a)try{let r=window;r._ethers&&r._ethers.wordlists&&!r._ethers.wordlists[t]&&(0,i.defineReadOnly)(r._ethers.wordlists,t,e)}catch(n){}}}},234:function(e,t,r){"use strict";r.d(t,{E:function(){return u}});var n=r(8812);let i="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",o=null;function s(e){if(null==o&&(o=i.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==n.D.check(e)))throw o=null,Error("BIP39 Wordlist for en (English) FAILED")}class a extends n.D{constructor(){super("en")}getWord(e){return s(this),o[e]}getWordIndex(e){return s(this),o.indexOf(e)}}let l=new a;n.D.register(l);let u={en:l}},9604:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function a(e,t){if(null==e)return{};var r,n,i=s(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l(e,t){return u(e)||c(e,t)||h(e,t)||d()}function u(e){if(Array.isArray(e))return e}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){i=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}function h(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}function v(e){return function t(){for(var r=this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(r,[].concat(i,n))}}}function b(e){return({}).toString.call(e).includes("Object")}function w(e){return!Object.keys(e).length}function E(e){return"function"==typeof e}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e,t){return b(t)||P("changeType"),Object.keys(t).some(function(t){return!A(e,t)})&&P("changeField"),t}function _(e){E(e)||P("selectorType")}function k(e){E(e)||b(e)||P("handlerType"),b(e)&&Object.values(e).some(function(e){return!E(e)})&&P("handlersType")}function T(e){e||P("initialIsRequired"),b(e)||P("initialType"),w(e)&&P("initialContent")}r.d(t,{ZP:function(){return eR},Ik:function(){return eT}});var N,x={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},P=v(function(e,t){throw Error(e[t]||e.default)})(x),C={changes:S,selector:_,handler:k,initial:T};function R(e,t){return E(t)?t(e.current):t}function I(e,t){return e.current=m(m({},e.current),t),t}function O(e,t,r){return E(t)?t(e.current):Object.keys(r).forEach(function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])}),r}var M={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C.initial(e),C.handler(t);var r={current:e},n=v(O)(r,t),i=v(I)(r),o=v(C.changes)(e),s=v(R)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return C.selector(e),e(r.current)},function(e){y(n,i,o,s)(e)}]}},D={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}},L=function(e){return({}).toString.call(e).includes("Object")};function F(e){return(e||j("configIsRequired"),L(e)||j("configType"),e.urls)?(B(),{paths:{vs:e.urls.monacoBase}}):e}function B(){console.warn(U.deprecation)}var U={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},j=(N=function(e,t){throw Error(e[t]||e.default)},function e(){for(var t=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return n.length>=N.length?N.apply(this,n):function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.apply(t,[].concat(n,i))}})(U),V={config:F},G=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}};function z(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],z(e[r],t[r]))}),o(o({},e),t)}var q=z,H={type:"cancelation",msg:"operation is manually canceled"},K=function(e){var t=!1,r=new Promise(function(r,n){e.then(function(e){return t?n(H):r(e)}),e.catch(n)});return r.cancel=function(){return t=!0},r},W=l(M.create({config:D,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),$=W[0],Y=W[1];function J(e){var t=V.config(e),r=t.monaco,n=a(t,["monaco"]);Y(function(e){return{config:q(e.config,n),monaco:r}})}function Q(){var e=$(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(Y({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),K(ei);if(window.monaco&&window.monaco.editor)return er(window.monaco),e.resolve(window.monaco),K(ei);G(X,ee)(et)}return K(ei)}function X(e){return document.body.appendChild(e)}function Z(e){var t=document.createElement("script");return e&&(t.src=e),t}function ee(e){var t=$(function(e){return{config:e.config,reject:e.reject}}),r=Z("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function et(){var e=$(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){er(t),e.resolve(t)},function(t){e.reject(t)})}function er(e){$().monaco||Y({monaco:e})}function en(){return $(function(e){return e.monaco})}var ei=new Promise(function(e,t){return Y({resolve:e,reject:t})}),eo={config:J,init:Q,__getMonacoInstance:en},es=r(7294),ea=r(5697),el=r.n(ea);function eu(){return(eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let ec={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var eh=function({content:e}){return es.createElement("div",{style:ec},e)};let ef={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};var ed=ef;function ep({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:s}){return es.createElement("section",eu({style:{...ed.wrapper,width:e,height:t}},s),!r&&es.createElement(eh,{content:n}),es.createElement("div",{ref:i,style:{...ed.fullWidth,...!r&&ed.hide},className:o}))}ep.propTypes={width:el().oneOfType([el().number,el().string]).isRequired,height:el().oneOfType([el().number,el().string]).isRequired,loading:el().oneOfType([el().element,el().string]).isRequired,isEditorReady:el().bool.isRequired,className:el().string,wrapperProps:el().object};var eg=ep,em=(0,es.memo)(eg),ey=function(e){(0,es.useEffect)(e,[])},ev=function(e,t,r=!0){let n=(0,es.useRef)(!0);(0,es.useEffect)(n.current||!r?()=>{n.current=!1}:e,t)};function eb(){}function ew(e,t,r,n){return eE(e,n)||eA(e,t,r,n)}function eE(e,t){return e.editor.getModel(eS(e,t))}function eA(e,t,r,n){return e.editor.createModel(t,r,n&&eS(e,n))}function eS(e,t){return e.Uri.parse(t)}function e_(e){return void 0===e}function ek({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:a,keepCurrentModifiedModel:l,theme:u,loading:c,options:h,height:f,width:d,className:p,wrapperProps:g,beforeMount:m,onMount:y}){let[v,b]=(0,es.useState)(!1),[w,E]=(0,es.useState)(!0),A=(0,es.useRef)(null),S=(0,es.useRef)(null),_=(0,es.useRef)(null),k=(0,es.useRef)(y),T=(0,es.useRef)(m);ey(()=>{let e=eo.init();return e.then(e=>(S.current=e)&&E(!1)).catch(e=>(null==e?void 0:e.type)!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>A.current?P():e.cancel()}),ev(()=>{let e=A.current.getModifiedEditor();e.getOption(S.current.editor.EditorOption.readOnly)?e.setValue(t):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),e.pushUndoStop())},[t],v),ev(()=>{A.current.getModel().original.setValue(e)},[e],v),ev(()=>{let{original:e,modified:t}=A.current.getModel();S.current.editor.setModelLanguage(e,n||r),S.current.editor.setModelLanguage(t,i||r)},[r,n,i],v),ev(()=>{S.current.editor.setTheme(u)},[u],v),ev(()=>{A.current.updateOptions(h)},[h],v);let N=(0,es.useCallback)(()=>{T.current(S.current);let a=ew(S.current,e,n||r,o),l=ew(S.current,t,i||r,s);A.current.setModel({original:a,modified:l})},[r,t,i,e,n,o,s]),x=(0,es.useCallback)(()=>{A.current=S.current.editor.createDiffEditor(_.current,{automaticLayout:!0,...h}),N(),S.current.editor.setTheme(u),b(!0)},[h,u,N]);function P(){var e,t;let r=A.current.getModel();a||null===(e=r.original)||void 0===e||e.dispose(),l||null===(t=r.modified)||void 0===t||t.dispose(),A.current.dispose()}return(0,es.useEffect)(()=>{v&&k.current(A.current,S.current)},[v]),(0,es.useEffect)(()=>{w||v||x()},[w,v,x]),es.createElement(em,{width:d,height:f,isEditorReady:v,loading:c,_ref:_,className:p,wrapperProps:g})}ek.propTypes={original:el().string,modified:el().string,language:el().string,originalLanguage:el().string,modifiedLanguage:el().string,originalModelPath:el().string,modifiedModelPath:el().string,keepCurrentOriginalModel:el().bool,keepCurrentModifiedModel:el().bool,theme:el().string,loading:el().oneOfType([el().element,el().string]),options:el().object,width:el().oneOfType([el().number,el().string]),height:el().oneOfType([el().number,el().string]),className:el().string,wrapperProps:el().object,beforeMount:el().func,onMount:el().func},ek.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:eb,onMount:eb};var eT=function(){let[e,t]=(0,es.useState)(eo.__getMonacoInstance());return ey(()=>{let r;return e||(r=eo.init()).then(e=>{t(e)}),()=>{var e;return null===(e=r)||void 0===e?void 0:e.cancel()}}),e},eN=function(e){let t=(0,es.useRef)();return(0,es.useEffect)(()=>{t.current=e},[e]),t.current};let ex=new Map;function eP({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:s,line:a,loading:l,options:u,overrideServices:c,saveViewState:h,keepCurrentModel:f,width:d,height:p,className:g,wrapperProps:m,beforeMount:y,onMount:v,onChange:b,onValidate:w}){let[E,A]=(0,es.useState)(!1),[S,_]=(0,es.useState)(!0),k=(0,es.useRef)(null),T=(0,es.useRef)(null),N=(0,es.useRef)(null),x=(0,es.useRef)(v),P=(0,es.useRef)(y),C=(0,es.useRef)(null),R=(0,es.useRef)(n),I=eN(o),O=(0,es.useRef)(!1);ey(()=>{let e=eo.init();return e.then(e=>(k.current=e)&&_(!1)).catch(e=>(null==e?void 0:e.type)!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>T.current?D():e.cancel()}),ev(()=>{let r=ew(k.current,e||n,t||i,o);r!==T.current.getModel()&&(h&&ex.set(I,T.current.saveViewState()),T.current.setModel(r),h&&T.current.restoreViewState(ex.get(o)))},[o],E),ev(()=>{T.current.updateOptions(u)},[u],E),ev(()=>{T.current.getOption(k.current.editor.EditorOption.readOnly)?T.current.setValue(n):n!==T.current.getValue()&&(T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),T.current.pushUndoStop())},[n],E),ev(()=>{k.current.editor.setModelLanguage(T.current.getModel(),i)},[i],E),ev(()=>{e_(a)||T.current.revealLine(a)},[a],E),ev(()=>{k.current.editor.setTheme(s)},[s],E);let M=(0,es.useCallback)(()=>{if(!O.current){P.current(k.current);let a=o||r,l=ew(k.current,n||e,t||i,a);T.current=k.current.editor.create(N.current,{model:l,automaticLayout:!0,...u},c),h&&T.current.restoreViewState(ex.get(a)),k.current.editor.setTheme(s),A(!0),O.current=!0}},[e,t,r,n,i,o,u,c,h,s]);function D(){var e,t;null===(e=C.current)||void 0===e||e.dispose(),f?h&&ex.set(o,T.current.saveViewState()):null===(t=T.current.getModel())||void 0===t||t.dispose(),T.current.dispose()}return(0,es.useEffect)(()=>{E&&x.current(T.current,k.current)},[E]),(0,es.useEffect)(()=>{S||E||M()},[S,E,M]),R.current=n,(0,es.useEffect)(()=>{if(E&&b){var e,t;null===(e=C.current)||void 0===e||e.dispose(),C.current=null===(t=T.current)||void 0===t?void 0:t.onDidChangeModelContent(e=>{b(T.current.getValue(),e)})}},[E,b]),(0,es.useEffect)(()=>{if(E){let e=k.current.editor.onDidChangeMarkers(e=>{var t;let r=null===(t=T.current.getModel())||void 0===t?void 0:t.uri;if(r){let n=e.find(e=>e.path===r.path);if(n){let i=k.current.editor.getModelMarkers({resource:r});null==w||w(i)}}});return()=>{null==e||e.dispose()}}},[E,w]),es.createElement(em,{width:d,height:p,isEditorReady:E,loading:l,_ref:N,className:g,wrapperProps:m})}eP.propTypes={defaultValue:el().string,defaultPath:el().string,defaultLanguage:el().string,value:el().string,language:el().string,path:el().string,theme:el().string,line:el().number,loading:el().oneOfType([el().element,el().string]),options:el().object,overrideServices:el().object,saveViewState:el().bool,keepCurrentModel:el().bool,width:el().oneOfType([el().number,el().string]),height:el().oneOfType([el().number,el().string]),className:el().string,wrapperProps:el().object,beforeMount:el().func,onMount:el().func,onChange:el().func,onValidate:el().func},eP.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:eb,onMount:eb,onValidate:eb};var eC=eP,eR=(0,es.memo)(eC)},3262:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.abiFromBytecode=t.BytecodeIter=t.isLog=t.isPush=t.pushWidth=void 0;let n=r(2753),i={STOP:0,EQ:20,ISZERO:21,CALLVALUE:52,CALLDATASIZE:54,JUMPI:87,JUMPDEST:91,PUSH1:96,PUSH4:99,PUSH32:127,DUP1:128,LOG1:161,LOG4:164};function o(e){return e<i.PUSH1||e>i.PUSH32?0:e-i.PUSH1+1}function s(e){return!(e<i.PUSH1||e>i.PUSH32)}function a(e){return e>=i.LOG1&&e<=i.LOG4}t.pushWidth=o,t.isPush=s,t.isLog=a;class l{constructor(e,t){this.nextStep=0,this.nextPos=0,void 0===t&&(t={}),this.posBufferSize=Math.max(t.bufferSize||1,1),this.posBuffer=[],this.bytecode=n.ethers.utils.arrayify(e,{allowMissingPrefix:!0})}hasMore(){return this.bytecode.length>this.nextPos}next(){if(this.bytecode.length<=this.nextPos)return i.STOP;let e=this.bytecode[this.nextPos],t=o(e);return this.posBuffer.length>=this.posBufferSize&&this.posBuffer.shift(),this.posBuffer.push(this.nextPos),this.nextStep+=1,this.nextPos+=1+t,e}step(){return this.nextStep-1}pos(){return 0===this.posBuffer.length?-1:this.posBuffer[this.posBuffer.length-1]}at(e){let t=e;if(t<0&&void 0===(t=this.posBuffer[this.posBuffer.length+t]))throw Error("buffer does not contain relative step");return this.bytecode[t]}value(){return this.valueAt(-1)}valueAt(e){let t=e;if(t<0&&void 0===(t=this.posBuffer[this.posBuffer.length+t]))throw Error("buffer does not contain relative step");let r=this.bytecode[t],n=o(r);return this.bytecode.slice(t+1,t+1+n)}}function u(e){let t=[],r={},o={},u={},c=new Uint8Array,h=!0,f=new l(e,{bufferSize:4});for(;f.hasMore();){let d=f.next(),p=f.pos(),g=f.step();if(d===i.PUSH32){c=f.value();continue}if(a(d)&&c.length>0){t.push({type:"event",hash:n.ethers.utils.hexlify(c)});continue}if(d===i.JUMPDEST){o[p]=g,f.at(p+1)===i.CALLVALUE&&f.at(p+2)===i.DUP1&&f.at(p+3)===i.ISZERO&&(u[p]=g),h&&f.at(p+1)===i.CALLDATASIZE&&(h=!1);continue}if(h){if(f.at(-1)===i.JUMPI&&s(f.at(-2))&&f.at(-3)===i.EQ&&s(f.at(-4))){let m=f.valueAt(-4);m.length<4&&(m=n.ethers.utils.zeroPad(m,4));let y=n.ethers.utils.hexlify(m),v=parseInt(n.ethers.utils.hexlify(f.valueAt(-2)),16);r[y]=v;continue}if(f.at(-1)===i.JUMPI&&s(f.at(-2))&&f.at(-3)===i.ISZERO){let b="0x00000000",w=parseInt(n.ethers.utils.hexlify(f.valueAt(-2)),16);r[b]=w;continue}}}for(let[E,A]of Object.entries(r))A in o&&t.push({type:"function",selector:E,payable:!u[r[E]]});return t}t.BytecodeIter=l,t.abiFromBytecode=u},3553:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.whatsabi=void 0,o(r(3539),t),t.whatsabi=s(r(3539))},9358:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSignatureLookup=t.defaultABILoader=t.SamczunSignatureLookup=t.Byte4SignatureLookup=t.MultiSignatureLookup=t.SourcifyABILoader=t.EtherscanABILoader=t.MultiABILoader=void 0;let n=r(7896);class i{constructor(e){this.loaders=e,this.mode="any"}async loadABI(e){if("any"===this.mode)return Promise.any(this.loaders.map(t=>t.loadABI(e)));let t={};return await Promise.all(this.loaders.map(t=>t.loadABI(e))).then(e=>e.flat().map(e=>{let r=e.type+":"+e.name;void 0===t[r]&&(t[r]=e)})),Object.values(t)}}t.MultiABILoader=i;class o{constructor(e){void 0===e&&(e={}),this.apiKey=e.apiKey,this.baseURL=e.baseURL||"https://api.etherscan.io/api"}async loadABI(e){let t=this.baseURL+"?module=contract&action=getabi&address="+e;this.apiKey&&(t+="&apikey="+this.apiKey);let r=await (0,n.fetchJson)(t);return JSON.parse(r.result)}}t.EtherscanABILoader=o;class s{async loadABI(e){let t="https://repo.sourcify.dev/contracts/full_match/1/"+e+"/metadata.json",r=await (0,n.fetchJson)(t);return JSON.parse(r.result)}}t.SourcifyABILoader=s;class a{constructor(e){this.lookups=e}async loadFunctions(e){return Promise.all(this.lookups.map(t=>t.loadFunctions(e))).then(e=>Array.from(new Set(e.flat())))}async loadEvents(e){return Promise.all(this.lookups.map(t=>t.loadFunctions(e))).then(e=>Array.from(new Set(e.flat())))}}t.MultiSignatureLookup=a;class l{async load(e){try{let t=await (0,n.fetchJson)(e);if(void 0===t.results)return[];return t.results.map(e=>e.text_signature)}catch(r){if(404===r.status)return[];throw r}}async loadFunctions(e){return this.load("https://www.4byte.directory/api/v1/signatures/?hex_signature="+e)}async loadEvents(e){return this.load("https://www.4byte.directory/api/v1/event-signatures/?hex_signature="+e)}}t.Byte4SignatureLookup=l;class u{async load(e){try{let t=await (0,n.fetchJson)(e);if(!t.ok)throw Error("Samczun API bad response: "+JSON.stringify(t));return t}catch(r){if(404===r.status)return[];throw r}}async loadFunctions(e){let t=await this.load("https://sig.eth.samczsun.com/api/v1/signatures?function="+e);return t.result.function[e].map(e=>e.name)}async loadEvents(e){let t=await this.load("https://sig.eth.samczsun.com/api/v1/signatures?event="+e);return t.result.event[e].map(e=>e.name)}}t.SamczunSignatureLookup=u,t.defaultABILoader=new i([new s,new o]),t.defaultSignatureLookup=new a([new u,new l])},6308:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectorsFromBytecode=t.selectorsFromABI=void 0;let n=r(2753),i=r(3262);function o(e){let t={};for(let r of e){if("string"!=typeof r&&"function"!==r.type)continue;let i=n.ethers.utils.FunctionFragment.from(r).format();t[n.ethers.utils.id(i).substring(0,10)]=i}return t}function s(e){let t=(0,i.abiFromBytecode)(e);if(0===t.length)return[];let r=[];for(let n of t)"function"===n.type&&r.push(n.selector);return r}t.selectorsFromABI=o,t.selectorsFromBytecode=s},3539:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.loaders=t.abiFromBytecode=t.BytecodeIter=t.selectorsFromBytecode=t.selectorsFromABI=void 0;var s=r(6308);Object.defineProperty(t,"selectorsFromABI",{enumerable:!0,get:function(){return s.selectorsFromABI}}),Object.defineProperty(t,"selectorsFromBytecode",{enumerable:!0,get:function(){return s.selectorsFromBytecode}});var a=r(3262);Object.defineProperty(t,"BytecodeIter",{enumerable:!0,get:function(){return a.BytecodeIter}}),Object.defineProperty(t,"abiFromBytecode",{enumerable:!0,get:function(){return a.abiFromBytecode}}),t.loaders=o(r(9358))},3236:function(e,t,r){"use strict";r.d(t,{lE:function(){return h},zo:function(){return f},xs:function(){return w},E1:function(){return v},p3:function(){return b},Ou:function(){return A},$P:function(){return E},$m:function(){return S},Dv:function(){return y},_t:function(){return c},Zq:function(){return l},A7:function(){return g},gV:function(){return k},N:function(){return _},G1:function(){return d},Bu:function(){return p}});var n=r(7175);let i="bytes/5.7.0",o=new n.Yd(i);function s(e){return!!e.toHexString}function a(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return a(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function l(e){return g(e)&&!(e.length%2)||c(e)}function u(e){return"number"==typeof e&&e==e&&e%1==0}function c(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!u(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!u(r)||r<0||r>=256)return!1}return!0}function h(e,t){if(t||(t={}),"number"==typeof e){o.checkSafeUint53(e,"invalid arrayify value");let r=[];for(;e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),a(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),s(e)&&(e=e.toHexString()),g(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":o.throwArgumentError("hex data is odd-length","value",e));let i=[];for(let l=0;l<n.length;l+=2)i.push(parseInt(n.substring(l,l+2),16));return a(new Uint8Array(i))}return c(e)?a(new Uint8Array(e)):o.throwArgumentError("invalid arrayify value","value",e)}function f(e){let t=e.map(e=>h(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),a(n)}function d(e){let t=h(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function p(e,t){(e=h(e)).length>t&&o.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),a(r)}function g(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let m="0123456789abcdef";function y(e,t){if(t||(t={}),"number"==typeof e){o.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=m[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),s(e))return e.toHexString();if(g(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":o.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(c(e)){let n="0x";for(let i=0;i<e.length;i++){let a=e[i];n+=m[(240&a)>>4]+m[15&a]}return n}return o.throwArgumentError("invalid hexlify value","value",e)}function v(e){if("string"!=typeof e)e=y(e);else if(!g(e)||e.length%2)return null;return(e.length-2)/2}function b(e,t,r){return("string"!=typeof e?e=y(e):(!g(e)||e.length%2)&&o.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function w(e){let t="0x";return e.forEach(e=>{t+=y(e).substring(2)}),t}function E(e){let t=A(y(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function A(e){"string"!=typeof e&&(e=y(e)),g(e)||o.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function S(e,t){for("string"!=typeof e?e=y(e):g(e)||o.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&o.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function _(e){let t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(l(e)){let r=h(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=y(r.slice(0,32)),t.s=y(r.slice(32,64))):65===r.length?(t.r=y(r.slice(0,32)),t.s=y(r.slice(32,64)),t.v=r[64]):o.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:o.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=y(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){let n=p(h(t._vs),32);t._vs=y(n);let i=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&o.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;let s=y(n);null==t.s?t.s=s:t.s!==s&&o.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?o.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{let a=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==a&&o.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&g(t.r)?t.r=S(t.r,32):o.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&g(t.s)?t.s=S(t.s,32):o.throwArgumentError("signature missing or invalid s","signature",e);let u=h(t.s);u[0]>=128&&o.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(u[0]|=128);let c=y(u);t._vs&&(g(t._vs)||o.throwArgumentError("signature invalid _vs","signature",e),t._vs=S(t._vs,32)),null==t._vs?t._vs=c:t._vs!==c&&o.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function k(e){return y(f([(e=_(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},7175:function(e,t,r){"use strict";var n,i,o,s;r.d(t,{jK:function(){return i},Yd:function(){return m}});let a="logger/5.7.0",l=!1,u=!1,c={debug:1,default:2,info:2,warning:3,error:4,off:5},h=c.default,f=null;function d(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(t){return t.message}return null}let p=d();(o=n||(n={})).DEBUG="DEBUG",o.INFO="INFO",o.WARNING="WARNING",o.ERROR="ERROR",o.OFF="OFF",(s=i||(i={})).UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.SERVER_ERROR="SERVER_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.CALL_EXCEPTION="CALL_EXCEPTION",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s.NONCE_EXPIRED="NONCE_EXPIRED",s.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",s.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",s.TRANSACTION_REPLACED="TRANSACTION_REPLACED",s.ACTION_REJECTED="ACTION_REJECTED";let g="0123456789abcdef";class m{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==c[r]&&this.throwArgumentError("invalid log level name","logLevel",e),h>c[r]||console.log.apply(console,t)}debug(...e){this._log(m.levels.DEBUG,e)}info(...e){this._log(m.levels.INFO,e)}warn(...e){this._log(m.levels.WARNING,e)}makeError(e,t,r){if(u)return this.makeError("censored error",t,{});t||(t=m.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let i="";for(let o=0;o<t.length;o++)i=g[t[o]>>4]+g[15&t[o]];n.push(e+"=Uint8Array(0x"+i+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let o=e,s="";switch(t){case i.NUMERIC_FAULT:{s="NUMERIC_FAULT";let a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":s+="-"+a;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case i.CALL_EXCEPTION:case i.INSUFFICIENT_FUNDS:case i.MISSING_NEW:case i.NONCE_EXPIRED:case i.REPLACEMENT_UNDERPRICED:case i.TRANSACTION_REPLACED:case i.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let l=Error(e);return l.reason=o,l.code=t,Object.keys(r).forEach(function(e){l[e]=r[e]}),l}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,m.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),p&&this.throwError("platform missing String.prototype.normalize",m.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,m.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,m.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,m.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,m.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",m.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",m.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",m.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return f||(f=new m(a)),f}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",m.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l){if(!e)return;this.globalLogger().throwError("error censorship permanent",m.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}u=!!e,l=!!t}static setLogLevel(e){let t=c[e.toLowerCase()];if(null==t){m.globalLogger().warn("invalid log level - "+e);return}h=t}static from(e){return new m(e)}}m.errors=i,m.levels=n},3565:function(e,t,r){"use strict";r.d(t,{dk:function(){return m},uj:function(){return c},p$:function(){return g},zG:function(){return a},tu:function(){return l},mE:function(){return u},DC:function(){return h}});var n=r(7175);let i="properties/5.7.0";var o=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let s=new n.Yd(i);function a(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function l(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function u(e){return o(this,void 0,void 0,function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})})}function c(e,t){e&&"object"==typeof e||s.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(r=>{t[r]||s.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)})}function h(e){let t={};for(let r in e)t[r]=e[r];return t}let f={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function d(e){if(null==e||f[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(i){continue}if(!d(n))return!1}return!0}return s.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function p(e){if(d(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>g(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&a(t,r,g(n))}return t}return s.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function g(e){return p(e)}class m{constructor(e){for(let t in e)this[t]=g(e[t])}}},9361:function(e,t,r){"use strict";r.d(t,{Uj:function(){return o},te:function(){return p},Uw:function(){return s},U$:function(){return v},uu:function(){return b},Y0:function(){return m},XL:function(){return E},ZN:function(){return w}});var n,i,o,s,a=r(3236),l=r(7175);let u="strings/5.7.0",c=new l.Yd(u);function h(e,t,r,n,i){return c.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function f(e,t,r,n,i){if(e===s.BAD_PREFIX||e===s.UNEXPECTED_CONTINUE){let o=0;for(let a=t+1;a<r.length&&r[a]>>6==2;a++)o++;return o}return e===s.OVERRUN?r.length-t-1:0}function d(e,t,r,n,i){return e===s.OVERLONG?(n.push(i),0):(n.push(65533),f(e,t,r,n,i))}(n=o||(o={})).current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD",(i=s||(s={})).UNEXPECTED_CONTINUE="unexpected continuation byte",i.BAD_PREFIX="bad codepoint prefix",i.OVERRUN="string overrun",i.MISSING_CONTINUE="missing continuation byte",i.OUT_OF_RANGE="out of UTF-8 range",i.UTF16_SURROGATE="UTF-16 surrogate",i.OVERLONG="overlong representation";let p=Object.freeze({error:h,ignore:f,replace:d});function g(e,t){null==t&&(t=p.error),e=(0,a.lE)(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,l=null;if((224&i)==192)o=1,l=127;else if((240&i)==224)o=2,l=2047;else if((248&i)==240)o=3,l=65535;else{(192&i)==128?n+=t(s.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(s.BAD_PREFIX,n-1,e,r);continue}if(n-1+o>=e.length){n+=t(s.OVERRUN,n-1,e,r);continue}let u=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let h=e[n];if((192&h)!=128){n+=t(s.MISSING_CONTINUE,n,e,r),u=null;break}u=u<<6|63&h,n++}if(null!==u){if(u>1114111){n+=t(s.OUT_OF_RANGE,n-1-o,e,r,u);continue}if(u>=55296&&u<=57343){n+=t(s.UTF16_SURROGATE,n-1-o,e,r,u);continue}if(u<=l){n+=t(s.OVERLONG,n-1-o,e,r,u);continue}r.push(u)}}return r}function m(e,t=o.current){t!=o.current&&(c.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if((64512&i)==55296){n++;let s=e.charCodeAt(n);if(n>=e.length||(64512&s)!=56320)throw Error("invalid utf-8 string");let l=65536+((1023&i)<<10)+(1023&s);r.push(l>>18|240),r.push(l>>12&63|128),r.push(l>>6&63|128),r.push(63&l|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return(0,a.lE)(r)}function y(e){let t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function v(e,t){return'"'+g(e,t).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?y(e):y(((e-=65536)>>10&1023)+55296)+y((1023&e)+56320)}).join("")+'"'}function b(e){return e.map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function w(e,t){return b(g(e,t))}function E(e,t=o.current){return g(m(e,t))}},7896:function(e,t,r){"use strict";r.r(t),r.d(t,{_fetchData:function(){return m},fetchJson:function(){return y},poll:function(){return v}});var n=r(6674),i=r(3236),o=r(3565),s=r(9361),a=r(7175);let l="web/5.7.1";var u=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};function c(e,t){return u(this,void 0,void 0,function*(){null==t&&(t={});let r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){let n=t.fetchOptions;n.mode&&(r.mode=n.mode),n.cache&&(r.cache=n.cache),n.credentials&&(r.credentials=n.credentials),n.redirect&&(r.redirect=n.redirect),n.referrer&&(r.referrer=n.referrer)}let o=yield fetch(e,r),s=yield o.arrayBuffer(),a={};return o.headers.forEach?o.headers.forEach((e,t)=>{a[t.toLowerCase()]=e}):o.headers.keys().forEach(e=>{a[e.toLowerCase()]=o.headers.get(e)}),{headers:a,statusCode:o.status,statusMessage:o.statusText,body:(0,i.lE)(new Uint8Array(s))}})}var h=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let f=new a.Yd(l);function d(e){return new Promise(t=>{setTimeout(t,e)})}function p(e,t){if(null==e)return null;if("string"==typeof e)return e;if((0,i.Zq)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,s.ZN)(e)}catch(r){}return(0,i.Dv)(e)}return e}function g(e){return(0,s.Y0)(e.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function m(e,t,r){let i="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;f.assertArgument(i>0&&i%1==0,"invalid connection throttle limit","connection.throttleLimit",i);let l="object"==typeof e?e.throttleCallback:null,u="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;f.assertArgument(u>0&&u%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",u);let m="object"==typeof e&&!!e.errorPassThrough,y={},v=null,b={method:"GET"},w=!1,E=12e4;if("string"==typeof e)v=e;else if("object"==typeof e){if((null==e||null==e.url)&&f.throwArgumentError("missing URL","connection.url",e),v=e.url,"number"==typeof e.timeout&&e.timeout>0&&(E=e.timeout),e.headers)for(let A in e.headers)y[A.toLowerCase()]={key:A,value:String(e.headers[A])},["if-none-match","if-modified-since"].indexOf(A.toLowerCase())>=0&&(w=!0);if(b.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==v.substring(0,6)&&!0!==e.allowInsecureAuthentication&&f.throwError("basic authentication requires a secure https url",a.Yd.errors.INVALID_ARGUMENT,{argument:"url",url:v,user:e.user,password:"[REDACTED]"});let S=e.user+":"+e.password;y.authorization={key:"Authorization",value:"Basic "+(0,n.c)((0,s.Y0)(S))}}null!=e.skipFetchSetup&&(b.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(b.fetchOptions=(0,o.DC)(e.fetchOptions))}let _=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),k=v?v.match(_):null;if(k)try{let T={statusCode:200,statusMessage:"OK",headers:{"content-type":k[1]||"text/plain"},body:k[2]?(0,n.J)(k[3]):g(k[3])},N=T.body;return r&&(N=r(T.body,T)),Promise.resolve(N)}catch(x){f.throwError("processing response error",a.Yd.errors.SERVER_ERROR,{body:p(k[1],k[2]),error:x,requestBody:null,requestMethod:"GET",url:v})}t&&(b.method="POST",b.body=t,null==y["content-type"]&&(y["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==y["content-length"]&&(y["content-length"]={key:"Content-Length",value:String(t.length)}));let P={};Object.keys(y).forEach(e=>{let t=y[e];P[t.key]=t.value}),b.headers=P;let C=function(){let e=null,t=new Promise(function(t,r){E&&(e=setTimeout(()=>{null!=e&&(e=null,r(f.makeError("timeout",a.Yd.errors.TIMEOUT,{requestBody:p(b.body,P["content-type"]),requestMethod:b.method,timeout:E,url:v})))},E))}),r=function(){null!=e&&(clearTimeout(e),e=null)};return{promise:t,cancel:r}}(),R=function(){return h(this,void 0,void 0,function*(){for(let e=0;e<i;e++){let t=null;try{if(t=yield c(v,b),e<i){if(301===t.statusCode||302===t.statusCode){let n=t.headers.location||"";if("GET"===b.method&&n.match(/^https:/)){v=t.headers.location;continue}}else if(429===t.statusCode){let o=!0;if(l&&(o=yield l(e,v)),o){let s=0,h=t.headers["retry-after"];yield d(s="string"==typeof h&&h.match(/^[1-9][0-9]*$/)?1e3*parseInt(h):u*parseInt(String(Math.random()*Math.pow(2,e))));continue}}}}catch(g){null==(t=g.response)&&(C.cancel(),f.throwError("missing response",a.Yd.errors.SERVER_ERROR,{requestBody:p(b.body,P["content-type"]),requestMethod:b.method,serverError:g,url:v}))}let y=t.body;if(w&&304===t.statusCode?y=null:!m&&(t.statusCode<200||t.statusCode>=300)&&(C.cancel(),f.throwError("bad response",a.Yd.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:p(y,t.headers?t.headers["content-type"]:null),requestBody:p(b.body,P["content-type"]),requestMethod:b.method,url:v})),r)try{let E=yield r(y,t);return C.cancel(),E}catch(_){if(_.throttleRetry&&e<i){let A=!0;if(l&&(A=yield l(e,v)),A){let S=u*parseInt(String(Math.random()*Math.pow(2,e)));yield d(S);continue}}C.cancel(),f.throwError("processing response error",a.Yd.errors.SERVER_ERROR,{body:p(y,t.headers?t.headers["content-type"]:null),error:_,requestBody:p(b.body,P["content-type"]),requestMethod:b.method,url:v})}return C.cancel(),y}return f.throwError("failed response",a.Yd.errors.SERVER_ERROR,{requestBody:p(b.body,P["content-type"]),requestMethod:b.method,url:v})})}();return Promise.race([C.promise,R])}function y(e,t,r){let n=(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse((0,s.ZN)(e))}catch(i){f.throwError("invalid JSON",a.Yd.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n},i=null;if(null!=t){i=(0,s.Y0)(t);let l="string"==typeof e?{url:e}:(0,o.DC)(e);if(l.headers){let u=0!==Object.keys(l.headers).filter(e=>"content-type"===e.toLowerCase()).length;u||(l.headers=(0,o.DC)(l.headers),l.headers["content-type"]="application/json")}else l.headers={"content-type":"application/json"};e=l}return m(e,i,n)}function v(e,t){return t||(t={}),null==(t=(0,o.DC)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,o=!1,s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(Error("timeout"))},t.timeout));let a=t.retryLimit,l=0;function u(){return e().then(function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",u);else if(t.onceBlock)t.onceBlock.once("block",u);else if(!o){if(++l>a){s()&&n(Error("retry limit reached"));return}let i=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));i<t.floor&&(i=t.floor),i>t.ceiling&&(i=t.ceiling),setTimeout(u,i)}return null},function(e){s()&&n(e)})}u()})}},2753:function(e,t,r){"use strict";r.r(t),r.d(t,{BaseContract:function(){return rG},BigNumber:function(){return _},Contract:function(){return rz},ContractFactory:function(){return rq},FixedNumber:function(){return r1},Signer:function(){return tb},VoidSigner:function(){return tw},Wallet:function(){return iC},Wordlist:function(){return nT},constants:function(){return l},errors:function(){return m.jK},ethers:function(){return f},getDefaultProvider:function(){return aa},logger:function(){return aH},providers:function(){return u},utils:function(){return h},version:function(){return aq},wordlists:function(){return nI}});var n,i,o,s,a={};r.r(a),r.d(a,{decode:function(){return Y},encode:function(){return K}});var l={};r.r(l),r.d(l,{AddressZero:function(){return iO},EtherSymbol:function(){return iD},HashZero:function(){return iM},MaxInt256:function(){return eR},MaxUint256:function(){return eP},MinInt256:function(){return eC},NegativeOne:function(){return e_},One:function(){return eT},Two:function(){return eN},WeiPerEther:function(){return ex},Zero:function(){return ek}});var u={};r.r(u),r.d(u,{AlchemyProvider:function(){return sw},AlchemyWebSocketProvider:function(){return sb},AnkrProvider:function(){return s_},BaseProvider:function(){return o2},CloudflareProvider:function(){return sN},EtherscanProvider:function(){return sD},FallbackProvider:function(){return sX},Formatter:function(){return oT},InfuraProvider:function(){return s3},InfuraWebSocketProvider:function(){return s2},IpcProvider:function(){return sZ},JsonRpcBatchProvider:function(){return s6},JsonRpcProvider:function(){return so},JsonRpcSigner:function(){return sr},NodesmithProvider:function(){return s8},PocketProvider:function(){return ae},Provider:function(){return td},Resolver:function(){return oZ},StaticJsonRpcProvider:function(){return sg},UrlJsonRpcProvider:function(){return sm},Web3Provider:function(){return ao},WebSocketProvider:function(){return sf},getDefaultProvider:function(){return aa},getNetwork:function(){return iH},isCommunityResourcable:function(){return oN},isCommunityResource:function(){return ox},showThrottleMessage:function(){return oC}});var c={};r.r(c),r.d(c,{decode:function(){return iK.J},encode:function(){return iK.c}});var h={};r.r(h),r.d(h,{AbiCoder:function(){return e9},ConstructorFragment:function(){return eQ},ErrorFragment:function(){return e0},EventFragment:function(){return eW},FormatTypes:function(){return eG},Fragment:function(){return eK},FunctionFragment:function(){return eX},HDNode:function(){return nH},Indexed:function(){return to},Interface:function(){return tl},LogDescription:function(){return tr},Logger:function(){return m.Yd},ParamType:function(){return eq},RLP:function(){return a},SigningKey:function(){return re},SupportedAlgorithm:function(){return s},TransactionDescription:function(){return tn},TransactionTypes:function(){return o},UnicodeNormalizationForm:function(){return eh.Uj},Utf8ErrorFuncs:function(){return eh.te},Utf8ErrorReason:function(){return eh.Uw},_TypedDataEncoder:function(){return nd},_fetchData:function(){return oE._fetchData},_toEscapedUtf8String:function(){return eh.U$},accessListify:function(){return rd},arrayify:function(){return d.lE},base58:function(){return ng},base64:function(){return c},checkProperties:function(){return R.uj},checkResultErrors:function(){return M},commify:function(){return aU},computeAddress:function(){return ru},computeHmac:function(){return nE},computePublicKey:function(){return rr},concat:function(){return d.zo},deepCopy:function(){return R.p$},defaultAbiCoder:function(){return te},defaultPath:function(){return nq},defineReadOnly:function(){return R.zG},dnsEncode:function(){return ow},entropyToMnemonic:function(){return n$},fetchJson:function(){return oE.fetchJson},formatBytes32String:function(){return aM},formatEther:function(){return aG},formatUnits:function(){return aj},getAccountPath:function(){return nJ},getAddress:function(){return es},getContractAddress:function(){return eu},getCreate2Address:function(){return ec},getIcapAddress:function(){return el},getJsonWalletAddress:function(){return iA},getStatic:function(){return R.tu},hashMessage:function(){return r4},hexConcat:function(){return d.xs},hexDataLength:function(){return d.E1},hexDataSlice:function(){return d.p3},hexStripZeros:function(){return d.Ou},hexValue:function(){return d.$P},hexZeroPad:function(){return d.$m},hexlify:function(){return d.Dv},id:function(){return ef},isAddress:function(){return ea},isBytes:function(){return d._t},isBytesLike:function(){return d.Zq},isHexString:function(){return d.A7},isValidMnemonic:function(){return nY},isValidName:function(){return ov},joinSignature:function(){return d.gV},keccak256:function(){return j},mnemonicToEntropy:function(){return nW},mnemonicToSeed:function(){return nK},namehash:function(){return ob},nameprep:function(){return aO},parseBytes32String:function(){return aD},parseEther:function(){return az},parseTransaction:function(){return rS},parseUnits:function(){return aV},poll:function(){return oE.poll},randomBytes:function(){return n2},recoverAddress:function(){return rc},recoverPublicKey:function(){return rt},resolveProperties:function(){return R.mE},ripemd160:function(){return nv},serializeTransaction:function(){return rv},sha256:function(){return nb},sha512:function(){return nw},shallowCopy:function(){return R.DC},shuffled:function(){return sL},solidityKeccak256:function(){return am},solidityPack:function(){return ag},soliditySha256:function(){return ay},splitSignature:function(){return d.N},stripZeros:function(){return d.G1},toUtf8Bytes:function(){return eh.Y0},toUtf8CodePoints:function(){return eh.XL},toUtf8String:function(){return eh.ZN},verifyMessage:function(){return iR},verifyTypedData:function(){return iI},zeroPad:function(){return d.Bu}});var f={};r.r(f),r.d(f,{BaseContract:function(){return rG},BigNumber:function(){return _},Contract:function(){return rz},ContractFactory:function(){return rq},FixedNumber:function(){return r1},Signer:function(){return tb},VoidSigner:function(){return tw},Wallet:function(){return iC},Wordlist:function(){return nT},constants:function(){return l},errors:function(){return m.jK},getDefaultProvider:function(){return aa},logger:function(){return aH},providers:function(){return u},utils:function(){return h},version:function(){return aq},wordlists:function(){return nI}});var d=r(3236),p=r(3550),g=r.n(p),m=r(7175);let y="bignumber/5.7.0";var v=g().BN;let b=new m.Yd(y),w={},E=9007199254740991;function A(e){return null!=e&&(_.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||(0,d.A7)(e)||"bigint"==typeof e||(0,d._t)(e))}let S=!1;class _{constructor(e,t){e!==w&&b.throwError("cannot call constructor directly; use BigNumber.from",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return T(N(this).fromTwos(e))}toTwos(e){return T(N(this).toTwos(e))}abs(){return"-"===this._hex[0]?_.from(this._hex.substring(1)):this}add(e){return T(N(this).add(N(e)))}sub(e){return T(N(this).sub(N(e)))}div(e){let t=_.from(e);return t.isZero()&&x("division-by-zero","div"),T(N(this).div(N(e)))}mul(e){return T(N(this).mul(N(e)))}mod(e){let t=N(e);return t.isNeg()&&x("division-by-zero","mod"),T(N(this).umod(t))}pow(e){let t=N(e);return t.isNeg()&&x("negative-power","pow"),T(N(this).pow(t))}and(e){let t=N(e);return(this.isNegative()||t.isNeg())&&x("unbound-bitwise-result","and"),T(N(this).and(t))}or(e){let t=N(e);return(this.isNegative()||t.isNeg())&&x("unbound-bitwise-result","or"),T(N(this).or(t))}xor(e){let t=N(e);return(this.isNegative()||t.isNeg())&&x("unbound-bitwise-result","xor"),T(N(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&x("negative-width","mask"),T(N(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&x("negative-width","shl"),T(N(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&x("negative-width","shr"),T(N(this).shrn(e))}eq(e){return N(this).eq(N(e))}lt(e){return N(this).lt(N(e))}lte(e){return N(this).lte(N(e))}gt(e){return N(this).gt(N(e))}gte(e){return N(this).gte(N(e))}isNegative(){return"-"===this._hex[0]}isZero(){return N(this).isZero()}toNumber(){try{return N(this).toNumber()}catch(e){x("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return b.throwError("this platform does not support BigInt",m.Yd.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?S||(S=!0,b.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?b.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",m.Yd.errors.UNEXPECTED_ARGUMENT,{}):b.throwError("BigNumber.toString does not accept parameters",m.Yd.errors.UNEXPECTED_ARGUMENT,{})),N(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof _)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new _(w,k(e)):e.match(/^-?[0-9]+$/)?new _(w,k(new v(e))):b.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&x("underflow","BigNumber.from",e),(e>=E||e<=-E)&&x("overflow","BigNumber.from",e),_.from(String(e));let t=e;if("bigint"==typeof t)return _.from(t.toString());if((0,d._t)(t))return _.from((0,d.Dv)(t));if(t){if(t.toHexString){let r=t.toHexString();if("string"==typeof r)return _.from(r)}else{let n=t._hex;if(null==n&&"BigNumber"===t.type&&(n=t.hex),"string"==typeof n&&((0,d.A7)(n)||"-"===n[0]&&(0,d.A7)(n.substring(1))))return _.from(n)}}return b.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function k(e){if("string"!=typeof e)return k(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&b.throwArgumentError("invalid hex","value",e),"0x00"===(e=k(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function T(e){return _.from(k(e))}function N(e){let t=_.from(e).toHexString();return"-"===t[0]?new v("-"+t.substring(3),16):new v(t.substring(2),16)}function x(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),b.throwError(e,m.Yd.errors.NUMERIC_FAULT,n)}function P(e){return new v(e,36).toString(16)}function C(e){return new v(e,16).toString(36)}var R=r(3565);let I="abi/5.7.0",O=new m.Yd(I);function M(e){let t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){let o=e.slice();o.push(i);try{r(o,n[i])}catch(s){t.push({path:o,error:s})}}};return r([],e),t}class D{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){O.throwArgumentError(e,this.localName,t)}}class L{constructor(e){(0,R.zG)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,d.xs)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,d.zo)(e._data))}writeBytes(e){let t=(0,d.lE)(e),r=t.length%this.wordSize;return r&&(t=(0,d.zo)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=(0,d.lE)(_.from(e));return t.length>this.wordSize&&O.throwError("value out-of-bounds",m.Yd.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=(0,d.zo)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class F{constructor(e,t,r,n){(0,R.zG)(this,"_data",(0,d.lE)(e)),(0,R.zG)(this,"wordSize",t||32),(0,R.zG)(this,"_coerceFunc",r),(0,R.zG)(this,"allowLoose",n),this._offset=0}get data(){return(0,d.Dv)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):F.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:O.throwError("data out-of-bounds",m.Yd.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new F(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return _.from(this.readBytes(this.wordSize))}}var B=r(1094),U=r.n(B);function j(e){return"0x"+U().keccak_256((0,d.lE)(e))}let V="rlp/5.7.0",G=new m.Yd(V);function z(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function q(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function H(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(H(e))}),t.length<=55)return t.unshift(192+t.length),t;let r=z(t.length);return r.unshift(247+r.length),r.concat(t)}(0,d.Zq)(e)||G.throwArgumentError("RLP object must be BytesLike","object",e);let n=Array.prototype.slice.call((0,d.lE)(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;let i=z(n.length);return i.unshift(183+i.length),i.concat(n)}function K(e){return(0,d.Dv)(H(e))}function W(e,t,r,n){let i=[];for(;r<t+1+n;){let o=$(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&G.throwError("child data too short",m.Yd.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function $(e,t){if(0===e.length&&G.throwError("data too short",m.Yd.errors.BUFFER_OVERRUN,{}),e[t]>=248){let r=e[t]-247;t+1+r>e.length&&G.throwError("data short segment too short",m.Yd.errors.BUFFER_OVERRUN,{});let n=q(e,t+1,r);return t+1+r+n>e.length&&G.throwError("data long segment too short",m.Yd.errors.BUFFER_OVERRUN,{}),W(e,t,t+1+r,r+n)}if(e[t]>=192){let i=e[t]-192;return t+1+i>e.length&&G.throwError("data array too short",m.Yd.errors.BUFFER_OVERRUN,{}),W(e,t,t+1,i)}if(e[t]>=184){let o=e[t]-183;t+1+o>e.length&&G.throwError("data array too short",m.Yd.errors.BUFFER_OVERRUN,{});let s=q(e,t+1,o);t+1+o+s>e.length&&G.throwError("data array too short",m.Yd.errors.BUFFER_OVERRUN,{});let a=(0,d.Dv)(e.slice(t+1+o,t+1+o+s));return{consumed:1+o+s,result:a}}if(e[t]>=128){let l=e[t]-128;t+1+l>e.length&&G.throwError("data too short",m.Yd.errors.BUFFER_OVERRUN,{});let u=(0,d.Dv)(e.slice(t+1,t+1+l));return{consumed:1+l,result:u}}return{consumed:1,result:(0,d.Dv)(e[t])}}function Y(e){let t=(0,d.lE)(e),r=$(t,0);return r.consumed!==t.length&&G.throwArgumentError("invalid rlp data","data",e),r.result}let J="address/5.7.0",Q=new m.Yd(J);function X(e){(0,d.A7)(e,20)||Q.throwArgumentError("invalid address","address",e),e=e.toLowerCase();let t=e.substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=t[n].charCodeAt(0);let i=(0,d.lE)(j(r));for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&(t[o]=t[o].toUpperCase()),(15&i[o>>1])>=8&&(t[o+1]=t[o+1].toUpperCase());return"0x"+t.join("")}let Z=9007199254740991;function ee(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}let et={};for(let er=0;er<10;er++)et[String(er)]=String(er);for(let en=0;en<26;en++)et[String.fromCharCode(65+en)]=String(10+en);let ei=Math.floor(ee(Z));function eo(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>et[e]).join("");for(;t.length>=ei;){let r=t.substring(0,ei);t=parseInt(r,10)%97+t.substring(r.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}function es(e){let t=null;if("string"!=typeof e&&Q.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=X(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Q.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==eo(e)&&Q.throwArgumentError("bad icap checksum","address",e),t=P(e.substring(4));t.length<40;)t="0"+t;t=X("0x"+t)}else Q.throwArgumentError("invalid address","address",e);return t}function ea(e){try{return es(e),!0}catch(t){}return!1}function el(e){let t=C(es(e).substring(2)).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+eo("XE00"+t)+t}function eu(e){let t=null;try{t=es(e.from)}catch(r){Q.throwArgumentError("missing from address","transaction",e)}let n=(0,d.G1)((0,d.lE)(_.from(e.nonce).toHexString()));return es((0,d.p3)(j(K([t,n])),12))}function ec(e,t,r){return 32!==(0,d.E1)(t)&&Q.throwArgumentError("salt must be 32 bytes","salt",t),32!==(0,d.E1)(r)&&Q.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),es((0,d.p3)(j((0,d.zo)(["0xff",es(e),t,r])),12))}var eh=r(9361);function ef(e){return j((0,eh.Y0)(e))}class ed extends D{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=es(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return es((0,d.$m)(e.readValue().toHexString(),20))}}class ep extends D{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let eg=new m.Yd(I);function em(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let i={};n=t.map(e=>{let t=e.localName;return t||eg.throwError("cannot encode object for signature with missing names",m.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]&&eg.throwError("cannot encode object for signature with duplicate names",m.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]=!0,r[t]})}else eg.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&eg.throwArgumentError("types/value length mismatch","tuple",r);let o=new L(e.wordSize),s=new L(e.wordSize),a=[];return t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let i=s.length;e.encode(s,r);let l=o.writeUpdatableValue();a.push(e=>{l(e+i)})}else e.encode(o,r)}),a.forEach(e=>{e(o.length)}),e.appendWriter(o)+e.appendWriter(s)}function ey(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let i=null;if(t.dynamic){let o=e.readValue(),s=n.subReader(o.toNumber());try{i=t.decode(s)}catch(a){if(a.code===m.Yd.errors.BUFFER_OVERRUN)throw a;(i=a).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(l){if(l.code===m.Yd.errors.BUFFER_OVERRUN)throw l;(i=l).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)});let i=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==i[n]||("length"===n&&(n="_length"),null!=r[n]))return;let o=r[t];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get(){throw o}}):r[n]=o});for(let o=0;o<r.length;o++){let s=r[o];s instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get(){throw s}})}return Object.freeze(r)}class ev extends D{constructor(e,t,r){let n=e.type+"["+(t>=0?t:"")+"]",i=-1===t||e.dynamic;super("array",n,r,i),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),eg.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let i=0;i<t.length;i++)n.push(this.coder);return em(e,n,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&eg.throwError("insufficient data length",m.Yd.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let n=0;n<t;n++)r.push(new ep(this.coder));return e.coerce(this.name,ey(e,r))}}class eb extends D{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class ew extends D{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=(0,d.lE)(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class eE extends ew{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,d.Dv)(super.decode(e)))}}class eA extends D{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,d.lE)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,(0,d.Dv)(e.readBytes(this.size)))}}class eS extends D{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}let e_=_.from(-1),ek=_.from(0),eT=_.from(1),eN=_.from(2),ex=_.from("1000000000000000000"),eP=_.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eC=_.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),eR=_.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class eI extends D{constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=_.from(t),n=eP.mask(8*e.wordSize);if(this.signed){let i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(eT).mul(e_)))&&this._throwError("value out-of-bounds",t)}else(r.lt(ek)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class eO extends ew{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,eh.Y0)(t))}decode(e){return(0,eh.ZN)(super.decode(e))}}class eM extends D{constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)});let i="tuple("+n.join(",")+")";super("tuple",i,t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return em(e,this.coders,t)}decode(e){return e.coerce(this.name,ey(e,this.coders))}}let eD=new m.Yd(I),eL={},eF={calldata:!0,memory:!0,storage:!0},eB={calldata:!0,memory:!0};function eU(e,t){if("bytes"===e||"string"===e){if(eF[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&eB[t])return!0;return(eF[t]||"payable"===t)&&eD.throwArgumentError("invalid modifier","name",t),!1}function ej(e,t){let r=e;function n(t){eD.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<e.length;a++){let l=e[a];switch(l){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=e1(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(a),s.indexed=!0,s.name=""),eU(s.type,s.name)&&(s.name=""),s.type=e1(s.type);let u=s;(s=s.parent)||n(a),delete u.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(a),s.indexed=!0,s.name=""),eU(s.type,s.name)&&(s.name=""),s.type=e1(s.type);let c=i(s.parent);s.parent.components.push(c),delete s.parent,s=c;break;case" ":s.state.allowType&&""!==s.type&&(s.type=e1(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):eU(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=l,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=l,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=l,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=l,delete s.state.allowArray):s.state.readArray?s.type+=l:n(a)}}return s.parent&&eD.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):eU(s.type,s.name)&&(s.name=""),o.type=e1(o.type),o}function eV(e,t){for(let r in t)(0,R.zG)(e,r,t[r])}let eG=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ez=RegExp(/^(.*)\[([0-9]*)\]$/);class eq{constructor(e,t){e!==eL&&eD.throwError("use fromString",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),eV(this,t);let r=this.type.match(ez);r?eV(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:eq.fromObject({type:r[1],components:this.components}),baseType:"array"}):eV(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=eG.sighash),eG[e]||eD.throwArgumentError("invalid format type","format",e),e===eG.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let r="";return"array"===this.baseType?r=this.arrayChildren.format(e)+"["+(this.arrayLength<0?"":String(this.arrayLength))+"]":"tuple"===this.baseType?(e!==eG.sighash&&(r+=this.type),r+="("+this.components.map(t=>t.format(e)).join(e===eG.full?", ":",")+")"):r+=this.type,e!==eG.sighash&&(!0===this.indexed&&(r+=" indexed"),e===eG.full&&this.name&&(r+=" "+this.name)),r}static from(e,t){return"string"==typeof e?eq.fromString(e,t):eq.fromObject(e)}static fromObject(e){return eq.isParamType(e)?e:new eq(eL,{name:e.name||null,type:e1(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(eq.fromObject):null})}static fromString(e,t){var r;return r=ej(e,!!t),eq.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function eH(e,t){return e4(e).map(e=>eq.fromString(e,t))}class eK{constructor(e,t){e!==eL&&eD.throwError("use a static from method",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),eV(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return eK.isFragment(e)?e:"string"==typeof e?eK.fromString(e):eK.fromObject(e)}static fromObject(e){if(eK.isFragment(e))return e;switch(e.type){case"function":return eX.fromObject(e);case"event":return eW.fromObject(e);case"constructor":return eQ.fromObject(e);case"error":return e0.fromObject(e);case"fallback":case"receive":return null}return eD.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?eW.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?eX.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?eQ.fromString(e.trim()):"error"===e.split(" ")[0]?e0.fromString(e.substring(5).trim()):eD.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class eW extends eK{format(e){if(e||(e=eG.sighash),eG[e]||eD.throwArgumentError("invalid format type","format",e),e===eG.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==eG.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===eG.full?", ":",")+") ",e!==eG.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?eW.fromString(e):eW.fromObject(e)}static fromObject(e){if(eW.isEventFragment(e))return e;"event"!==e.type&&eD.throwArgumentError("invalid event object","value",e);let t={name:e3(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(eq.fromObject):[],type:"event"};return new eW(eL,t)}static fromString(e){let t=e.match(e6);t||eD.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:eD.warn("unknown modifier: "+e)}}),eW.fromObject({name:t[1].trim(),anonymous:r,inputs:eH(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function e$(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&eD.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||eD.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=_.from(r[1]),r[0]):e}function eY(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function eJ(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&eD.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&eD.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||eD.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&eD.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&eD.throwArgumentError("unable to determine stateMutability","value",e),t}class eQ extends eK{format(e){if(e||(e=eG.sighash),eG[e]||eD.throwArgumentError("invalid format type","format",e),e===eG.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===eG.sighash&&eD.throwError("cannot format a constructor for sighash",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===eG.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?eQ.fromString(e):eQ.fromObject(e)}static fromObject(e){if(eQ.isConstructorFragment(e))return e;"constructor"!==e.type&&eD.throwArgumentError("invalid constructor object","value",e);let t=eJ(e);t.constant&&eD.throwArgumentError("constructor cannot be constant","value",e);let r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(eq.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?_.from(e.gas):null};return new eQ(eL,r)}static fromString(e){let t={type:"constructor"},r=(e=e$(e,t)).match(e6);return r&&"constructor"===r[1].trim()||eD.throwArgumentError("invalid constructor string","value",e),t.inputs=eH(r[2].trim(),!1),eY(r[3].trim(),t),eQ.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class eX extends eQ{format(e){if(e||(e=eG.sighash),eG[e]||eD.throwArgumentError("invalid format type","format",e),e===eG.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==eG.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===eG.full?", ":",")+") ",e!==eG.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?eX.fromString(e):eX.fromObject(e)}static fromObject(e){if(eX.isFunctionFragment(e))return e;"function"!==e.type&&eD.throwArgumentError("invalid function object","value",e);let t=eJ(e),r={type:e.type,name:e3(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(eq.fromObject):[],outputs:e.outputs?e.outputs.map(eq.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?_.from(e.gas):null};return new eX(eL,r)}static fromString(e){let t={type:"function"},r=(e=e$(e,t)).split(" returns ");r.length>2&&eD.throwArgumentError("invalid function string","value",e);let n=r[0].match(e6);if(n||eD.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&e3(t.name),t.inputs=eH(n[2],!1),eY(n[3].trim(),t),r.length>1){let i=r[1].match(e6);(""!=i[1].trim()||""!=i[3].trim())&&eD.throwArgumentError("unexpected tokens","value",e),t.outputs=eH(i[2],!1)}else t.outputs=[];return eX.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function eZ(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&eD.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class e0 extends eK{format(e){if(e||(e=eG.sighash),eG[e]||eD.throwArgumentError("invalid format type","format",e),e===eG.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==eG.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===eG.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?e0.fromString(e):e0.fromObject(e)}static fromObject(e){if(e0.isErrorFragment(e))return e;"error"!==e.type&&eD.throwArgumentError("invalid error object","value",e);let t={type:e.type,name:e3(e.name),inputs:e.inputs?e.inputs.map(eq.fromObject):[]};return eZ(new e0(eL,t))}static fromString(e){let t={type:"error"},r=e.match(e6);return r||eD.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&e3(t.name),t.inputs=eH(r[2],!1),eZ(e0.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function e1(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let e2=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function e3(e){return e&&e.match(e2)||eD.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let e6=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function e4(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let o=e[i];","===o&&0===n?(t.push(r),r=""):(r+=o,"("===o?n++:")"===o&&-1==--n&&eD.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t}let e5=new m.Yd(I),e8=RegExp(/^bytes([0-9]*)$/),e7=RegExp(/^(u?int)([0-9]*)$/);class e9{constructor(e){(0,R.zG)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new ed(e.name);case"bool":return new eb(e.name);case"string":return new eO(e.name);case"bytes":return new eE(e.name);case"array":return new ev(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new eM((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new eS(e.name)}let t=e.type.match(e7);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&e5.throwArgumentError("invalid "+t[1]+" bit length","param",e),new eI(r/8,"int"===t[1],e.name)}if(t=e.type.match(e8)){let n=parseInt(t[1]);return(0===n||n>32)&&e5.throwArgumentError("invalid bytes length","param",e),new eA(n,e.name)}return e5.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new F(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new L(this._getWordSize())}getDefaultValue(e){let t=e.map(e=>this._getCoder(eq.from(e))),r=new eM(t,"_");return r.defaultValue()}encode(e,t){e.length!==t.length&&e5.throwError("types/values length mismatch",m.Yd.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=e.map(e=>this._getCoder(eq.from(e))),n=new eM(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){let n=e.map(e=>this._getCoder(eq.from(e))),i=new eM(n,"_");return i.decode(this._getReader((0,d.lE)(t),r))}}let te=new e9,tt=new m.Yd(I);class tr extends R.dk{}class tn extends R.dk{}class ti extends R.dk{}class to extends R.dk{static isIndexed(e){return!!(e&&e._isIndexed)}}let ts={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ta(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class tl{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,(0,R.zG)(this,"fragments",t.map(e=>eK.from(e)).filter(e=>null!=e)),(0,R.zG)(this,"_abiCoder",(0,R.tu)(new.target,"getAbiCoder")()),(0,R.zG)(this,"functions",{}),(0,R.zG)(this,"errors",{}),(0,R.zG)(this,"events",{}),(0,R.zG)(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy){tt.warn("duplicate definition - constructor");return}(0,R.zG)(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();if(t[r]){tt.warn("duplicate definition - "+r);return}t[r]=e}),this.deploy||(0,R.zG)(this,"deploy",eQ.from({payable:!1,type:"constructor"})),(0,R.zG)(this,"_isInterface",!0)}format(e){e||(e=eG.full),e===eG.sighash&&tt.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(t=>t.format(e));return e===eG.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return te}static getAddress(e){return es(e)}static getSighash(e){return(0,d.p3)(ef(e.format()),0,4)}static getEventTopic(e){return ef(e.format())}getFunction(e){if((0,d.A7)(e)){for(let t in this.functions)if(e===this.getSighash(t))return this.functions[t];tt.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){let r=e.trim(),n=Object.keys(this.functions).filter(e=>e.split("(")[0]===r);return 0===n.length?tt.throwArgumentError("no matching function","name",r):n.length>1&&tt.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}let i=this.functions[eX.fromString(e).format()];return i||tt.throwArgumentError("no matching function","signature",e),i}getEvent(e){if((0,d.A7)(e)){let t=e.toLowerCase();for(let r in this.events)if(t===this.getEventTopic(r))return this.events[r];tt.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){let n=e.trim(),i=Object.keys(this.events).filter(e=>e.split("(")[0]===n);return 0===i.length?tt.throwArgumentError("no matching event","name",n):i.length>1&&tt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}let o=this.events[eW.fromString(e).format()];return o||tt.throwArgumentError("no matching event","signature",e),o}getError(e){if((0,d.A7)(e)){let t=(0,R.tu)(this.constructor,"getSighash");for(let r in this.errors){let n=this.errors[r];if(e===t(n))return this.errors[r]}tt.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){let i=e.trim(),o=Object.keys(this.errors).filter(e=>e.split("(")[0]===i);return 0===o.length?tt.throwArgumentError("no matching error","name",i):o.length>1&&tt.throwArgumentError("multiple matching errors","name",i),this.errors[o[0]]}let s=this.errors[eX.fromString(e).format()];return s||tt.throwArgumentError("no matching error","signature",e),s}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch(t){throw r}}return(0,R.tu)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),(0,R.tu)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));let r=(0,d.lE)(t);return(0,d.Dv)(r.slice(0,4))!==this.getSighash(e)&&tt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,d.Dv)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),(0,d.Dv)((0,d.zo)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,d.lE)(t);return(0,d.Dv)(r.slice(0,4))!==this.getSighash(e)&&tt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,d.Dv)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,d.Dv)((0,d.zo)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,d.lE)(t),n=null,i="",o=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(l){}break;case 4:{let u=(0,d.Dv)(r.slice(0,4)),c=ts[u];if(c)o=this._abiCoder.decode(c.inputs,r.slice(4)),s=c.name,a=c.signature,c.reason&&(n=o[0]),"Error"===s?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:"Panic"===s&&(i=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{let h=this.getError(u);o=this._abiCoder.decode(h.inputs,r.slice(4)),s=h.name,a=h.format()}catch(f){}}}return tt.throwError("call revert exception"+i,m.Yd.errors.CALL_EXCEPTION,{method:e.format(),data:(0,d.Dv)(t),errorArgs:o,errorName:s,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,d.Dv)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&tt.throwError("too many arguments for "+e.format(),m.Yd.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));let n=(e,t)=>"string"===e.type?ef(t):"bytes"===e.type?j((0,d.Dv)(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=_.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),(0,d.$m)((0,d.Dv)(t),32));for(t.forEach((t,i)=>{let o=e.inputs[i];if(!o.indexed){null!=t&&tt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,t);return}null==t?r.push(null):"array"===o.baseType||"tuple"===o.baseType?tt.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,t):Array.isArray(t)?r.push(t.map(e=>n(o,e))):r.push(n(o,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));let r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&tt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,o)=>{let s=t[o];if(e.indexed){if("string"===e.type)r.push(ef(s));else if("bytes"===e.type)r.push(j(s));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),i.push(s)}),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let n=this.getEventTopic(e);(0,d.A7)(r[0],32)&&r[0].toLowerCase()===n||tt.throwError("fragment/topic mismatch",m.Yd.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(eq.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(i.push(e),s.push(!1)):(o.push(e),s.push(!1))});let a=null!=r?this._abiCoder.decode(i,(0,d.zo)(r)):null,l=this._abiCoder.decode(o,t,!0),u=[],c=0,h=0;e.inputs.forEach((e,t)=>{if(e.indexed){if(null==a)u[t]=new to({_isIndexed:!0,hash:null});else if(s[t])u[t]=new to({_isIndexed:!0,hash:a[h++]});else try{u[t]=a[h++]}catch(r){u[t]=r}}else try{u[t]=l[c++]}catch(n){u[t]=n}if(e.name&&null==u[e.name]){let i=u[t];i instanceof Error?Object.defineProperty(u,e.name,{enumerable:!0,get(){throw ta(`property ${JSON.stringify(e.name)}`,i)}}):u[e.name]=i}});for(let f=0;f<u.length;f++){let p=u[f];p instanceof Error&&Object.defineProperty(u,f,{enumerable:!0,get(){throw ta(`index ${f}`,p)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new tn({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:_.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new tr({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){let t=(0,d.Dv)(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new ti({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}let tu="abstract-provider/5.7.0";var tc=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let th=new m.Yd(tu);class tf extends R.dk{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class td{constructor(){th.checkAbstract(new.target,td),(0,R.zG)(this,"_isProvider",!0)}getFeeData(){return tc(this,void 0,void 0,function*(){let{block:e,gasPrice:t}=yield(0,R.mE)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=_.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}let tp="abstract-signer/5.7.0";var tg=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let tm=new m.Yd(tp),ty=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],tv=[m.Yd.errors.INSUFFICIENT_FUNDS,m.Yd.errors.NONCE_EXPIRED,m.Yd.errors.REPLACEMENT_UNDERPRICED];class tb{constructor(){tm.checkAbstract(new.target,tb),(0,R.zG)(this,"_isSigner",!0)}getBalance(e){return tg(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return tg(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return tg(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield(0,R.mE)(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return tg(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield(0,R.mE)(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return tg(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return tg(this,void 0,void 0,function*(){this._checkProvider("getChainId");let e=yield this.provider.getNetwork();return e.chainId})}getGasPrice(){return tg(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return tg(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return tg(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===ty.indexOf(t)&&tm.throwArgumentError("invalid transaction key: "+t,"transaction",e);let r=(0,R.DC)(e);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&tm.throwArgumentError("from address mismatch","transaction",e),t[0])),r}populateTransaction(e){return tg(this,void 0,void 0,function*(){let t=yield(0,R.mE)(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>tg(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&tm.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?tm.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&tm.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let n=yield this.getFeeData();if(null==t.type){if(null!=n.maxFeePerGas&&null!=n.maxPriorityFeePerGas){if(t.type=2,null!=t.gasPrice){let i=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=i,t.maxPriorityFeePerGas=i}else null==t.maxFeePerGas&&(t.maxFeePerGas=n.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas)}else null!=n.gasPrice?(r&&tm.throwError("network does not support EIP-1559",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=n.gasPrice),t.type=0):tm.throwError("failed to get consistent fee data",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=n.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(tv.indexOf(e.code)>=0)throw e;return tm.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",m.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&tm.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield(0,R.mE)(t)})}_checkProvider(e){this.provider||tm.throwError("missing provider",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class tw extends tb{constructor(e,t){super(),(0,R.zG)(this,"address",e),(0,R.zG)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{tm.throwError(e,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new tw(this.address,e)}}var tE=r(3715),tA=r.n(tE);function tS(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return t_(e,null==t?r.path:t)}},r.exports),r.exports}function t_(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var tk=tT;function tT(e,t){if(!e)throw Error(t||"Assertion failed")}tT.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var tN=tS(function(e,t){var r=t;function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r}function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toArray=n,r.zero2=i,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}}),tx=tS(function(e,t){var r=t;function n(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n}function i(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,s,a,l=e.andln(3)+n&3,u=t.andln(3)+i&3;3===l&&(l=-1),3===u&&(u=-1),s=(1&l)==0?0:(3==(o=e.andln(7)+n&7)||5===o)&&2===u?-l:l,r[0].push(s),a=(1&u)==0?0:(3==(o=t.andln(7)+i&7)||5===o)&&2===l?-u:u,r[1].push(a),2*n===s+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r}function o(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}}function s(e){return"string"==typeof e?r.toArray(e,"hex"):e}function a(e){return new(g())(e,"hex","le")}r.assert=tk,r.toArray=tN.toArray,r.zero2=tN.zero2,r.toHex=tN.toHex,r.encode=tN.encode,r.getNAF=n,r.getJSF=i,r.cachedProperty=o,r.parseBytes=s,r.intFromLE=a}),tP=tx.getNAF,tC=tx.getJSF,tR=tx.assert;function tI(e,t){this.type=e,this.p=new(g())(t.p,16),this.red=t.prime?g().red(t.prime):g().mont(this.p),this.zero=new(g())(0).toRed(this.red),this.one=new(g())(1).toRed(this.red),this.two=new(g())(2).toRed(this.red),this.n=t.n&&new(g())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var tO=tI;function tM(e,t){this.curve=e,this.type=t,this.precomputed=null}tI.prototype.point=function(){throw Error("Not implemented")},tI.prototype.validate=function(){throw Error("Not implemented")},tI.prototype._fixedNafMul=function(e,t){tR(e.precomputed);var r,n,i=e._getDoubles(),o=tP(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var a=[];for(r=0;r<o.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+o[l];a.push(n)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=s;h>0;h--){for(r=0;r<a.length;r++)(n=a[r])===h?c=c.mixedAdd(i.points[r]):n===-h&&(c=c.mixedAdd(i.points[r].neg()));u=u.add(c)}return u.toP()},tI.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=tP(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];tR(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},tI.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=t[o])._getNAFPoints(e);l[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1!==l[d]||1!==l[p]){c[d]=tP(r[d],l[d],this._bitLength),c[p]=tP(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h);continue}var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=tC(r[d],r[p]);for(s=0,h=Math.max(y[0].length,h),c[d]=Array(h),c[p]=Array(h);s<h;s++){var v=0|y[0][s],b=0|y[1][s];c[d][s]=m[(v+1)*3+(b+1)],c[p][s]=0,u[d]=g}}var w=this.jpoint(null,null,null),E=this._wnafT4;for(o=h;o>=0;o--){for(var A=0;o>=0;){var S=!0;for(s=0;s<n;s++)E[s]=0|c[s][o],0!==E[s]&&(S=!1);if(!S)break;A++,o--}if(o>=0&&A++,w=w.dblp(A),o<0)break;for(s=0;s<n;s++){var _=E[s];0!==_&&(_>0?a=u[s][_-1>>1]:_<0&&(a=u[s][-_-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},tI.BasePoint=tM,tM.prototype.eq=function(){throw Error("Not implemented")},tM.prototype.validate=function(){return this.curve.validate(this)},tI.prototype.decodePoint=function(e,t){e=tx.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?tR(e[e.length-1]%2==0):7===e[0]&&tR(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},tM.prototype.encodeCompressed=function(e){return this.encode(e,!0)},tM.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},tM.prototype.encode=function(e,t){return tx.encode(this._encode(t),e)},tM.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},tM.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},tM.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},tM.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},tM.prototype._getBeta=function(){return null},tM.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var tD=tS(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),tL=tx.assert;function tF(e){tO.call(this,"short",e),this.a=new(g())(e.a,16).toRed(this.red),this.b=new(g())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}tD(tF,tO);var tB=tF;function tU(e,t,r,n){tO.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(g())(t,16),this.y=new(g())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function tj(e,t,r,n){tO.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(g())(0)):(this.x=new(g())(t,16),this.y=new(g())(r,16),this.z=new(g())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}tF.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new(g())(e.beta,16).toRed(this.red);else{var t,r,n,i=this._getEndoRoots(this.p);t=(t=0>i[0].cmp(i[1])?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new(g())(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],tL(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new(g())(e.a,16),b:new(g())(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},tF.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:g().mont(e),r=new(g())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(g())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},tF.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),d=new(g())(1),p=new(g())(0),m=new(g())(0),y=new(g())(1),v=0;0!==h.cmpn(0);){var b=f.div(h);l=f.sub(b.mul(h)),u=m.sub(b.mul(d));var w=y.sub(b.mul(p));if(!n&&0>l.cmp(c))t=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++v)break;a=l,f=h,h=l,m=d,d=u,y=p,p=w}o=l.neg(),s=u;var E=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(E)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},tF.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:l.add(u).neg()}},tF.prototype.pointFromX=function(e,t){(e=new(g())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},tF.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},tF.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*o]=a,n[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},tD(tU,tO.BasePoint),tF.prototype.point=function(e,t,r){return new tU(this,e,t,r)},tF.prototype.pointFromJSON=function(e,t){return tU.fromJSON(this,e,t)},tU.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},tU.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},tU.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},tU.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},tU.prototype.isInfinity=function(){return this.inf},tU.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},tU.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},tU.prototype.getX=function(){return this.x.fromRed()},tU.prototype.getY=function(){return this.y.fromRed()},tU.prototype.mul=function(e){return(e=new(g())(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},tU.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},tU.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},tU.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},tU.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},tU.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},tD(tj,tO.BasePoint),tF.prototype.jpoint=function(e,t,r){return new tj(this,e,t,r)},tj.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},tj.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},tj.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,d,p)},tj.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},tj.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=o.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var v=u.redMul(a);t+1<e&&(l=l.redMul(f)),o=g,a=v,u=y}return this.curve.jpoint(o,u.redMul(i),a)},tj.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},tj.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=l,t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},tj.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},tj.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),l=t.redAdd(t),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},tj.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},tj.prototype.mul=function(e,t){return e=new(g())(e,t),this.curve._wnafMul(this,e)},tj.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},tj.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},tj.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},tj.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var tV=tS(function(e,t){var r=t;r.base=tO,r.short=tB,r.mont=null,r.edwards=null}),tG=tS(function(e,t){var r,n=t,i=tx.assert;function o(e){"short"===e.type?this.curve=new tV.short(e):"edwards"===e.type?this.curve=new tV.edwards(e):this.curve=new tV.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:tA().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:tA().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:tA().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:tA().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:tA().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:tA().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:tA().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:tA().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function tz(e){if(!(this instanceof tz))return new tz(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=tN.toArray(e.entropy,e.entropyEnc||"hex"),r=tN.toArray(e.nonce,e.nonceEnc||"hex"),n=tN.toArray(e.pers,e.persEnc||"hex");tk(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var tq=tz;tz.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},tz.prototype._hmac=function(){return new(tA()).hmac(this.hash,this.K)},tz.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},tz.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=tN.toArray(e,t),r=tN.toArray(r,n),tk(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},tz.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=tN.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,tN.encode(o,t)};var tH=tx.assert;function tK(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var tW=tK;tK.fromPublic=function(e,t,r){return t instanceof tK?t:new tK(e,{pub:t,pubEnc:r})},tK.fromPrivate=function(e,t,r){return t instanceof tK?t:new tK(e,{priv:t,privEnc:r})},tK.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},tK.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},tK.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},tK.prototype._importPrivate=function(e,t){this.priv=new(g())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},tK.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?tH(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&tH(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},tK.prototype.derive=function(e){return e.validate()||tH(e.validate(),"public point not validated"),e.mul(this.priv).getX()},tK.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},tK.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},tK.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var t$=tx.assert;function tY(e,t){if(e instanceof tY)return e;this._importDER(e,t)||(t$(e.r&&e.s,"Signature without r or s"),this.r=new(g())(e.r,16),this.s=new(g())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var tJ=tY;function tQ(){this.place=0}function tX(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function tZ(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function t0(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}tY.prototype._importDER=function(e,t){e=tx.toArray(e,t);var r=new tQ;if(48!==e[r.place++])return!1;var n=tX(e,r);if(!1===n||n+r.place!==e.length||2!==e[r.place++])return!1;var i=tX(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=tX(e,r);if(!1===s||e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(g())(o),this.s=new(g())(a),this.recoveryParam=null,!0},tY.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=tZ(t),r=tZ(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];t0(n,t.length),(n=n.concat(t)).push(2),t0(n,r.length);var i=n.concat(r),o=[48];return t0(o,i.length),o=o.concat(i),tx.encode(o,e)};var t1=function(){throw Error("unsupported")},t2=tx.assert;function t3(e){if(!(this instanceof t3))return new t3(e);"string"==typeof e&&(t2(Object.prototype.hasOwnProperty.call(tG,e),"Unknown curve "+e),e=tG[e]),e instanceof tG.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var t6=t3;t3.prototype.keyPair=function(e){return new tW(this,e)},t3.prototype.keyFromPrivate=function(e,t){return tW.fromPrivate(this,e,t)},t3.prototype.keyFromPublic=function(e,t){return tW.fromPublic(this,e,t)},t3.prototype.genKeyPair=function(e){e||(e={});for(var t=new tq({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||t1(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(g())(2));;){var i=new(g())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},t3.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},t3.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(g())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new tq({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new(g())(1)),u=0;;u++){var c=n.k?n.k(u):new(g())(a.generate(this.n.byteLength()));if(!(0>=(c=this._truncateToN(c,!0)).cmpn(1)||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new tJ({r:d,s:p,recoveryParam:m})}}}}}},t3.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(g())(e,16)),r=this.keyFromPublic(r,n);var i,o=(t=new tJ(t,"hex")).r,s=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n);return this.curve._maxwellTrick?!(i=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&i.eqXToP(o):!(i=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===i.getX().umod(this.n).cmp(o)},t3.prototype.recoverPubKey=function(e,t,r,n){t2((3&r)===r,"The recovery param is more than two bits"),t=new tJ(t,n);var i=this.n,o=new(g())(e),s=t.r,a=t.s,l=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=t.r.invm(i),h=i.sub(o).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,s,f)},t3.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new tJ(t,n)).recoveryParam)return t.recoveryParam;for(var i,o=0;o<4;o++){try{i=this.recoverPubKey(e,t,o)}catch(s){continue}if(i.eq(r))return o}throw Error("Unable to find valid recovery factor")};var t4=tS(function(e,t){var r=t;r.version="6.5.4",r.utils=tx,r.rand=function(){throw Error("unsupported")},r.curve=tV,r.curves=tG,r.ec=t6,r.eddsa=null}).ec;let t5="signing-key/5.7.0",t8=new m.Yd(t5),t7=null;function t9(){return t7||(t7=new t4("secp256k1")),t7}class re{constructor(e){(0,R.zG)(this,"curve","secp256k1"),(0,R.zG)(this,"privateKey",(0,d.Dv)(e)),32!==(0,d.E1)(this.privateKey)&&t8.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=t9().keyFromPrivate((0,d.lE)(this.privateKey));(0,R.zG)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,R.zG)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,R.zG)(this,"_isSigningKey",!0)}_addPoint(e){let t=t9().keyFromPublic((0,d.lE)(this.publicKey)),r=t9().keyFromPublic((0,d.lE)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=t9().keyFromPrivate((0,d.lE)(this.privateKey)),r=(0,d.lE)(e);32!==r.length&&t8.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return(0,d.N)({recoveryParam:n.recoveryParam,r:(0,d.$m)("0x"+n.r.toString(16),32),s:(0,d.$m)("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=t9().keyFromPrivate((0,d.lE)(this.privateKey)),r=t9().keyFromPublic((0,d.lE)(rr(e)));return(0,d.$m)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function rt(e,t){let r=(0,d.N)(t),n={r:(0,d.lE)(r.r),s:(0,d.lE)(r.s)};return"0x"+t9().recoverPubKey((0,d.lE)(e),n,r.recoveryParam).encode("hex",!1)}function rr(e,t){let r=(0,d.lE)(e);if(32===r.length){let n=new re(r);return t?"0x"+t9().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?(0,d.Dv)(r):"0x"+t9().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+t9().keyFromPublic(r).getPublic(!0,"hex"):(0,d.Dv)(r):t8.throwArgumentError("invalid public or private key","key","[REDACTED]")}let rn="transactions/5.7.0",ri=new m.Yd(rn);function ro(e){return"0x"===e?null:es(e)}function rs(e){return"0x"===e?ek:_.from(e)}(n=o||(o={}))[n.legacy=0]="legacy",n[n.eip2930=1]="eip2930",n[n.eip1559=2]="eip1559";let ra=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],rl={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function ru(e){let t=rr(e);return es((0,d.p3)(j((0,d.p3)(t,1)),12))}function rc(e,t){return ru(rt((0,d.lE)(e),t))}function rh(e,t){let r=(0,d.G1)(_.from(e).toHexString());return r.length>32&&ri.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function rf(e,t){return{address:es(e),storageKeys:(t||[]).map((t,r)=>(32!==(0,d.E1)(t)&&ri.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function rd(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&ri.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),rf(e[0],e[1])):rf(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return rf(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function rp(e){return rd(e).map(e=>[e.address,e.storageKeys])}function rg(e,t){if(null!=e.gasPrice){let r=_.from(e.gasPrice),n=_.from(e.maxFeePerGas||0);r.eq(n)||ri.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}let i=[rh(e.chainId||0,"chainId"),rh(e.nonce||0,"nonce"),rh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rh(e.maxFeePerGas||0,"maxFeePerGas"),rh(e.gasLimit||0,"gasLimit"),null!=e.to?es(e.to):"0x",rh(e.value||0,"value"),e.data||"0x",rp(e.accessList||[])];if(t){let o=(0,d.N)(t);i.push(rh(o.recoveryParam,"recoveryParam")),i.push((0,d.G1)(o.r)),i.push((0,d.G1)(o.s))}return(0,d.xs)(["0x02",K(i)])}function rm(e,t){let r=[rh(e.chainId||0,"chainId"),rh(e.nonce||0,"nonce"),rh(e.gasPrice||0,"gasPrice"),rh(e.gasLimit||0,"gasLimit"),null!=e.to?es(e.to):"0x",rh(e.value||0,"value"),e.data||"0x",rp(e.accessList||[])];if(t){let n=(0,d.N)(t);r.push(rh(n.recoveryParam,"recoveryParam")),r.push((0,d.G1)(n.r)),r.push((0,d.G1)(n.s))}return(0,d.xs)(["0x01",K(r)])}function ry(e,t){(0,R.uj)(e,rl);let r=[];ra.forEach(function(t){let n=e[t.name]||[],i={};t.numeric&&(i.hexPad="left"),n=(0,d.lE)((0,d.Dv)(n,i)),t.length&&n.length!==t.length&&n.length>0&&ri.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=(0,d.G1)(n)).length>t.maxLength&&ri.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push((0,d.Dv)(n))});let n=0;if(null!=e.chainId?"number"!=typeof(n=e.chainId)&&ri.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!(0,d.Zq)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push((0,d.Dv)(n)),r.push("0x"),r.push("0x")),!t)return K(r);let i=(0,d.N)(t),o=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,i.v>28&&i.v!==o&&ri.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==o&&ri.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,d.Dv)(o)),r.push((0,d.G1)((0,d.lE)(i.r))),r.push((0,d.G1)((0,d.lE)(i.s))),K(r)}function rv(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&ri.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),ry(e,t);switch(e.type){case 1:return rm(e,t);case 2:return rg(e,t)}return ri.throwError(`unsupported transaction type: ${e.type}`,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function rb(e,t,r){try{let n=rs(t[0]).toNumber();if(0!==n&&1!==n)throw Error("bad recid");e.v=n}catch(i){ri.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,d.$m)(t[1],32),e.s=(0,d.$m)(t[2],32);try{let o=j(r(e));e.from=rc(o,{r:e.r,s:e.s,recoveryParam:e.v})}catch(s){}}function rw(e){let t=Y(e.slice(1));9!==t.length&&12!==t.length&&ri.throwArgumentError("invalid component count for transaction type: 2","payload",(0,d.Dv)(e));let r=rs(t[2]),n=rs(t[3]),i={type:2,chainId:rs(t[0]).toNumber(),nonce:rs(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:rs(t[4]),to:ro(t[5]),value:rs(t[6]),data:t[7],accessList:rd(t[8])};return 9===t.length||(i.hash=j(e),rb(i,t.slice(9),rg)),i}function rE(e){let t=Y(e.slice(1));8!==t.length&&11!==t.length&&ri.throwArgumentError("invalid component count for transaction type: 1","payload",(0,d.Dv)(e));let r={type:1,chainId:rs(t[0]).toNumber(),nonce:rs(t[1]).toNumber(),gasPrice:rs(t[2]),gasLimit:rs(t[3]),to:ro(t[4]),value:rs(t[5]),data:t[6],accessList:rd(t[7])};return 8===t.length||(r.hash=j(e),rb(r,t.slice(8),rm)),r}function rA(e){let t=Y(e);9!==t.length&&6!==t.length&&ri.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:rs(t[0]).toNumber(),gasPrice:rs(t[1]),gasLimit:rs(t[2]),to:ro(t[3]),value:rs(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=_.from(t[6]).toNumber()}catch(n){return r}if(r.r=(0,d.$m)(t[7],32),r.s=(0,d.$m)(t[8],32),_.from(r.r).isZero()&&_.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27,o=t.slice(0,6);0!==r.chainId&&(o.push((0,d.Dv)(r.chainId)),o.push("0x"),o.push("0x"),i-=2*r.chainId+8);let s=j(K(o));try{r.from=rc(s,{r:(0,d.Dv)(r.r),s:(0,d.Dv)(r.s),recoveryParam:i})}catch(a){}r.hash=j(e)}return r.type=null,r}function rS(e){let t=(0,d.lE)(e);if(t[0]>127)return rA(t);switch(t[0]){case 1:return rE(t);case 2:return rw(t)}return ri.throwError(`unsupported transaction type: ${t[0]}`,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}let r_="contracts/5.7.0";var rk=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let rT=new m.Yd(r_),rN={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function rx(e,t){return rk(this,void 0,void 0,function*(){let r=yield t;"string"!=typeof r&&rT.throwArgumentError("invalid address or ENS name","name",r);try{return es(r)}catch(n){}e||rT.throwError("a provider or signer is needed to resolve ENS names",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let i=yield e.resolveName(r);return null==i&&rT.throwArgumentError("resolver or addr is not configured for ENS name","name",r),i})}function rP(e,t,r){return rk(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((r,n)=>rP(e,Array.isArray(t)?t[n]:t[r.name],r))):"address"===r.type?yield rx(e,t):"tuple"===r.type?yield rP(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map(t=>rP(e,t,r.arrayChildren))):Promise.reject(rT.makeError("invalid value for array",m.Yd.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function rC(e,t,r){return rk(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=(0,R.DC)(r.pop())),rT.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=(0,R.mE)({override:rx(e.signer,n.from),signer:e.signer.getAddress()}).then(e=>rk(this,void 0,void 0,function*(){return es(e.signer)!==e.override&&rT.throwError("Contract with a Signer cannot override from",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):n.from=e.signer.getAddress():n.from&&(n.from=rx(e.provider,n.from));let i=yield(0,R.mE)({args:rP(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:(0,R.mE)(n)||{}}),o=e.interface.encodeFunctionData(t,i.args),s={data:o,to:i.address},a=i.overrides;if(null!=a.nonce&&(s.nonce=_.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=_.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=_.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=_.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=_.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=rd(a.accessList)),null==s.gasLimit&&null!=t.gas){let l=21e3,u=(0,d.lE)(o);for(let c=0;c<u.length;c++)l+=4,u[c]&&(l+=64);s.gasLimit=_.from(t.gas).add(l)}if(a.value){let h=_.from(a.value);h.isZero()||t.payable||rT.throwError("non-payable method cannot override value",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=h}a.customData&&(s.customData=(0,R.DC)(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;let f=Object.keys(n).filter(e=>null!=n[e]);return f.length&&rT.throwError(`cannot override ${f.map(e=>JSON.stringify(e)).join(",")}`,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),s})}function rR(e,t){return function(...r){return rC(e,t,r)}}function rI(e,t){let r=e.signer||e.provider;return function(...n){return rk(this,void 0,void 0,function*(){r||rT.throwError("estimate require a provider or signer",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let i=yield rC(e,t,n);return yield r.estimateGas(i)})}}function rO(e,t){let r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let n=(0,R.p$)(r),i=null;try{i=e.interface.parseLog(r)}catch(o){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t))}function rM(e,t,r){let n=e.signer||e.provider;return function(...i){return rk(this,void 0,void 0,function*(){let o;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){let s=(0,R.DC)(i.pop());null!=s.blockTag&&(o=yield s.blockTag),delete s.blockTag,i.push(s)}null!=e.deployTransaction&&(yield e._deployed(o));let a=yield rC(e,t,i),l=yield n.call(a,o);try{let u=e.interface.decodeFunctionResult(t,l);return r&&1===t.outputs.length&&(u=u[0]),u}catch(c){throw c.code===m.Yd.errors.CALL_EXCEPTION&&(c.address=e.address,c.args=i,c.transaction=a),c}})}}function rD(e,t){return function(...r){return rk(this,void 0,void 0,function*(){e.signer||rT.throwError("sending a transaction requires a signer",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());let n=yield rC(e,t,r),i=yield e.signer.sendTransaction(n);return rO(e,i),i})}}function rL(e,t,r){return t.constant?rM(e,t,r):rD(e,t)}function rF(e){return e.address&&(null==e.topics||0===e.topics.length)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class rB{constructor(e,t){(0,R.zG)(this,"tag",e),(0,R.zG)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!!t||r.listener!==e||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class rU extends rB{constructor(){super("error",null)}}class rj extends rB{constructor(e,t,r,n){let i={address:e},o=t.getEventTopic(r);n?(o!==n[0]&&rT.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(rF(i),i),(0,R.zG)(this,"address",e),(0,R.zG)(this,"interface",t),(0,R.zG)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let t=M(e.args);if(t.length)throw t[0].error;let r=(e.args||[]).slice();return r.push(e),r}}class rV extends rB{constructor(e,t){super("*",{address:e}),(0,R.zG)(this,"address",e),(0,R.zG)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(r){}}}class rG{constructor(e,t,r){(0,R.zG)(this,"interface",(0,R.tu)(new.target,"getInterface")(t)),null==r?((0,R.zG)(this,"provider",null),(0,R.zG)(this,"signer",null)):tb.isSigner(r)?((0,R.zG)(this,"provider",r.provider||null),(0,R.zG)(this,"signer",r)):td.isProvider(r)?((0,R.zG)(this,"provider",r),(0,R.zG)(this,"signer",null)):rT.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,R.zG)(this,"callStatic",{}),(0,R.zG)(this,"estimateGas",{}),(0,R.zG)(this,"functions",{}),(0,R.zG)(this,"populateTransaction",{}),(0,R.zG)(this,"filters",{});{let n={};Object.keys(this.interface.events).forEach(e=>{let t=this.interface.events[e];(0,R.zG)(this.filters,e,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(t,e)})),n[t.name]||(n[t.name]=[]),n[t.name].push(e)}),Object.keys(n).forEach(e=>{let t=n[e];1===t.length?(0,R.zG)(this.filters,e,this.filters[t[0]]):rT.warn(`Duplicate definition of ${e} (${t.join(", ")})`)})}if((0,R.zG)(this,"_runningEvents",{}),(0,R.zG)(this,"_wrappedEmits",{}),null==e&&rT.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,R.zG)(this,"address",e),this.provider)(0,R.zG)(this,"resolvedAddress",rx(this.provider,e));else try{(0,R.zG)(this,"resolvedAddress",Promise.resolve(es(e)))}catch(i){rT.throwError("provider is required to use ENS name as contract address",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});let o={},s={};Object.keys(this.interface.functions).forEach(e=>{let t=this.interface.functions[e];if(s[e]){rT.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);return}s[e]=!0;{let r=t.name;o[`%${r}`]||(o[`%${r}`]=[]),o[`%${r}`].push(e)}null==this[e]&&(0,R.zG)(this,e,rL(this,t,!0)),null==this.functions[e]&&(0,R.zG)(this.functions,e,rL(this,t,!1)),null==this.callStatic[e]&&(0,R.zG)(this.callStatic,e,rM(this,t,!0)),null==this.populateTransaction[e]&&(0,R.zG)(this.populateTransaction,e,rR(this,t)),null==this.estimateGas[e]&&(0,R.zG)(this.estimateGas,e,rI(this,t))}),Object.keys(o).forEach(e=>{let t=o[e];if(t.length>1)return;e=e.substring(1);let r=t[0];try{null==this[e]&&(0,R.zG)(this,e,this[r])}catch(n){}null==this.functions[e]&&(0,R.zG)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&(0,R.zG)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&(0,R.zG)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&(0,R.zG)(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return eu(e)}static getInterface(e){return tl.isInterface(e)?e:new tl(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&rT.throwError("contract not deployed",m.Yd.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||rT.throwError("sending a transactions require a signer",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=(0,R.DC)(e||{});return["from","to"].forEach(function(e){null!=t[e]&&rT.throwError("cannot override "+e,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new tw(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,R.zG)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return to.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new rU);if("event"===e)return this._normalizeRunningEvent(new rB("event",null));if("*"===e)return this._normalizeRunningEvent(new rV(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new rj(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let r=e.topics[0];if("string"!=typeof r)throw Error("invalid topic");let n=this.interface.getEvent(r);return this._normalizeRunningEvent(new rj(this.address,this.interface,n,e.topics))}catch(i){}let o={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new rB(rF(o),o))}return this._normalizeRunningEvent(new rV(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){let n=(0,R.p$)(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||rT.throwError("events require a provider or a signer with a provider",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let n=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{let i=e.getEmit(n);this.emit(e.filter,...i)}catch(o){n.decodeError=o.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,r){let n=this._getRunningEvent(e),i=(0,R.DC)(n.filter);return"string"==typeof t&&(0,d.A7)(t,32)?(null!=r&&rT.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then(e=>e.map(e=>this._wrapEvent(n,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){let t=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(e=>{t.push(e)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(let t in this._runningEvents){let r=this._runningEvents[t];r.removeAllListeners(),this._checkRunningEvents(r)}return this}let n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,t){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class rz extends rG{}class rq{constructor(e,t,r){let n=null;"0x"!==(n="string"==typeof t?t:(0,d._t)(t)?(0,d.Dv)(t):t&&"string"==typeof t.object?t.object:"!").substring(0,2)&&(n="0x"+n),(!(0,d.A7)(n)||n.length%2)&&rT.throwArgumentError("invalid bytecode","bytecode",t),r&&!tb.isSigner(r)&&rT.throwArgumentError("invalid signer","signer",r),(0,R.zG)(this,"bytecode",n),(0,R.zG)(this,"interface",(0,R.tu)(new.target,"getInterface")(e)),(0,R.zG)(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){for(let r in t=(0,R.DC)(e.pop()))if(!rN[r])throw Error("unknown transaction override "+r)}if(["data","from","to"].forEach(e=>{null!=t[e]&&rT.throwError("cannot override "+e,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.value){let n=_.from(t.value);n.isZero()||this.interface.deploy.payable||rT.throwError("non-payable constructor cannot override value",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}return rT.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=(0,d.Dv)((0,d.zo)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return rk(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),rT.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");let r=yield rP(this.signer,e,this.interface.deploy.inputs);r.push(t);let n=this.getDeployTransaction(...r),i=yield this.signer.sendTransaction(n),o=(0,R.tu)(this.constructor,"getContractAddress")(i),s=(0,R.tu)(this.constructor,"getContract")(o,this.interface,this.signer);return rO(s,i),(0,R.zG)(s,"deployTransaction",i),s})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&rT.throwError("missing compiler output",m.Yd.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}static getInterface(e){return rz.getInterface(e)}static getContractAddress(e){return eu(e)}static getContract(e,t,r){return new rz(e,t,r)}}let rH=new m.Yd(y),rK={},rW=_.from(0),r$=_.from(-1);function rY(e,t,r,n){let i={fault:t,operation:r};return void 0!==n&&(i.value=n),rH.throwError(e,m.Yd.errors.NUMERIC_FAULT,i)}let rJ="0";for(;rJ.length<256;)rJ+=rJ;function rQ(e){if("number"!=typeof e)try{e=_.from(e).toNumber()}catch(t){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+rJ.substring(0,e):rH.throwArgumentError("invalid decimal size","decimals",e)}function rX(e,t){null==t&&(t=0);let r=rQ(t);e=_.from(e);let n=e.lt(rW);n&&(e=e.mul(r$));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];let o=e.div(r).toString();return e=1===r.length?o:o+"."+i,n&&(e="-"+e),e}function rZ(e,t){null==t&&(t=0);let r=rQ(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||rH.throwArgumentError("invalid decimal value","value",e);let n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&rH.throwArgumentError("missing value","value",e);let i=e.split(".");i.length>2&&rH.throwArgumentError("too many decimal points","value",e);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&rY("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";let a=_.from(o),l=_.from(s),u=a.mul(r).add(l);return n&&(u=u.mul(r$)),u}class r0{constructor(e,t,r,n){e!==rK&&rH.throwError("cannot use FixedFormat constructor; use FixedFormat.from",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=rQ(n),Object.freeze(this)}static from(e){if(e instanceof r0)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e){if("fixed"===e);else if("ufixed"===e)t=!1;else{let i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||rH.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}}else if(e){let o=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&rH.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=o("signed","boolean",t),r=o("width","number",r),n=o("decimals","number",n)}return r%8&&rH.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&rH.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new r0(rK,t,r,n)}}class r1{constructor(e,t,r,n){e!==rK&&rH.throwError("cannot use FixedNumber constructor; use FixedNumber.from",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&rH.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=rZ(this._value,this.format.decimals),r=rZ(e._value,e.format.decimals);return r1.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=rZ(this._value,this.format.decimals),r=rZ(e._value,e.format.decimals);return r1.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=rZ(this._value,this.format.decimals),r=rZ(e._value,e.format.decimals);return r1.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=rZ(this._value,this.format.decimals),r=rZ(e._value,e.format.decimals);return r1.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=r1.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(r2.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=r1.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(r2.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&rH.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=r1.from("1"+rJ.substring(0,e),this.format),n=r3.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&rH.throwArgumentError("invalid byte width","width",e);let t=_.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,d.$m)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return r1.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||A(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),r1.fromString(rX(e,t),r0.from(r))}static fromString(e,t){null==t&&(t="fixed");let r=r0.from(t),n=rZ(e,r.decimals);!r.signed&&n.lt(rW)&&rY("unsigned value cannot be negative","overflow","value",e);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=(0,d.$m)(i,r.width/8));let o=rX(n,r.decimals);return new r1(rK,i,o,r)}static fromBytes(e,t){null==t&&(t="fixed");let r=r0.from(t);if((0,d.lE)(e).length>r.width/8)throw Error("overflow");let n=_.from(e);r.signed&&(n=n.fromTwos(r.width));let i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=rX(n,r.decimals);return new r1(rK,i,o,r)}static from(e,t){if("string"==typeof e)return r1.fromString(e,t);if((0,d._t)(e))return r1.fromBytes(e,t);try{return r1.fromValue(e,0,t)}catch(r){if(r.code!==m.Yd.errors.INVALID_ARGUMENT)throw r}return rH.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let r2=r1.from(1),r3=r1.from("0.5"),r6="\x19Ethereum Signed Message:\n";function r4(e){return"string"==typeof e&&(e=(0,eh.Y0)(e)),j((0,d.zo)([(0,eh.Y0)(r6),(0,eh.Y0)(String(e.length)),e]))}let r5="hash/5.7.0";var r8=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let r7=new m.Yd(r5),r9=new Uint8Array(32);r9.fill(0);let ne=_.from(-1),nt=_.from(0),nr=_.from(1),nn=_.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ni(e){let t=(0,d.lE)(e),r=t.length%32;return r?(0,d.xs)([t,r9.slice(r)]):(0,d.Dv)(t)}let no=(0,d.$m)(nr.toHexString(),32),ns=(0,d.$m)(nt.toHexString(),32),na={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},nl=["name","version","chainId","verifyingContract","salt"];function nu(e){return function(t){return"string"!=typeof t&&r7.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let nc={name:nu("name"),version:nu("version"),chainId:function(e){try{return _.from(e).toString()}catch(t){}return r7.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return es(e).toLowerCase()}catch(t){}return r7.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=(0,d.lE)(e);if(32!==t.length)throw Error("bad length");return(0,d.Dv)(t)}catch(r){}return r7.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function nh(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&r7.throwArgumentError("invalid numeric width","type",e);let i=nn.mask(r?n-1:n),o=r?i.add(nr).mul(ne):nt;return function(t){let r=_.from(t);return(r.lt(o)||r.gt(i))&&r7.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),(0,d.$m)(r.toTwos(256).toHexString(),32)}}}{let s=e.match(/^bytes(\d+)$/);if(s){let a=parseInt(s[1]);return(0===a||a>32||s[1]!==String(a))&&r7.throwArgumentError("invalid bytes width","type",e),function(t){let r=(0,d.lE)(t);return r.length!==a&&r7.throwArgumentError(`invalid length for ${e}`,"value",t),ni(t)}}}switch(e){case"address":return function(e){return(0,d.$m)(es(e),32)};case"bool":return function(e){return e?no:ns};case"bytes":return function(e){return j(e)};case"string":return function(e){return ef(e)}}return null}function nf(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class nd{constructor(e){(0,R.zG)(this,"types",Object.freeze((0,R.p$)(e))),(0,R.zG)(this,"_encoderCache",{}),(0,R.zG)(this,"_types",{});let t={},r={},n={};for(let i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){let o={};e[i].forEach(n=>{o[n.name]&&r7.throwArgumentError(`duplicate variable name ${JSON.stringify(n.name)} in ${JSON.stringify(i)}`,"types",e),o[n.name]=!0;let s=n.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&r7.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);let a=nh(s);a||(r[s]||r7.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(i),t[i][s]=!0)})}let s=Object.keys(r).filter(e=>0===r[e].length);function a(i,o){o[i]&&r7.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e),o[i]=!0,Object.keys(t[i]).forEach(e=>{r[e]&&(a(e,o),Object.keys(o).forEach(t=>{n[t][e]=!0}))}),delete o[i]}for(let l in 0===s.length?r7.throwArgumentError("missing primary type","types",e):s.length>1&&r7.throwArgumentError(`ambiguous primary types or unused types: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,R.zG)(this,"primaryType",s[0]),a(this.primaryType,{}),n){let u=Object.keys(n[l]);u.sort(),this._types[l]=nf(l,e[l])+u.map(t=>nf(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=nh(e);if(t)return t}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let n=r[1],i=this.getEncoder(n),o=parseInt(r[3]);return e=>{o>=0&&e.length!==o&&r7.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let t=e.map(i);return this._types[n]&&(t=t.map(j)),j((0,d.xs)(t))}}let s=this.types[e];if(s){let a=ef(this._types[e]);return e=>{let t=s.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this._types[r]?j(n):n});return t.unshift(a),(0,d.xs)(t)}}return r7.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||r7.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return j(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){{let n=nh(e);if(n)return r(e,t)}let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let o=i[1],s=parseInt(i[3]);return s>=0&&t.length!==s&&r7.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(e=>this._visit(o,e,r))}let a=this.types[e];return a?a.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):r7.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new nd(e)}static getPrimaryType(e){return nd.from(e).primaryType}static hashStruct(e,t,r){return nd.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=na[r];n||r7.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>nl.indexOf(e.name)-nl.indexOf(t.name)),nd.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,d.xs)(["0x1901",nd.hashDomain(e),nd.from(t).hash(r)])}static hash(e,t,r){return j(nd.encode(e,t,r))}static resolveNames(e,t,r,n){return r8(this,void 0,void 0,function*(){e=(0,R.DC)(e);let i={};e.verifyingContract&&!(0,d.A7)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=nd.from(t);for(let s in o.visit(r,(e,t)=>("address"!==e||(0,d.A7)(t,20)||(i[t]="0x"),t)),i)i[s]=yield n(s);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}})}static getPayload(e,t,r){nd.hashDomain(e);let n={},i=[];nl.forEach(t=>{let r=e[t];null!=r&&(n[t]=nc[t](r),i.push({name:t,type:na[t]}))});let o=nd.from(t),s=(0,R.DC)(t);return s.EIP712Domain?r7.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return(0,d.Dv)((0,d.lE)(t));if(e.match(/^u?int/))return _.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&r7.throwArgumentError("invalid string","value",t),t}return r7.throwArgumentError("unsupported type","type",e)})}}}class np{constructor(e){(0,R.zG)(this,"alphabet",e),(0,R.zG)(this,"base",e.length),(0,R.zG)(this,"_alphabetMap",{}),(0,R.zG)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=(0,d.lE)(e);if(0===t.length)return"";let r=[0];for(let n=0;n<t.length;++n){let i=t[n];for(let o=0;o<r.length;++o)i+=r[o]<<8,r[o]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}let s="";for(let a=0;0===t[a]&&a<t.length-1;++a)s+=this._leader;for(let l=r.length-1;l>=0;--l)s+=this.alphabet[r[l]];return s}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw Error("Non-base"+this.base+" character");let i=n;for(let o=0;o<t.length;++o)i+=t[o]*this.base,t[o]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let s=0;e[s]===this._leader&&s<e.length-1;++s)t.push(0);return(0,d.lE)(new Uint8Array(t.reverse()))}}new np("abcdefghijklmnopqrstuvwxyz234567");let ng=new np("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");(i=s||(s={})).sha256="sha256",i.sha512="sha512";let nm="sha2/5.7.0",ny=new m.Yd(nm);function nv(e){return"0x"+tA().ripemd160().update((0,d.lE)(e)).digest("hex")}function nb(e){return"0x"+tA().sha256().update((0,d.lE)(e)).digest("hex")}function nw(e){return"0x"+tA().sha512().update((0,d.lE)(e)).digest("hex")}function nE(e,t,r){return s[e]||ny.throwError("unsupported algorithm "+e,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+tA().hmac(tA()[e],(0,d.lE)(t)).update((0,d.lE)(r)).digest("hex")}function nA(e,t,r,n,i){let o,s,a;e=(0,d.lE)(e),t=(0,d.lE)(t);let l=1,u=new Uint8Array(n),c=new Uint8Array(t.length+4);c.set(t);for(let h=1;h<=l;h++){c[t.length]=h>>24&255,c[t.length+1]=h>>16&255,c[t.length+2]=h>>8&255,c[t.length+3]=255&h;let f=(0,d.lE)(nE(i,e,c));o||(o=f.length,a=new Uint8Array(o),l=Math.ceil(n/o),s=n-(l-1)*o),a.set(f);for(let p=1;p<r;p++){f=(0,d.lE)(nE(i,e,f));for(let g=0;g<o;g++)a[g]^=f[g]}let m=(h-1)*o,y=h===l?s:o;u.set((0,d.lE)(a).slice(0,y),m)}return(0,d.Dv)(u)}let nS="wordlists/5.7.0",n_=!1,nk=new m.Yd(nS);class nT{constructor(e){nk.checkAbstract(new.target,nT),(0,R.zG)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let t=[];for(let r=0;r<2048;r++){let n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return ef(t.join("\n")+"\n")}static register(e,t){if(t||(t=e.locale),n_)try{let r=window;r._ethers&&r._ethers.wordlists&&!r._ethers.wordlists[t]&&(0,R.zG)(r._ethers.wordlists,t,e)}catch(n){}}}let nN="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",nx=null;function nP(e){if(null==nx&&(nx=nN.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==nT.check(e)))throw nx=null,Error("BIP39 Wordlist for en (English) FAILED")}class nC extends nT{constructor(){super("en")}getWord(e){return nP(this),nx[e]}getWordIndex(e){return nP(this),nx.indexOf(e)}}let nR=new nC;nT.register(nR);let nI={en:nR},nO="hdnode/5.7.0",nM=new m.Yd(nO),nD=_.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),nL=(0,eh.Y0)("Bitcoin seed"),nF=2147483648;function nB(e){return(1<<e)-1<<8-e}function nU(e){return(1<<e)-1}function nj(e){return(0,d.$m)((0,d.Dv)(e),32)}function nV(e){return ng.encode((0,d.zo)([e,(0,d.p3)(nb(nb(e)),0,4)]))}function nG(e){if(null==e)return nI.en;if("string"==typeof e){let t=nI[e];return null==t&&nM.throwArgumentError("unknown locale","wordlist",e),t}return e}let nz={},nq="m/44'/60'/0'/0/0";class nH{constructor(e,t,r,n,i,o,s,a){if(e!==nz)throw Error("HDNode constructor cannot be called directly");if(t){let l=new re(t);(0,R.zG)(this,"privateKey",l.privateKey),(0,R.zG)(this,"publicKey",l.compressedPublicKey)}else(0,R.zG)(this,"privateKey",null),(0,R.zG)(this,"publicKey",(0,d.Dv)(r));(0,R.zG)(this,"parentFingerprint",n),(0,R.zG)(this,"fingerprint",(0,d.p3)(nv(nb(this.publicKey)),0,4)),(0,R.zG)(this,"address",ru(this.publicKey)),(0,R.zG)(this,"chainCode",i),(0,R.zG)(this,"index",o),(0,R.zG)(this,"depth",s),null==a?((0,R.zG)(this,"mnemonic",null),(0,R.zG)(this,"path",null)):"string"==typeof a?((0,R.zG)(this,"mnemonic",null),(0,R.zG)(this,"path",a)):((0,R.zG)(this,"mnemonic",a),(0,R.zG)(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw Error("Depth too large!");return nV((0,d.zo)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,d.Dv)(this.depth),this.parentFingerprint,(0,d.$m)((0,d.Dv)(this.index),4),this.chainCode,null!=this.privateKey?(0,d.zo)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new nH(nz,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~nF));let r=new Uint8Array(37);if(e&nF){if(!this.privateKey)throw Error("cannot derive child of neutered node");r.set((0,d.lE)(this.privateKey),1),t&&(t+="'")}else r.set((0,d.lE)(this.publicKey));for(let n=24;n>=0;n-=8)r[33+(n>>3)]=e>>24-n&255;let i=(0,d.lE)(nE(s.sha512,this.chainCode,r)),o=i.slice(0,32),a=i.slice(32),l=null,u=null;if(this.privateKey)l=nj(_.from(o).add(this.privateKey).mod(nD));else{let c=new re((0,d.Dv)(o));u=c._addPoint(this.publicKey)}let h=t,f=this.mnemonic;return f&&(h=Object.freeze({phrase:f.phrase,path:t,locale:f.locale||"en"})),new nH(nz,l,u,this.fingerprint,nj(a),e,this.depth+1,h)}derivePath(e){let t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let n=0;n<t.length;n++){let i=t[n];if(i.match(/^[0-9]+'$/)){let o=parseInt(i.substring(0,i.length-1));if(o>=nF)throw Error("invalid path index - "+i);r=r._derive(nF+o)}else if(i.match(/^[0-9]+$/)){let s=parseInt(i);if(s>=nF)throw Error("invalid path index - "+i);r=r._derive(s)}else throw Error("invalid path component - "+i)}return r}static _fromSeed(e,t){let r=(0,d.lE)(e);if(r.length<16||r.length>64)throw Error("invalid seed");let n=(0,d.lE)(nE(s.sha512,nL,r));return new nH(nz,nj(n.slice(0,32)),null,"0x00000000",nj(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=n$(nW(e,r=nG(r)),r),nH._fromSeed(nK(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return nH._fromSeed(e,null)}static fromExtendedKey(e){let t=ng.decode(e);(82!==t.length||nV(t.slice(0,78))!==e)&&nM.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let r=t[4],n=(0,d.Dv)(t.slice(5,9)),i=parseInt((0,d.Dv)(t.slice(9,13)).substring(2),16),o=(0,d.Dv)(t.slice(13,45)),s=t.slice(45,78);switch((0,d.Dv)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new nH(nz,null,(0,d.Dv)(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new nH(nz,(0,d.Dv)(s.slice(1)),null,n,o,i,r,null)}return nM.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function nK(e,t){t||(t="");let r=(0,eh.Y0)("mnemonic"+t,eh.Uj.NFKD);return nA((0,eh.Y0)(e,eh.Uj.NFKD),r,2048,64,"sha512")}function nW(e,t){t=nG(t),nM.checkNormalize();let r=t.split(e);if(r.length%3!=0)throw Error("invalid mnemonic");let n=(0,d.lE)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let o=0;o<r.length;o++){let s=t.getWordIndex(r[o].normalize("NFKD"));if(-1===s)throw Error("invalid mnemonic");for(let a=0;a<11;a++)s&1<<10-a&&(n[i>>3]|=1<<7-i%8),i++}let l=32*r.length/3,u=r.length/3,c=nB(u),h=(0,d.lE)(nb(n.slice(0,l/8)))[0]&c;if(h!==(n[n.length-1]&c))throw Error("invalid checksum");return(0,d.Dv)(n.slice(0,l/8))}function n$(e,t){if(t=nG(t),(e=(0,d.lE)(e)).length%4!=0||e.length<16||e.length>32)throw Error("invalid entropy");let r=[0],n=11;for(let i=0;i<e.length;i++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[i],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[i]>>8-n,r.push(e[i]&nU(8-n)),n+=3);let o=e.length/4,s=(0,d.lE)(nb(e))[0]&nB(o);return r[r.length-1]<<=o,r[r.length-1]|=s>>8-o,t.join(r.map(e=>t.getWord(e)))}function nY(e,t){try{return nW(e,t),!0}catch(r){}return!1}function nJ(e){return("number"!=typeof e||e<0||e>=nF||e%1)&&nM.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}let nQ="random/5.7.0",nX=new m.Yd(nQ);function nZ(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}let n0=nZ(),n1=n0.crypto||n0.msCrypto;function n2(e){(e<=0||e>1024||e%1||e!=e)&&nX.throwArgumentError("invalid length","length",e);let t=new Uint8Array(e);return n1.getRandomValues(t),(0,d.lE)(t)}n1&&n1.getRandomValues||(nX.warn("WARNING: Missing strong random number source"),n1={getRandomValues:function(e){return nX.throwError("no secure random source avaialble",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var n3=r(8826),n6=r.n(n3),n4=r(7635),n5=r.n(n4);function n8(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),(0,d.lE)(e)}function n7(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function n9(e){return"string"==typeof e?(0,eh.Y0)(e,eh.Uj.NFKC):(0,d.lE)(e)}function ie(e,t){let r=e,n=t.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(let s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(null===o)return null;r=o}return r}function it(e){let t=(0,d.lE)(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=(0,d.Dv)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}let ir="json-wallets/5.7.0";var ii=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let io=new m.Yd(ir);function is(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class ia extends R.dk{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function il(e,t,r){let n=ie(e,"crypto/cipher");if("aes-128-ctr"===n){let i=n8(ie(e,"crypto/cipherparams/iv")),o=new(n6()).Counter(i),s=new(n6()).ModeOfOperation.ctr(t,o);return(0,d.lE)(s.decrypt(r))}return null}function iu(e,t){let r=n8(ie(e,"crypto/ciphertext")),n=(0,d.Dv)(j((0,d.zo)([t.slice(16,32),r]))).substring(2);if(n!==ie(e,"crypto/mac").toLowerCase())throw Error("invalid password");let i=il(e,t.slice(0,16),r);i||io.throwError("unsupported cipher",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let o=t.slice(32,64),s=ru(i);if(e.address){let a=e.address.toLowerCase();if("0x"!==a.substring(0,2)&&(a="0x"+a),es(a)!==s)throw Error("address mismatch")}let l={_isKeystoreAccount:!0,address:s,privateKey:(0,d.Dv)(i)};if("0.1"===ie(e,"x-ethers/version")){let u=n8(ie(e,"x-ethers/mnemonicCiphertext")),c=n8(ie(e,"x-ethers/mnemonicCounter")),h=new(n6()).Counter(c),f=new(n6()).ModeOfOperation.ctr(o,h),p=ie(e,"x-ethers/path")||nq,g=ie(e,"x-ethers/locale")||"en",y=(0,d.lE)(f.decrypt(u));try{let v=n$(y,g),b=nH.fromMnemonic(v,null,g).derivePath(p);if(b.privateKey!=l.privateKey)throw Error("mnemonic mismatch");l.mnemonic=b.mnemonic}catch(w){if(w.code!==m.Yd.errors.INVALID_ARGUMENT||"wordlist"!==w.argument)throw w}}return new ia(l)}function ic(e,t,r,n,i){return(0,d.lE)(nA(e,t,r,n,i))}function ih(e,t,r,n,i){return Promise.resolve(ic(e,t,r,n,i))}function id(e,t,r,n,i){let o=n9(t),s=ie(e,"crypto/kdf");if(s&&"string"==typeof s){let a=function(e,t){return io.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){let l=n8(ie(e,"crypto/kdfparams/salt")),u=parseInt(ie(e,"crypto/kdfparams/n")),c=parseInt(ie(e,"crypto/kdfparams/r")),h=parseInt(ie(e,"crypto/kdfparams/p"));u&&c&&h||a("kdf",s),(u&u-1)!=0&&a("N",u);let f=parseInt(ie(e,"crypto/kdfparams/dklen"));return 32!==f&&a("dklen",f),n(o,l,u,c,h,64,i)}if("pbkdf2"===s.toLowerCase()){let d=n8(ie(e,"crypto/kdfparams/salt")),p=null,g=ie(e,"crypto/kdfparams/prf");"hmac-sha256"===g?p="sha256":"hmac-sha512"===g?p="sha512":a("prf",g);let m=parseInt(ie(e,"crypto/kdfparams/c")),y=parseInt(ie(e,"crypto/kdfparams/dklen"));return 32!==y&&a("dklen",y),r(o,d,m,y,p)}}return io.throwArgumentError("unsupported key-derivation function","kdf",s)}function ip(e,t){let r=JSON.parse(e),n=id(r,t,ic,n5().syncScrypt);return iu(r,n)}function ig(e,t,r){return ii(this,void 0,void 0,function*(){let n=JSON.parse(e),i=yield id(n,t,ih,n5().scrypt,r);return iu(n,i)})}function im(e,t,r,n){try{if(es(e.address)!==ru(e.privateKey))throw Error("address/privateKey mismatch");if(is(e)){let i=e.mnemonic,o=nH.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path||nq);if(o.privateKey!=e.privateKey)throw Error("mnemonic mismatch")}}catch(s){return Promise.reject(s)}"function"!=typeof r||n||(n=r,r={}),r||(r={});let a=(0,d.lE)(e.privateKey),l=n9(t),u=null,c=null,h=null;if(is(e)){let f=e.mnemonic;u=(0,d.lE)(nW(f.phrase,f.locale||"en")),c=f.path||nq,h=f.locale||"en"}let p=r.client;p||(p="ethers.js");let g=null;g=r.salt?(0,d.lE)(r.salt):n2(32);let m=null;if(r.iv){if(16!==(m=(0,d.lE)(r.iv)).length)throw Error("invalid iv")}else m=n2(16);let y=null;if(r.uuid){if(16!==(y=(0,d.lE)(r.uuid)).length)throw Error("invalid uuid")}else y=n2(16);let v=131072,b=8,w=1;return r.scrypt&&(r.scrypt.N&&(v=r.scrypt.N),r.scrypt.r&&(b=r.scrypt.r),r.scrypt.p&&(w=r.scrypt.p)),n5().scrypt(l,g,v,b,w,64,n).then(t=>{t=(0,d.lE)(t);let r=t.slice(0,16),n=t.slice(16,32),i=t.slice(32,64),o=new(n6()).Counter(m),s=new(n6()).ModeOfOperation.ctr(r,o),l=(0,d.lE)(s.encrypt(a)),f=j((0,d.zo)([n,l])),E={address:e.address.substring(2).toLowerCase(),id:it(y),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,d.Dv)(m).substring(2)},ciphertext:(0,d.Dv)(l).substring(2),kdf:"scrypt",kdfparams:{salt:(0,d.Dv)(g).substring(2),n:v,dklen:32,p:w,r:b},mac:f.substring(2)}};if(u){let A=n2(16),S=new(n6()).Counter(A),_=new(n6()).ModeOfOperation.ctr(i,S),k=(0,d.lE)(_.encrypt(u)),T=new Date,N=T.getUTCFullYear()+"-"+n7(T.getUTCMonth()+1,2)+"-"+n7(T.getUTCDate(),2)+"T"+n7(T.getUTCHours(),2)+"-"+n7(T.getUTCMinutes(),2)+"-"+n7(T.getUTCSeconds(),2)+".0Z";E["x-ethers"]={client:p,gethFilename:"UTC--"+N+"--"+E.address,mnemonicCounter:(0,d.Dv)(A).substring(2),mnemonicCiphertext:(0,d.Dv)(k).substring(2),path:c,locale:h,version:"0.1"}}return JSON.stringify(E)})}let iy=new m.Yd(ir);class iv extends R.dk{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function ib(e,t){let r=JSON.parse(e);t=n9(t);let n=es(ie(r,"ethaddr")),i=n8(ie(r,"encseed"));i&&i.length%16==0||iy.throwArgumentError("invalid encseed","json",e);let o=(0,d.lE)(nA(t,t,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),l=new(n6()).ModeOfOperation.cbc(o,s),u=n6().padding.pkcs7.strip((0,d.lE)(l.decrypt(a))),c="";for(let h=0;h<u.length;h++)c+=String.fromCharCode(u[h]);let f=(0,eh.Y0)(c),p=j(f);return new iv({_isCrowdsaleAccount:!0,address:n,privateKey:p})}function iw(e){let t=null;try{t=JSON.parse(e)}catch(r){return!1}return t.encseed&&t.ethaddr}function iE(e){let t=null;try{t=JSON.parse(e)}catch(r){return!1}return!!t.version&&parseInt(t.version)===t.version&&3===parseInt(t.version)}function iA(e){if(iw(e))try{return es(JSON.parse(e).ethaddr)}catch(t){return null}if(iE(e))try{return es(JSON.parse(e).address)}catch(r){}return null}function iS(e,t,r){if(iw(e)){r&&r(0);let n=ib(e,t);return r&&r(1),Promise.resolve(n)}return iE(e)?ig(e,t,r):Promise.reject(Error("invalid JSON wallet"))}function i_(e,t){if(iw(e))return ib(e,t);if(iE(e))return ip(e,t);throw Error("invalid JSON wallet")}let ik="wallet/5.7.0";var iT=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let iN=new m.Yd(ik);function ix(e){return null!=e&&(0,d.A7)(e.privateKey,32)&&null!=e.address}function iP(e){let t=e.mnemonic;return t&&t.phrase}class iC extends tb{constructor(e,t){if(super(),ix(e)){let r=new re(e.privateKey);if((0,R.zG)(this,"_signingKey",()=>r),(0,R.zG)(this,"address",ru(this.publicKey)),this.address!==es(e.address)&&iN.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),iP(e)){let n=e.mnemonic;(0,R.zG)(this,"_mnemonic",()=>({phrase:n.phrase,path:n.path||nq,locale:n.locale||"en"}));let i=this.mnemonic,o=nH.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);ru(o.privateKey)!==this.address&&iN.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,R.zG)(this,"_mnemonic",()=>null)}else{if(re.isSigningKey(e))"secp256k1"!==e.curve&&iN.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,R.zG)(this,"_signingKey",()=>e);else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);let s=new re(e);(0,R.zG)(this,"_signingKey",()=>s)}(0,R.zG)(this,"_mnemonic",()=>null),(0,R.zG)(this,"address",ru(this.publicKey))}t&&!td.isProvider(t)&&iN.throwArgumentError("invalid provider","provider",t),(0,R.zG)(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new iC(this,e)}signTransaction(e){return(0,R.mE)(e).then(t=>{null!=t.from&&(es(t.from)!==this.address&&iN.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);let r=this._signingKey().signDigest(j(rv(t)));return rv(t,r)})}signMessage(e){return iT(this,void 0,void 0,function*(){return(0,d.gV)(this._signingKey().signDigest(r4(e)))})}_signTypedData(e,t,r){return iT(this,void 0,void 0,function*(){let n=yield nd.resolveNames(e,t,r,e=>(null==this.provider&&iN.throwError("cannot resolve ENS names without a provider",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e)));return(0,d.gV)(this._signingKey().signDigest(nd.hash(n.domain,t,n.value)))})}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw Error("invalid callback");return t||(t={}),im(this,e,t,r)}static createRandom(e){let t=n2(16);e||(e={}),e.extraEntropy&&(t=(0,d.lE)((0,d.p3)(j((0,d.zo)([t,e.extraEntropy])),0,16)));let r=n$(t,e.locale);return iC.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return iS(e,t,r).then(e=>new iC(e))}static fromEncryptedJsonSync(e,t){return new iC(i_(e,t))}static fromMnemonic(e,t,r){return t||(t=nq),new iC(nH.fromMnemonic(e,null,r).derivePath(t))}}function iR(e,t){return rc(r4(e),t)}function iI(e,t,r,n){return rc(nd.hash(e,t,r),n)}let iO="0x0000000000000000000000000000000000000000",iM="0x0000000000000000000000000000000000000000000000000000000000000000",iD="Ξ",iL="networks/5.7.1",iF=new m.Yd(iL);function iB(e){return e&&"function"==typeof e.renetwork}function iU(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(i){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(o){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(s){}if(t.PocketProvider&&"-"!==r.pocket){let a=["goerli","ropsten","rinkeby","sepolia"];try{let l=new t.PocketProvider(e,r.pocket);l.network&&-1===a.indexOf(l.network.name)&&n.push(l)}catch(u){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(c){}if(t.AnkrProvider&&"-"!==r.ankr)try{let h=["ropsten"],f=new t.AnkrProvider(e,r.ankr);f.network&&-1===h.indexOf(f.network.name)&&n.push(f)}catch(d){}if(0===n.length)return null;if(t.FallbackProvider){let p=1;return null!=r.quorum?p=r.quorum:"homestead"===e&&(p=2),new t.FallbackProvider(n,p)}return n[0]};return t.renetwork=function(e){return iU(e)},t}function ij(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return ij(e,t)},r}let iV={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:iU("homestead")},iG={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:iU("ropsten")},iz={chainId:63,name:"classicMordor",_defaultProvider:ij("https://www.ethercluster.com/mordor","classicMordor")},iq={unspecified:{chainId:0,name:"unspecified"},homestead:iV,mainnet:iV,morden:{chainId:2,name:"morden"},ropsten:iG,testnet:iG,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:iU("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:iU("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:iU("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:iU("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:ij("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:iz,classicTestnet:iz,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:ij("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:iU("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:iU("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function iH(e){if(null==e)return null;if("number"==typeof e){for(let t in iq){let r=iq[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let n=iq[e];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}let i=iq[e.name];if(!i)return"number"!=typeof e.chainId&&iF.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==i.chainId&&iF.throwArgumentError("network chainId mismatch","network",e);let o=e._defaultProvider||null;return null==o&&i._defaultProvider&&(o=iB(i._defaultProvider)?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,ensAddress:e.ensAddress||i.ensAddress||null,_defaultProvider:o}}var iK=r(6674);function iW(e,t){null==t&&(t=1);let r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function i$(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}function iY(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,o=[0,1];for(let s=1;s<n;s++)o.push(i+=r());let a=r(),l=t;t+=a;let u=0,c=0;function h(){return 0==u&&(c=c<<8|e[t++],u=8),c>>--u&1}let f=31,d=Math.pow(2,f),p=d>>>1,g=p>>1,m=d-1,y=0;for(let v=0;v<f;v++)y=y<<1|h();let b=[],w=0,E=d;for(;;){let A=Math.floor(((y-w+1)*i-1)/E),S=0,_=n;for(;_-S>1;){let k=S+_>>>1;A<o[k]?_=k:S=k}if(0==S)break;b.push(S);let T=w+Math.floor(E*o[S]/i),N=w+Math.floor(E*o[S+1]/i)-1;for(;((T^N)&p)==0;)y=y<<1&m|h(),T=T<<1&m,N=N<<1&m|1;for(;T&~N&g;)y=y&p|y<<1&m>>>1|h(),T=T<<1^p,N=(N^p)<<1|p|1;w=T,E=1+N-T}let x=n-4;return b.map(t=>{switch(t-x){case 3:return x+65792+(e[l++]<<16|e[l++]<<8|e[l++]);case 2:return x+256+(e[l++]<<8|e[l++]);case 1:return x+e[l++];default:return t-1}})}function iJ(e){let t=0;return()=>e[t++]}function iQ(e){return iJ(iY(e))}function iX(e){return 1&e?~e>>1:e>>1}function iZ(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}function i0(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function i1(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=iX(t());return r}function i2(e,t){let r=i0(e(),e),n=e(),i=i0(n,e),o=iZ(n,e);for(let s=0;s<n;s++)for(let a=0;a<o[s];a++)r.push(i[s]+a);return t?r.map(e=>t[e]):r}function i3(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(i5(r,e))}for(;;){let n=e()-1;if(n<0)break;t.push(i8(n,e))}return i$(iW(t))}function i6(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}function i4(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)i1(e,r).forEach((e,t)=>n[t].push(e));return n}function i5(e,t){let r=1+t(),n=t(),i=i6(t);return iW(i4(i.length,1+e,t).map((e,t)=>{let o=e[0],s=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[o+t*r,s.map(e=>e+i)]})}))}function i8(e,t){return i4(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}function i7(e){let t=i2(e).sort((e,t)=>e-t);return r();function r(){let n=[];for(;;){let i=i2(e,t);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort((e,t)=>t.set.size-e.set.size);let o=e(),s=o%3,a=!!(1&(o=o/3|0)),l=1==(o>>=1),u=2==o;return{branches:n,valid:s,fe0f:a,save:l,check:u}}}function i9(){return iQ((0,iK.J)("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}let oe=i9(),ot=new Set(i2(oe)),or=new Set(i2(oe)),on=i3(oe),oi=i7(oe),oo=45,os=95;function oa(e){return(0,eh.XL)(e)}function ol(e){return e.filter(e=>65039!=e)}function ou(e){for(let t of e.split(".")){let r=oa(t);try{for(let n=r.lastIndexOf(os)-1;n>=0;n--)if(r[n]!==os)throw Error("underscore only allowed at start");if(r.length>=4&&r.every(e=>e<128)&&r[2]===oo&&r[3]===oo)throw Error("invalid label extension")}catch(i){throw Error(`Invalid label "${t}": ${i.message}`)}}return e}function oc(e){return ou(oh(e,ol))}function oh(e,t){let r=oa(e).reverse(),n=[];for(;r.length;){let i=od(r);if(i){n.push(...t(i));continue}let o=r.pop();if(ot.has(o)){n.push(o);continue}if(or.has(o))continue;let s=on[o];if(s){n.push(...s);continue}throw Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return ou(of(String.fromCodePoint(...n)))}function of(e){return e.normalize("NFC")}function od(e,t){var r;let n,i;let o=oi,s=[],a=e.length;for(t&&(t.length=0);a;){let l=e[--a];if(!(o=null===(r=o.branches.find(e=>e.set.has(l)))||void 0===r?void 0:r.node))break;if(o.save)i=l;else if(o.check&&l===i)break;s.push(l),o.fe0f&&(s.push(65039),a>0&&65039==e[a-1]&&a--),o.valid&&(n=s.slice(),2==o.valid&&n.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}let op=new m.Yd(r5),og=new Uint8Array(32);function om(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function oy(e){let t=(0,eh.Y0)(oc(e)),r=[];if(0===e.length)return r;let n=0;for(let i=0;i<t.length;i++){let o=t[i];46===o&&(r.push(om(t.slice(n,i))),n=i+1)}if(n>=t.length)throw Error("invalid ENS name; empty component");return r.push(om(t.slice(n))),r}function ov(e){try{return 0!==oy(e).length}catch(t){}return!1}function ob(e){"string"!=typeof e&&op.throwArgumentError("invalid ENS name; not a string","name",e);let t=og,r=oy(e);for(;r.length;)t=j((0,d.zo)([t,j(r.pop())]));return(0,d.Dv)(t)}function ow(e){return(0,d.Dv)((0,d.zo)(oy(e).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}og.fill(0);var oE=r(7896),oA=r(2882),oS=r.n(oA);let o_="providers/5.7.1",ok=new m.Yd(o_);class oT{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this),u=e=>this.data(e,!0);return e.transaction={hash:o,type:l,accessList:oT.allowNull(this.accessList.bind(this),null),blockHash:oT.allowNull(o,null),blockNumber:oT.allowNull(a,null),transactionIndex:oT.allowNull(a,null),confirmations:oT.allowNull(a,null),from:t,gasPrice:oT.allowNull(r),maxPriorityFeePerGas:oT.allowNull(r),maxFeePerGas:oT.allowNull(r),gasLimit:r,to:oT.allowNull(t,null),value:r,nonce:a,data:i,r:oT.allowNull(this.uint256),s:oT.allowNull(this.uint256),v:oT.allowNull(a),creates:oT.allowNull(t,null),raw:oT.allowNull(i)},e.transactionRequest={from:oT.allowNull(t),nonce:oT.allowNull(a),gasLimit:oT.allowNull(r),gasPrice:oT.allowNull(r),maxPriorityFeePerGas:oT.allowNull(r),maxFeePerGas:oT.allowNull(r),to:oT.allowNull(t),value:oT.allowNull(r),data:oT.allowNull(u),type:oT.allowNull(a),accessList:oT.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:t,topics:oT.arrayOf(o),data:i,logIndex:a,blockHash:o},e.receipt={to:oT.allowNull(this.address,null),from:oT.allowNull(this.address,null),contractAddress:oT.allowNull(t,null),transactionIndex:a,root:oT.allowNull(s),gasUsed:r,logsBloom:oT.allowNull(i),blockHash:o,transactionHash:o,logs:oT.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:oT.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:oT.allowNull(r),status:oT.allowNull(a),type:l},e.block={hash:oT.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:oT.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:oT.allowNull(t),extraData:i,transactions:oT.allowNull(oT.arrayOf(o)),baseFeePerGas:oT.allowNull(r)},e.blockWithTransactions=(0,R.DC)(e.block),e.blockWithTransactions.transactions=oT.allowNull(oT.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:oT.allowNull(n,void 0),toBlock:oT.allowNull(n,void 0),blockHash:oT.allowNull(o,void 0),address:oT.allowNull(t,void 0),topics:oT.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:oT.allowNull(a),blockHash:oT.allowNull(o),transactionIndex:a,removed:oT.allowNull(this.boolean.bind(this)),address:t,data:oT.allowFalsish(i,"0x"),topics:oT.arrayOf(o),transactionHash:o,logIndex:a},e}accessList(e){return rd(e||[])}number(e){return"0x"===e?0:_.from(e).toNumber()}type(e){return"0x"===e||null==e?0:_.from(e).toNumber()}bigNumber(e){return _.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,d.A7)(e))?e.toLowerCase():ok.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return es(e)}callAddress(e){if(!(0,d.A7)(e,32))return null;let t=es((0,d.p3)(e,12));return t===iO?null:t}contractAddress(e){return eu(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||(0,d.A7)(e))return(0,d.$P)(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==(0,d.E1)(r)?ok.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=_.from(e);try{return t.toNumber()}catch(r){}return null}uint256(e){if(!(0,d.A7)(e))throw Error("invalid uint256");return(0,d.$m)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=oT.check(t,e);return n._difficulty=null==r?null:_.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return oT.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&_.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=oT.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;(0,d.A7)(r)&&(r=_.from(r).toNumber()),t.chainId=r}else{let n=e.networkId;null==n&&null==t.v&&(n=e.chainId),(0,d.A7)(n)&&(n=_.from(n).toNumber()),"number"!=typeof n&&null!=t.v&&((n=(t.v-35)/2)<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),t.chainId=n}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return rS(e)}receiptLog(e){return oT.check(this.formats.receiptLog,e)}receipt(e){let t=oT.check(this.formats.receipt,e);if(null!=t.root){if(t.root.length<=4){let r=_.from(t.root).toNumber();0===r||1===r?(null!=t.status&&t.status!==r&&ok.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=r,delete t.root):ok.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&ok.throwArgumentError("invalid root hash","value.root",t.root)}return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return oT.check(this.formats.filter,e)}filterLog(e){return oT.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(o){throw o.checkKey=n,o.checkValue=t[n],o}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}function oN(e){return e&&"function"==typeof e.isCommunityResource}function ox(e){return oN(e)&&e.isCommunityResource()}let oP=!1;function oC(){oP||(oP=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var oR=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let oI=new m.Yd(o_),oO=10;function oM(e){return null==e?"null":(32!==(0,d.E1)(e)&&oI.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function oD(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return oM(e);{let t={};e.forEach(e=>{t[oM(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function oL(e){return""===e?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t})}function oF(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,d.E1)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+oD(e);else if(tf.isForkEvent(e))throw oI.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+oD(e.topics||[]);throw Error("invalid event - "+e)}function oB(){return new Date().getTime()}function oU(e){return new Promise(t=>{setTimeout(t,e)})}let oj=["block","network","pending","poll"];class oV{constructor(e,t,r){(0,R.zG)(this,"tag",e),(0,R.zG)(this,"listener",t),(0,R.zG)(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){let e=this.tag.split(":");if("filter"!==e[0])return null;let t=e[1],r=oL(e[2]),n={};return r.length>0&&(n.topics=r),t&&"*"!==t&&(n.address=t),n}pollable(){return this.tag.indexOf(":")>=0||oj.indexOf(this.tag)>=0}}let oG={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function oz(e){return(0,d.$m)(_.from(e).toHexString(),32)}function oq(e){return ng.encode((0,d.zo)([e,(0,d.p3)(nb(nb(e)),0,4)]))}let oH=RegExp("^(ipfs)://(.*)$","i"),oK=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),oH,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function oW(e,t){try{return(0,eh.ZN)(o$(e,t))}catch(r){}return null}function o$(e,t){if("0x"===e)return null;let r=_.from((0,d.p3)(e,t,t+32)).toNumber(),n=_.from((0,d.p3)(e,r,r+32)).toNumber();return(0,d.p3)(e,r+32,r+32+n)}function oY(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):oI.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function oJ(e){let t=(0,d.lE)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function oQ(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function oX(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let i=0;i<e.length;i++){let o=(0,d.lE)(e[i]);t[i]=oJ(r),t.push(oJ(o.length)),t.push(oQ(o)),r+=32+32*Math.ceil(o.length/32)}return(0,d.xs)(t)}class oZ{constructor(e,t,r,n){(0,R.zG)(this,"provider",e),(0,R.zG)(this,"name",r),(0,R.zG)(this,"address",e.formatter.address(t)),(0,R.zG)(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>_.from(e).eq(1)).catch(e=>{if(e.code===m.Yd.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return oR(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:(0,d.xs)([e,ob(this.name),t||"0x"])},n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=(0,d.xs)(["0x9061b923",oX([ow(this.name),r.data])]));try{let i=yield this.provider.call(r);return(0,d.lE)(i).length%32==4&&oI.throwError("resolver threw error",m.Yd.errors.CALL_EXCEPTION,{transaction:r,data:i}),n&&(i=o$(i,0)),i}catch(o){if(o.code===m.Yd.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,t){return oR(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?o$(r,0):null})}_getAddress(e,t){let r=oG[String(e)];if(null==r&&oI.throwError(`unsupported coin type: ${e}`,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=(0,d.lE)(t);if(null!=r.p2pkh){let i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){let o=parseInt(i[1],16);if(i[2].length===2*o&&o>=1&&o<=75)return oq((0,d.zo)([[r.p2pkh],"0x"+i[2]]))}}if(null!=r.p2sh){let s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){let a=parseInt(s[1],16);if(s[2].length===2*a&&a>=1&&a<=75)return oq((0,d.zo)([[r.p2sh],"0x"+s[2]]))}}if(null!=r.prefix){let l=n[1],u=n[0];if(0===u?20!==l&&32!==l&&(u=-1):u=-1,u>=0&&n.length===2+l&&l>=1&&l<=75){let c=oS().toWords(n.slice(2));return c.unshift(u),oS().encode(r.prefix,c)}}return null}getAddress(e){return oR(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let t=yield this._fetch("0x3b3b57de");if("0x"===t||t===iM)return null;return this.provider.formatter.callAddress(t)}catch(r){if(r.code===m.Yd.errors.CALL_EXCEPTION)return null;throw r}let n=yield this._fetchBytes("0xf1cb7e06",oz(e));if(null==n||"0x"===n)return null;let i=this._getAddress(e,n);return null==i&&oI.throwError("invalid or unsupported coin data",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),i})}getAvatar(){return oR(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<oK.length;r++){let n=t.match(oK[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:oY(t)};case"erc721":case"erc1155":{let o="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});let s=this._resolvedAddress||(yield this.getAddress()),a=(n[2]||"").split("/");if(2!==a.length)return null;let l=yield this.provider.formatter.address(a[0]),u=(0,d.$m)(_.from(a[1]).toHexString(),32);if("erc721"===i){let c=this.provider.formatter.callAddress((yield this.provider.call({to:l,data:(0,d.xs)(["0x6352211e",u])})));if(s!==c)return null;e.push({type:"owner",content:c})}else if("erc1155"===i){let h=_.from((yield this.provider.call({to:l,data:(0,d.xs)(["0x00fdd58e",(0,d.$m)(s,32),u])})));if(h.isZero())return null;e.push({type:"balance",content:h.toString()})}let f={to:this.provider.formatter.address(a[0]),data:(0,d.xs)([o,u])},p=oW((yield this.provider.call(f)),0);if(null==p)return null;e.push({type:"metadata-url-base",content:p}),"erc1155"===i&&(p=p.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:p})),p.match(/^ipfs:/i)&&(p=oY(p)),e.push({type:"metadata-url",content:p});let g=yield(0,oE.fetchJson)(p);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let m=g.image;if("string"!=typeof m)return null;if(m.match(/^(https:\/\/|data:)/i));else{let y=m.match(oH);if(null==y)return null;e.push({type:"url-ipfs",content:m}),m=oY(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch(v){}return null})}getContentHash(){return oR(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let r=parseInt(t[3],16);if(t[4].length===2*r)return"ipfs://"+ng.encode("0x"+t[1])}let n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let i=parseInt(n[3],16);if(n[4].length===2*i)return"ipns://"+ng.encode("0x"+n[1])}let o=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(o&&64===o[1].length)return"bzz://"+o[1];let s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&68===s[1].length){let a={"=":"","+":"-","/":"_"},l=(0,iK.c)("0x"+s[1]).replace(/[=+\/]/g,e=>a[e]);return"sia://"+l}return oI.throwError("invalid or unsupported content hash data",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return oR(this,void 0,void 0,function*(){let t=(0,eh.Y0)(e);(t=(0,d.zo)([oz(64),oz(t.length),t])).length%32!=0&&(t=(0,d.zo)([t,(0,d.$m)("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",(0,d.Dv)(t));return null==r||"0x"===r?null:(0,eh.ZN)(r)})}}let o0=null,o1=1;class o2 extends td{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,R.zG)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{let t=(0,R.tu)(new.target,"getNetwork")(e);t?((0,R.zG)(this,"_network",t),this.emit("network",t,null)):oI.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return oR(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(t){}null==e&&(e=yield this.detectNetwork()),e||oI.throwError("no network detected",m.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:(0,R.zG)(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return(0,oE.poll)(()=>this._ready().then(e=>e,e=>{if(e.code!==m.Yd.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==o0&&(o0=new oT),o0}static getNetwork(e){return iH(null==e?"homestead":e)}ccipReadFetch(e,t,r){return oR(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let s=0;s<r.length;s++){let a=r[s],l=a.replace("{sender}",n).replace("{data}",i),u=a.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),c=yield(0,oE.fetchJson)({url:l,errorPassThrough:!0},u,(e,t)=>(e.status=t.statusCode,e));if(c.data)return c.data;let h=c.message||"unknown error";if(c.status>=400&&c.status<500)return oI.throwError(`response not found during CCIP fetch: ${h}`,m.Yd.errors.SERVER_ERROR,{url:a,errorMessage:h});o.push(h)}return oI.throwError(`error encountered during CCIP fetch: ${o.map(e=>JSON.stringify(e)).join(", ")}`,m.Yd.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return oR(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(oB()-r.respTime<=e)return r.blockNumber;break}catch(n){if(this._internalBlockNumber===t)break}}let i=oB(),o=(0,R.mE)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:t})=>{if(t)throw this._internalBlockNumber===o&&(this._internalBlockNumber=null),t;let r=oB();return(e=_.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:i,respTime:r}});return this._internalBlockNumber=o,o.catch(e=>{this._internalBlockNumber===o&&(this._internalBlockNumber=null)}),(yield o).blockNumber})}poll(){return oR(this,void 0,void 0,function*(){let e=o1++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){this.emit("error",n);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)oI.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",oI.makeError("network block skew detected",m.Yd.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let n=e.hash,i=this.getTransactionReceipt(n).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+n]=e.blockNumber,this.emit(n,e)),null)).catch(e=>{this.emit("error",e)});t.push(i);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);let o=e.filter;o.fromBlock=e._lastBlockNumber+1,o.toBlock=r;let s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);let a=this.getLogs(o).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(o,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(a)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return oR(this,void 0,void 0,function*(){return oI.throwError("provider does not support network detection",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return oR(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield oU(0),this._network;let r=oI.makeError("underlying network changed",m.Yd.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=oB();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=oB(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return oR(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return oR(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,o)=>{let s=[],a=!1,l=function(){return!!a||(a=!0,s.forEach(e=>{e()}),!1)},u=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,u),s.push(()=>{this.removeListener(e,u)}),n){let c=n.startBlock,h=null,f=r=>oR(this,void 0,void 0,function*(){a||(yield oU(1e3),this.getTransactionCount(n.from).then(i=>oR(this,void 0,void 0,function*(){if(!a){if(i<=n.nonce)c=r;else{{let s=yield this.getTransaction(e);if(s&&null!=s.blockNumber)return}for(null==h&&(h=c-3)<n.startBlock&&(h=n.startBlock);h<=r;){if(a)return;let u=yield this.getBlockWithTransactions(h);for(let d=0;d<u.transactions.length;d++){let p=u.transactions[d];if(p.hash===e)return;if(p.from===n.from&&p.nonce===n.nonce){if(a)return;let g=yield this.waitForTransaction(p.hash,t);if(l())return;let y="replaced";p.data===n.data&&p.to===n.to&&p.value.eq(n.value)?y="repriced":"0x"===p.data&&p.from===p.to&&p.value.isZero()&&(y="cancelled"),o(oI.makeError("transaction was replaced",m.Yd.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===y||"cancelled"===y,reason:y,replacement:this._wrapTransaction(p),hash:e,receipt:g}));return}}h++}}a||this.once("block",f)}}),e=>{a||this.once("block",f)}))});if(a)return;this.once("block",f),s.push(()=>{this.removeListener("block",f)})}if("number"==typeof r&&r>0){let d=setTimeout(()=>{l()||o(oI.makeError("timeout exceeded",m.Yd.errors.TIMEOUT,{timeout:r}))},r);d.unref&&d.unref(),s.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return oR(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return _.from(e)}catch(t){return oI.throwError("bad result from backend",m.Yd.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,R.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return _.from(n)}catch(i){return oI.throwError("bad result from backend",m.Yd.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:i})}})}getTransactionCount(e,t){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,R.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return _.from(n).toNumber()}catch(i){return oI.throwError("bad result from backend",m.Yd.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:i})}})}getCode(e,t){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,R.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return(0,d.Dv)(n)}catch(i){return oI.throwError("bad result from backend",m.Yd.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:i})}})}getStorageAt(e,t,r){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield(0,R.mE)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>(0,d.$P)(e))}),i=yield this.perform("getStorageAt",n);try{return(0,d.Dv)(i)}catch(o){return oI.throwError("bad result from backend",m.Yd.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:o})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==(0,d.E1)(t))throw Error("invalid response - sendTransaction");let n=e;return null!=t&&e.hash!==t&&oI.throwError("Transaction hash mismatch from Provider.sendTransaction.",m.Yd.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(t,n)=>oR(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let o=yield this._waitForTransaction(e.hash,t,n,i);return null==o&&0===t?null:(this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&oI.throwError("transaction failed",m.Yd.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),o)}),n}sendTransaction(e){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>(0,d.Dv)(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let i=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,i,n)}catch(o){throw o.transaction=r,o.transactionHash=r.hash,o}})}_getTransactionRequest(e){return oR(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?_.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?(0,d.Dv)(e):null))}),this.formatter.transactionRequest((yield(0,R.mE)(r)))})}_getFilter(e){return oR(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield(0,R.mE)(t)))})}_call(e,t,r){return oR(this,void 0,void 0,function*(){r>=oO&&oI.throwError("CCIP read exceeded maximum redirections",m.Yd.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&(0,d.E1)(i)%32==4)try{let o=(0,d.p3)(i,4),s=(0,d.p3)(o,0,32);_.from(s).eq(n)||oI.throwError("CCIP Read sender did not match",m.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let a=[],l=_.from((0,d.p3)(o,32,64)).toNumber(),u=_.from((0,d.p3)(o,l,l+32)).toNumber(),c=(0,d.p3)(o,l+32);for(let h=0;h<u;h++){let f=oW(c,32*h);null==f&&oI.throwError("CCIP Read contained corrupt URL string",m.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),a.push(f)}let p=o$(o,64);_.from((0,d.p3)(o,100,128)).isZero()||oI.throwError("CCIP Read callback selector included junk",m.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let g=(0,d.p3)(o,96,100),y=o$(o,128),v=yield this.ccipReadFetch(e,p,a);null==v&&oI.throwError("CCIP Read disabled or provided no URLs",m.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let b={to:n,data:(0,d.xs)([g,oX([v,y])])};return this._call(b,t,r+1)}catch(w){if(w.code===m.Yd.errors.SERVER_ERROR)throw w}try{return(0,d.Dv)(i)}catch(E){return oI.throwError("bad result from backend",m.Yd.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:E})}})}call(e,t){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,R.mE)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,R.mE)({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return _.from(r)}catch(n){return oI.throwError("bad result from backend",m.Yd.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:n})}})}_getAddress(e){return oR(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&oI.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&oI.throwError("ENS name not configured",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return oR(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,n={includeTransactions:!!t};if((0,d.A7)(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),(0,d.A7)(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(i){oI.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return(0,oE.poll)(()=>oR(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let i=null;for(let o=0;o<e.transactions.length;o++){let s=e.transactions[o];if(null==s.blockNumber)s.confirmations=0;else if(null==s.confirmations){null==i&&(i=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let a=i-s.blockNumber+1;a<=0&&(a=1),s.confirmations=a}}let l=this.formatter.blockWithTransactions(e);return l.transactions=l.transactions.map(e=>this._wrapTransaction(e)),l}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return oR(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,oE.poll)(()=>oR(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval),o=i-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return oR(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,oE.poll)(()=>oR(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval),o=i-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return n}),{oncePoll:this})})}getLogs(e){return oR(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,R.mE)({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),oT.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return oR(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return oR(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&oI.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return oR(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new oZ(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return oR(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||oI.throwError("network does not support ENS",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let n=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+ob(e).substring(2)});return this.formatter.callAddress(n)}catch(i){}return null})}resolveName(e){return oR(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if((0,d.A7)(e))throw t}"string"!=typeof e&&oI.throwArgumentError("invalid ENS name","name",e);let r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return oR(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=oW((yield this.call({to:r,data:"0x691f3431"+ob(t).substring(2)})),0),i=yield this.resolveName(n);return i!=e?null:n})}getAvatar(e){return oR(this,void 0,void 0,function*(){let t=null;if((0,d.A7)(e)){let r=this.formatter.address(e),n=r.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(n,"getAvatar");if(!i)return null;t=new oZ(this,i,n);try{let o=yield t.getAvatar();if(o)return o.url}catch(s){if(s.code!==m.Yd.errors.CALL_EXCEPTION)throw s}try{let a=oW((yield this.call({to:i,data:"0x691f3431"+ob(n).substring(2)})),0);t=yield this.getResolver(a)}catch(l){if(l.code!==m.Yd.errors.CALL_EXCEPTION)throw l;return null}}else if(!(t=yield this.getResolver(e)))return null;let u=yield t.getAvatar();return null==u?null:u.url})}perform(e,t){return oI.throwError(e+" not implemented",m.Yd.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new oV(oF(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=oF(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=oF(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=oF(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=oF(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=oF(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var o3=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let o6=new m.Yd(o_),o4=["call","estimateGas"];function o5(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=(0,d.A7)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let n in e){let i=o5(e[n],t);if(i)return i}return null}if("string"==typeof e)try{return o5(JSON.parse(e),t)}catch(o){}return null}function o8(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let i=o5(t,!0);if(i)return i.data;o6.throwError("missing revert data in call exception; Transaction reverted without a reason string",m.Yd.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let o=o5(t.body,!1);null==o&&(o=o5(t,!1)),o&&o6.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",m.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:e,transaction:n,error:t})}let s=t.message;throw t.code===m.Yd.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?s=t.error.message:"string"==typeof t.body?s=t.body:"string"==typeof t.responseText&&(s=t.responseText),(s=(s||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&o6.throwError("insufficient funds for intrinsic transaction cost",m.Yd.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),s.match(/nonce (is )?too low/i)&&o6.throwError("nonce has already been used",m.Yd.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),s.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&o6.throwError("replacement fee too low",m.Yd.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),s.match(/only replay-protected/i)&&o6.throwError("legacy pre-eip-155 transactions not supported",m.Yd.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),o4.indexOf(e)>=0&&s.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&o6.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",m.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function o7(e){return new Promise(function(t){setTimeout(t,e)})}function o9(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function se(e){return e?e.toLowerCase():e}let st={};class sr extends tb{constructor(e,t,r){if(super(),e!==st)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,R.zG)(this,"provider",t),null==r&&(r=0),"string"==typeof r?((0,R.zG)(this,"_address",this.provider.formatter.address(r)),(0,R.zG)(this,"_index",null)):"number"==typeof r?((0,R.zG)(this,"_index",r),(0,R.zG)(this,"_address",null)):o6.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return o6.throwError("cannot alter JSON-RPC Signer connection",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new sn(st,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&o6.throwError("unknown account #"+this._index,m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=(0,R.DC)(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=(0,R.DC)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>o3(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&o6.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),(0,R.mE)({tx:(0,R.mE)(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&o6.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&o6.throwError("user rejected transaction",m.Yd.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),o8("sendTransaction",e,n)))})}signTransaction(e){return o6.throwError("signing transactions is unsupported",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return o3(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield(0,oE.poll)(()=>o3(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(n){throw n.transactionHash=r,n}})}signMessage(e){return o3(this,void 0,void 0,function*(){let t="string"==typeof e?(0,eh.Y0)(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,d.Dv)(t),r.toLowerCase()])}catch(n){throw"string"==typeof n.message&&n.message.match(/user denied/i)&&o6.throwError("user rejected signing",m.Yd.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),n}})}_legacySignMessage(e){return o3(this,void 0,void 0,function*(){let t="string"==typeof e?(0,eh.Y0)(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),(0,d.Dv)(t)])}catch(n){throw"string"==typeof n.message&&n.message.match(/user denied/i)&&o6.throwError("user rejected signing",m.Yd.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),n}})}_signTypedData(e,t,r){return o3(this,void 0,void 0,function*(){let n=yield nd.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(nd.getPayload(n.domain,t,n.value))])}catch(o){throw"string"==typeof o.message&&o.message.match(/user denied/i)&&o6.throwError("user rejected signing",m.Yd.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}}),o}})}unlock(e){return o3(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class sn extends sr{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let si={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class so extends o2{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=(0,R.tu)(this.constructor,"defaultUrl")()),"string"==typeof e?(0,R.zG)(this,"connection",Object.freeze({url:e})):(0,R.zG)(this,"connection",Object.freeze((0,R.DC)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return o3(this,void 0,void 0,function*(){yield o7(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(r){try{e=yield this.send("net_version",[])}catch(t){}}if(null!=e){let n=(0,R.tu)(this.constructor,"getNetwork");try{return n(_.from(e).toNumber())}catch(i){return o6.throwError("could not detect network",m.Yd.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:i})}}return o6.throwError("could not detect network",m.Yd.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new sr(st,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,R.p$)(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=(0,oE.fetchJson)(this.connection,JSON.stringify(r),o9).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[se(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[se(t.address),t.blockTag]];case"getCode":return["eth_getCode",[se(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[se(t.address),(0,d.$m)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{let r=(0,R.tu)(this.constructor,"hexlifyTransaction");return["eth_call",[r(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{let n=(0,R.tu)(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=se(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return o3(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let r=t.transaction;if(r&&null!=r.type&&_.from(r.type).isZero()&&null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas){let n=yield this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&((t=(0,R.DC)(t)).transaction=(0,R.DC)(r),delete t.transaction.type)}}let i=this.prepareRequest(e,t);null==i&&o6.throwError(e+" not implemented",m.Yd.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(i[0],i[1])}catch(o){return o8(e,o,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return o7(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){n()},0),null}).catch(e=>{})}return n(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=(0,R.DC)(si);if(t)for(let n in t)t[n]&&(r[n]=!0);(0,R.uj)(e,r);let i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=(0,d.$P)(_.from(e[t]));"gasLimit"===t&&(t="gas"),i[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(i[t]=(0,d.Dv)(e[t]))}),e.accessList&&(i.accessList=rd(e.accessList)),i}}let ss=null;try{if(ss=WebSocket,null==ss)throw Error("inject please")}catch(sl){let sa=new m.Yd(o_);ss=function(){sa.throwError("WebSockets not supported in this environment",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var su=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let sc=new m.Yd(o_),sh=1;class sf extends so{constructor(e,t){"any"===t&&sc.throwError("WebSocketProvider does not support 'any' network yet",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),"string"==typeof e?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,R.zG)(this,"_websocket",new ss(this.connection.url)):(0,R.zG)(this,"_websocket",e),(0,R.zG)(this,"_requests",{}),(0,R.zG)(this,"_subs",{}),(0,R.zG)(this,"_subIds",{}),(0,R.zG)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(e=>{this.websocket.send(this._requests[e].payload)})},this.websocket.onmessage=e=>{let t=e.data,r=JSON.parse(t);if(null!=r.id){let n=String(r.id),i=this._requests[n];if(delete this._requests[n],void 0!==r.result)i.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(i.payload),response:r.result,provider:this});else{let o=null;r.error?(o=Error(r.error.message||"unknown error"),(0,R.zG)(o,"code",r.error.code||null),(0,R.zG)(o,"response",t)):o=Error("unknown error"),i.callback(o,void 0),this.emit("debug",{action:"response",error:o,request:JSON.parse(i.payload),provider:this})}}else if("eth_subscription"===r.method){let s=this._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};let r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){sc.throwError("cannot reset events block on WebSocketProvider",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){sc.throwError("cannot set polling interval on WebSocketProvider",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return su(this,void 0,void 0,function*(){return null})}set polling(e){e&&sc.throwError("cannot set polling on WebSocketProvider",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){let r=sh++;return new Promise((n,i)=>{function o(e,t){return e?i(e):n(t)}let s=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(s),provider:this}),this._requests[String(r)]={callback:o,payload:s},this._wsReady&&this.websocket.send(s)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return su(this,void 0,void 0,function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then(e=>this.send("eth_subscribe",e)),this._subIds[e]=n);let i=yield n;this._subs[i]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],e=>{let t=_.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{let t=e=>{let t=e.hash;this.getTransactionReceipt(t).then(e=>{e&&this.emit(t,e)})};t(e),this._subscribe("tx",["newHeads"],e=>{this._events.filter(e=>"tx"===e.type).forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter(e=>"tx"===e.type).length)return;t="tx"}else if(this.listenerCount(e.event))return;let r=this._subIds[t];r&&(delete this._subIds[t],r.then(e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))}))}destroy(){return su(this,void 0,void 0,function*(){this.websocket.readyState===ss.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var sd=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let sp=new m.Yd(o_);class sg extends so{detectNetwork(){let e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return sd(this,void 0,void 0,function*(){let t=this.network;return null==t&&((t=yield e.detectNetwork.call(this))||sp.throwError("no network detected",m.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,R.zG)(this,"_network",t),this.emit("network",t,null))),t})}}class sm extends sg{constructor(e,t){sp.checkAbstract(new.target,sm),e=(0,R.tu)(new.target,"getNetwork")(e),t=(0,R.tu)(new.target,"getApiKey")(t);let r=(0,R.tu)(new.target,"getUrl")(e,t);super(r,e),"string"==typeof t?(0,R.zG)(this,"apiKey",t):null!=t&&Object.keys(t).forEach(e=>{(0,R.zG)(this,e,t[e])})}_startPending(){sp.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return sp.throwError("API provider does not support signing",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return sp.throwError("not implemented; sub-classes must override getUrl",m.Yd.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}let sy=new m.Yd(o_),sv="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class sb extends sf{constructor(e,t){let r=new sw(e,t),n=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(n,r.network),(0,R.zG)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===sv}}class sw extends sm{static getWebSocketProvider(e,t){return new sb(e,t)}static getApiKey(e){return null==e?sv:(e&&"string"!=typeof e&&sy.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:sy.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===sv&&oC(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===sv}}let sE=new m.Yd(o_),sA="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function sS(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return sE.throwArgumentError("unsupported network","name",e)}class s_ extends sm{isCommunityResource(){return this.apiKey===sA}static getApiKey(e){return null==e?sA:e}static getUrl(e,t){null==t&&(t=sA);let r={allowGzip:!0,url:"https://"+sS(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===sA&&oC(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}var sk=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let sT=new m.Yd(o_);class sN extends sm{static getApiKey(e){return null!=e&&sT.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;return"homestead"===e.name?r="https://cloudflare-eth.com/":sT.throwArgumentError("unsupported network","network",arguments[0]),r}perform(e,t){let r=Object.create(null,{perform:{get:()=>super.perform}});return sk(this,void 0,void 0,function*(){if("getBlockNumber"===e){let n=yield r.perform.call(this,"getBlock",{blockTag:"latest"});return n.number}return r.perform.call(this,e,t)})}}var sx=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let sP=new m.Yd(o_);function sC(e){let t={};for(let r in e){if(null==e[r])continue;let n=e[r];("type"!==r||0!==n)&&(n=({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r]?(0,d.$P)((0,d.Dv)(n)):"accessList"===r?"["+rd(n).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]":(0,d.Dv)(n),t[r]=n)}return t}function sR(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){let t=Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function sI(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){let t=Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){let r=Error("invalid response");throw r.result=JSON.stringify(e),r}if(e.error){let n=Error(e.error.message||"unknown error");throw e.error.code&&(n.code=e.error.code),e.error.data&&(n.data=e.error.data),n}return e.result}function sO(e){if("pending"===e)throw Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function sM(e,t,r){if("call"===e&&t.code===m.Yd.errors.SERVER_ERROR){let n=t.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){let i=n.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),(0,d.A7)(i))return i;sP.throwError("missing revert data in call exception",m.Yd.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let o=t.message;throw t.code===m.Yd.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?o=t.error.message:"string"==typeof t.body?o=t.body:"string"==typeof t.responseText&&(o=t.responseText)),(o=(o||"").toLowerCase()).match(/insufficient funds/)&&sP.throwError("insufficient funds for intrinsic transaction cost",m.Yd.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),o.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&sP.throwError("nonce has already been used",m.Yd.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),o.match(/another transaction with same nonce/)&&sP.throwError("replacement fee too low",m.Yd.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),o.match(/execution failed due to an exception|execution reverted/)&&sP.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",m.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class sD extends o2{constructor(e,t){super(e),(0,R.zG)(this,"baseUrl",this.getBaseUrl()),(0,R.zG)(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-kovan":return"https://api-kovan-optimistic.etherscan.io"}return sP.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let n=t[r];return null!=n&&(e+=`&${r}=${n}`),e},""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return sx(this,void 0,void 0,function*(){let n=r?this.getPostUrl():this.getUrl(e,t),i=r?this.getPostData(e,t):null,o="proxy"===e?sI:sR;this.emit("debug",{action:"request",request:n,provider:this});let s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&oC(),Promise.resolve(!0))},a=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(i).map(e=>`${e}=${i[e]}`).join("&"));let l=yield(0,oE.fetchJson)(s,a,o||sI);return this.emit("debug",{action:"response",request:n,response:(0,R.p$)(l),provider:this}),l})}detectNetwork(){return sx(this,void 0,void 0,function*(){return this.network})}perform(e,t){let r=Object.create(null,{perform:{get:()=>super.perform}});return sx(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(e=>sM("sendTransaction",e,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let n=sC(t.transaction);n.module="proxy",n.action="eth_call";try{return yield this.fetch("proxy",n,!0)}catch(i){return sM("call",i,t.transaction)}}case"estimateGas":{let o=sC(t.transaction);o.module="proxy",o.action="eth_estimateGas";try{return yield this.fetch("proxy",o,!0)}catch(s){return sM("estimateGas",s,t.transaction)}}case"getLogs":{let a={action:"getLogs"};if(t.filter.fromBlock&&(a.fromBlock=sO(t.filter.fromBlock)),t.filter.toBlock&&(a.toBlock=sO(t.filter.toBlock)),t.filter.address&&(a.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&sP.throwError("unsupported topic count",m.Yd.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){let l=t.filter.topics[0];("string"!=typeof l||66!==l.length)&&sP.throwError("unsupported topic format",m.Yd.errors.UNSUPPORTED_OPERATION,{topic0:l}),a.topic0=l}let u=yield this.fetch("logs",a),c={};for(let h=0;h<u.length;h++){let f=u[h];if(null==f.blockHash){if(null==c[f.blockNumber]){let d=yield this.getBlock(f.blockNumber);d&&(c[f.blockNumber]=d.hash)}f.blockHash=c[f.blockNumber]}}return u}case"getEtherPrice":if("homestead"!==this.network.name)return 0;return parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)})}getHistory(e,t,r){return sx(this,void 0,void 0,function*(){let n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"},i=yield this.fetch("account",n);return i.map(e=>{["contractAddress","to"].forEach(function(t){""==e[t]&&delete e[t]}),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);let t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})})}isCommunityResource(){return null==this.apiKey}}function sL(e){e=e.slice();for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}var sF=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let sB=new m.Yd(o_);function sU(){return new Date().getTime()}function sj(e){let t=null;for(let r=0;r<e.length;r++){let n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||sB.throwArgumentError("provider mismatch","networks",e):t=n}return t}function sV(e,t){e=e.slice().sort();let r=Math.floor(e.length/2);if(e.length%2)return e[r];let n=e[r-1],i=e[r];return null!=t&&Math.abs(n-i)>t?null:(n+i)/2}function sG(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(_.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map(e=>sG(e)));if("object"==typeof e){let t=Object.keys(e);return t.sort(),"{"+t.map(t=>{let r=e[t];return r="function"==typeof r?"[function]":sG(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw Error("unknown value type: "+typeof e)}let sz=1;function sq(e){let t=null,r=null,n=new Promise(n=>{r=setTimeout(t=function(){r&&(clearTimeout(r),r=null),n()},e)}),i=e=>n=n.then(e);function o(){return n}return{cancel:t,getPromise:o,wait:i}}let sH=[m.Yd.errors.CALL_EXCEPTION,m.Yd.errors.INSUFFICIENT_FUNDS,m.Yd.errors.NONCE_EXPIRED,m.Yd.errors.REPLACEMENT_UNDERPRICED,m.Yd.errors.UNPREDICTABLE_GAS_LIMIT],sK=["address","args","errorArgs","errorSignature","method","transaction"];function sW(e,t){let r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function s$(e,t){return function(r){let n={};r.forEach(t=>{let r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++});let i=Object.keys(n);for(let o=0;o<i.length;o++){let s=n[i[o]];if(s.count>=t)return s.result}}}function sY(e,t,r){let n=sG;switch(t){case"getBlockNumber":return function(t){let r=t.map(e=>e.result),n=sV(t.map(e=>e.result),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){let t=e.map(e=>e.result);return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return sV(e.map(e=>e.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,R.DC)(e)).confirmations=-1,sG(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=(0,R.DC)(e)).transactions=e.transactions.map(e=>((e=(0,R.DC)(e)).confirmations=-1,e)),sG(e))}:function(e){return null==e?null:sG(e)};break;default:throw Error("unknown method: "+t)}return s$(n,e.quorum)}function sJ(e,t){return sF(this,void 0,void 0,function*(){let r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,oE.poll)(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function sQ(e,t,r,n){return sF(this,void 0,void 0,function*(){let i=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&(0,d.A7)(n.blockTag)&&(i=yield sJ(e,t)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&(0,d.A7)(n.blockTag)&&(i=yield sJ(e,t)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&(0,d.A7)(n.blockTag)&&(i=yield sJ(e,t)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":if(n.blockTag&&(0,d.A7)(n.blockTag)&&(i=yield sJ(e,t)),"call"===r&&n.blockTag)return i[r](n.transaction,n.blockTag);return i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let o=n.filter;return(o.fromBlock&&(0,d.A7)(o.fromBlock)||o.toBlock&&(0,d.A7)(o.toBlock))&&(i=yield sJ(e,t)),i.getLogs(o)}}return sB.throwError("unknown method error",m.Yd.errors.UNKNOWN_ERROR,{method:r,params:n})})}class sX extends o2{constructor(e,t){0===e.length&&sB.throwArgumentError("missing providers","providers",e);let r=e.map((e,t)=>{if(td.isProvider(e)){let r=ox(e)?2e3:750,n=1;return Object.freeze({provider:e,weight:1,stallTimeout:r,priority:n})}let i=(0,R.DC)(e);null==i.priority&&(i.priority=1),null==i.stallTimeout&&(i.stallTimeout=ox(e)?2e3:750),null==i.weight&&(i.weight=1);let o=i.weight;return(o%1||o>512||o<1)&&sB.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,o),Object.freeze(i)}),n=r.reduce((e,t)=>e+t.weight,0);null==t?t=n/2:t>n&&sB.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=sj(r.map(e=>e.provider.network));null==i&&(i=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(e,t)},0)})),super(i),(0,R.zG)(this,"providerConfigs",Object.freeze(r)),(0,R.zG)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return sF(this,void 0,void 0,function*(){let e=yield Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork()));return sj(e)})}perform(e,t){return sF(this,void 0,void 0,function*(){if("sendTransaction"===e){let r=yield Promise.all(this.providerConfigs.map(e=>e.provider.sendTransaction(t.signedTransaction).then(e=>e.hash,e=>e)));for(let n=0;n<r.length;n++){let i=r[n];if("string"==typeof i)return i}throw r[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());let o=sY(this,e,t),s=sL(this.providerConfigs.map(R.DC));s.sort((e,t)=>e.priority-t.priority);let a=this._highestBlockNumber,l=0,u=!0;for(;;){let c=sU(),h=s.filter(e=>e.runner&&c-e.start<e.stallTimeout).reduce((e,t)=>e+t.weight,0);for(;h<this.quorum&&l<s.length;){let f=s[l++],d=sz++;f.start=sU(),f.staller=sq(f.stallTimeout),f.staller.wait(()=>{f.staller=null}),f.runner=sQ(f,a,e,t).then(r=>{f.done=!0,f.result=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:d,backend:sW(f,sU()),request:{method:e,params:(0,R.p$)(t)},provider:this})},r=>{f.done=!0,f.error=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:d,backend:sW(f,sU()),request:{method:e,params:(0,R.p$)(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:d,backend:sW(f,null),request:{method:e,params:(0,R.p$)(t)},provider:this}),h+=f.weight}let p=[];s.forEach(e=>{!e.done&&e.runner&&(p.push(e.runner),e.staller&&p.push(e.staller.getPromise()))}),p.length&&(yield Promise.race(p));let g=s.filter(e=>e.done&&null==e.error);if(g.length>=this.quorum){let y=o(g);if(void 0!==y)return s.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),y;u||(yield sq(100).getPromise()),u=!1}let v=s.reduce((e,t)=>{if(!t.done||null==t.error)return e;let r=t.error.code;return sH.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e},{});if(Object.keys(v).forEach(e=>{let t=v[e];if(t.weight<this.quorum)return;s.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0});let r=t.error,n={};sK.forEach(e=>{null!=r[e]&&(n[e]=r[e])}),sB.throwError(r.reason||r.message,e,n)}),0===s.filter(e=>!e.done).length)break}return s.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),sB.throwError("failed to meet quorum",m.Yd.errors.SERVER_ERROR,{method:e,params:t,results:s.map(e=>sW(e)),provider:this})})}}let sZ=null,s0=new m.Yd(o_),s1="84842078b09946638c03157f83405213";class s2 extends sf{constructor(e,t){let r=new s3(e,t),n=r.connection;n.password&&s0.throwError("INFURA WebSocket project secrets unsupported",m.Yd.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});let i=n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,e),(0,R.zG)(this,"apiKey",r.projectId),(0,R.zG)(this,"projectId",r.projectId),(0,R.zG)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===s1}}class s3 extends sm{static getWebSocketProvider(e,t){return new s2(e,t)}static getApiKey(e){let t={apiKey:s1,projectId:s1,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(s0.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),s0.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:s0.throwError("unsupported network",m.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===s1&&oC(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===s1}}class s6 extends so{send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);let n={request:r,resolve:null,reject:null},i=new Promise((e,t)=>{n.resolve=e,n.reject=t});return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{let e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;let t=e.map(e=>e.request);return this.emit("debug",{action:"requestBatch",request:(0,R.p$)(t),provider:this}),(0,oE.fetchJson)(this.connection,JSON.stringify(t)).then(r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach((e,t)=>{let n=r[t];if(n.error){let i=Error(n.error.message);i.code=n.error.code,i.data=n.error.data,e.reject(i)}else e.resolve(n.result)})},r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach(e=>{e.reject(r)})})},10)),i}}let s4=new m.Yd(o_),s5="ETHERS_JS_SHARED";class s8 extends sm{static getApiKey(e){return e&&"string"!=typeof e&&s4.throwArgumentError("invalid apiKey","apiKey",e),e||s5}static getUrl(e,t){s4.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:s4.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}let s7=new m.Yd(o_),s9="62e1ad51b37b8e00394bda3b";class ae extends sm{static getApiKey(e){let t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=s9:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:s7.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:s7.throwError("unsupported network",m.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n=`https://${r}/v1/lb/${t.applicationId}`,i={headers:{},url:n};return null!=t.applicationSecretKey&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===s9}}let at=new m.Yd(o_),ar=1;function an(e,t){let r="Web3LegacyFetcher";return function(e,n){let i={method:e,params:n,id:ar++,jsonrpc:"2.0"};return new Promise((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,R.p$)(i),provider:this}),t(i,(t,o)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){let s=Error(o.error.message);return s.code=o.error.code,s.data=o.error.data,n(s)}e(o.result)})})}}function ai(e){return function(t,r){null==r&&(r=[]);let n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,R.p$)(n),provider:this}),e.request(n).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e})}}class ao extends so{constructor(e,t){null==e&&at.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"==typeof e?(r="unknown:",n=e):((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),i=e,e.request?(""===r&&(r="eip-1193:"),n=ai(e)):e.sendAsync?n=an(e,e.sendAsync.bind(e)):e.send?n=an(e,e.send.bind(e)):at.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),(0,R.zG)(this,"jsonRpcFetchFunc",n),(0,R.zG)(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}let as=new m.Yd(o_);function aa(e,t){if(null==e&&(e="homestead"),"string"==typeof e){let r=e.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new so(e);case"ws":case"wss":return new sf(e);default:as.throwArgumentError("unsupported URL scheme","network",e)}}let n=iH(e);return n&&n._defaultProvider||as.throwError("unsupported getDefaultProvider network",m.Yd.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:sX,AlchemyProvider:sw,AnkrProvider:s_,CloudflareProvider:sN,EtherscanProvider:sD,InfuraProvider:s3,JsonRpcProvider:so,NodesmithProvider:s8,PocketProvider:ae,Web3Provider:ao,IpcProvider:sZ},t)}let al="solidity/5.7.0",au=RegExp("^bytes([0-9]+)$"),ac=RegExp("^(u?int)([0-9]*)$"),ah=RegExp("^(.*)\\[([0-9]*)\\]$"),af="0000000000000000000000000000000000000000000000000000000000000000",ad=new m.Yd(al);function ap(e,t,r){switch(e){case"address":if(r)return(0,d.Bu)(t,32);return(0,d.lE)(t);case"string":return(0,eh.Y0)(t);case"bytes":return(0,d.lE)(t);case"bool":if(t=t?"0x01":"0x00",r)return(0,d.Bu)(t,32);return(0,d.lE)(t)}let n=e.match(ac);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!=0||0===i||i>256)&&ad.throwArgumentError("invalid number type","type",e),r&&(i=256),t=_.from(t).toTwos(i),(0,d.Bu)(t,i/8)}if(n=e.match(au)){let o=parseInt(n[1]);return((String(o)!==n[1]||0===o||o>32)&&ad.throwArgumentError("invalid bytes type","type",e),(0,d.lE)(t).byteLength!==o&&ad.throwArgumentError(`invalid value for ${e}`,"value",t),r)?(0,d.lE)((t+af).substring(0,66)):t}if((n=e.match(ah))&&Array.isArray(t)){let s=n[1],a=parseInt(n[2]||String(t.length));a!=t.length&&ad.throwArgumentError(`invalid array length for ${e}`,"value",t);let l=[];return t.forEach(function(e){l.push(ap(s,e,!0))}),(0,d.zo)(l)}return ad.throwArgumentError("invalid type","type",e)}function ag(e,t){e.length!=t.length&&ad.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach(function(e,n){r.push(ap(e,t[n]))}),(0,d.Dv)((0,d.zo)(r))}function am(e,t){return j(ag(e,t))}function ay(e,t){return nb(ag(e,t))}function av(e){if(e.length%4!=0)throw Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function ab(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach(e=>{let i=e.split(":");n[r+=parseInt(i[0],16)]=t(i[1])}),n}function aw(e){let t=0;return e.split(",").map(e=>{let r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}})}function aE(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];if(e>=(r+=i.l)&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}let aA=aw("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),aS="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),a_=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],ak=ab("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),aT=ab("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),aN=ab("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",av),ax=aw("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function aP(e){return e.reduce((e,t)=>(t.forEach(t=>{e.push(t)}),e),[])}function aC(e){return!!aE(e,aA)}function aR(e){let t=aE(e,a_);if(t)return[e+t.s];let r=ak[e];if(r)return r;let n=aT[e];return n?[e+n[0]]:aN[e]||null}function aI(e){return!!aE(e,ax)}function aO(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=(0,eh.XL)(e);t=aP(t.map(e=>aS.indexOf(e)>=0||e>=65024&&e<=65039?[]:aR(e)||[e])),(t=(0,eh.XL)((0,eh.uu)(t),eh.Uj.NFKC)).forEach(e=>{if(aI(e))throw Error("STRINGPREP_CONTAINS_PROHIBITED")}),t.forEach(e=>{if(aC(e))throw Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=(0,eh.uu)(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw Error("invalid hyphen");return r}function aM(e){let t=(0,eh.Y0)(e);if(t.length>31)throw Error("bytes32 string must be less than 32 bytes");return(0,d.Dv)((0,d.zo)([t,iM]).slice(0,32))}function aD(e){let t=(0,d.lE)(e);if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return(0,eh.ZN)(t.slice(0,r))}let aL="units/5.7.0",aF=new m.Yd(aL),aB=["wei","kwei","mwei","gwei","szabo","finney","ether"];function aU(e){let t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&aF.throwArgumentError("invalid value","value",e);let r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);let o=[];for(;r.length;){if(r.length<=3){o.unshift(r);break}{let s=r.length-3;o.unshift(r.substring(s)),r=r.substring(0,s)}}return n+o.join(",")+i}function aj(e,t){if("string"==typeof t){let r=aB.indexOf(t);-1!==r&&(t=3*r)}return rX(e,null!=t?t:18)}function aV(e,t){if("string"!=typeof e&&aF.throwArgumentError("value must be a string","value",e),"string"==typeof t){let r=aB.indexOf(t);-1!==r&&(t=3*r)}return rZ(e,null!=t?t:18)}function aG(e){return aj(e,18)}function az(e){return aV(e,18)}let aq="ethers/5.7.1",aH=new m.Yd(aq);try{let aK=window;null==aK._ethers&&(aK._ethers=f)}catch(aW){}},8826:function(e){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function s(e,t,r,n,i){(null!=n||null!=i)&&(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var a,l={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},u=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(a[(240&n)>>4]+a[15&n])}return t.join("")}}),c={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],v=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],E=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],A=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],_=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],k=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function T(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var N=function(e){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};N.prototype._prepare=function(){var e=c[this.key.length];if(null==e)throw Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var r=(e+1)*4,n=this.key.length/4,i=T(this.key),t=0;t<n;t++)o=t>>2,this._Ke[o][t%4]=i[t],this._Kd[e-o][t%4]=i[t];for(var o,s,a=0,l=n;l<r;){if(s=i[n-1],i[0]^=f[s>>16&255]<<24^f[s>>8&255]<<16^f[255&s]<<8^f[s>>24&255]^h[a]<<24,a+=1,8!=n)for(var t=1;t<n;t++)i[t]^=i[t-1];else{for(var t=1;t<n/2;t++)i[t]^=i[t-1];s=i[n/2-1],i[n/2]^=f[255&s]^f[s>>8&255]<<8^f[s>>16&255]<<16^f[s>>24&255]<<24;for(var t=n/2+1;t<n;t++)i[t]^=i[t-1]}for(var u,d,t=0;t<n&&l<r;)u=l>>2,d=l%4,this._Ke[u][d]=i[t],this._Kd[e-u][d]=i[t++],l++}for(var u=1;u<e;u++)for(var d=0;d<4;d++)s=this._Kd[u][d],this._Kd[u][d]=A[s>>24&255]^S[s>>16&255]^_[s>>8&255]^k[255&s]},N.prototype.encrypt=function(e){if(16!=e.length)throw Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=T(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(var i=0;i<4;i++)r[i]=p[n[i]>>24&255]^g[n[(i+1)%4]>>16&255]^m[n[(i+2)%4]>>8&255]^y[255&n[(i+3)%4]]^this._Ke[s][i];n=r.slice()}for(var a,l=o(16),i=0;i<4;i++)a=this._Ke[t][i],l[4*i]=(f[n[i]>>24&255]^a>>24)&255,l[4*i+1]=(f[n[(i+1)%4]>>16&255]^a>>16)&255,l[4*i+2]=(f[n[(i+2)%4]>>8&255]^a>>8)&255,l[4*i+3]=(f[255&n[(i+3)%4]]^a)&255;return l},N.prototype.decrypt=function(e){if(16!=e.length)throw Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=T(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(var i=0;i<4;i++)r[i]=v[n[i]>>24&255]^b[n[(i+3)%4]>>16&255]^w[n[(i+2)%4]>>8&255]^E[255&n[(i+1)%4]]^this._Kd[s][i];n=r.slice()}for(var a,l=o(16),i=0;i<4;i++)a=this._Kd[t][i],l[4*i]=(d[n[i]>>24&255]^a>>24)&255,l[4*i+1]=(d[n[(i+3)%4]>>16&255]^a>>16)&255,l[4*i+2]=(d[n[(i+2)%4]>>8&255]^a>>8)&255,l[4*i+3]=(d[255&n[(i+1)%4]]^a)&255;return l};var x=function(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new N(e)};x.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},x.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=i(t,!0),this._aes=new N(e)};P.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},P.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];s(e,this._lastCipherblock,0,n,n+16)}return t};var C=function(e,t,r){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 size)")}else t=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(t,!0),this._aes=new N(e)};C.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},C.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var R=function(e,t){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new N(e)};R.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},R.prototype.decrypt=R.prototype.encrypt;var I=function(e){if(!(this instanceof I))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};I.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},I.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},I.prototype.increment=function(){for(var e=15;e>=0;e--)if(255===this._counter[e])this._counter[e]=0;else{this._counter[e]++;break}};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof I||(t=new I(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new N(e)};O.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},O.prototype.decrypt=O.prototype.encrypt;var M={AES:N,Counter:I,ModeOfOperation:{ecb:x,cbc:P,cfb:C,ofb:R,ctr:O},utils:{hex:u,utf8:l},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=o(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw Error("PKCS#7 invalid padding byte");var a=o(r);return s(e,a,0,0,r),a}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:s}};e.exports=M}(0)},2882:function(e){"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<t.length;n++){var i=t.charAt(n);if(void 0!==r[i])throw TypeError(i+" is ambiguous");r[i]=n}function o(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function s(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=o(t)^n>>5}for(r=0,t=o(t);r<e.length;++r){var i=e.charCodeAt(r);t=o(t)^31&i}return t}function a(e,r,n){if(n=n||90,e.length+7+r.length>n)throw TypeError("Exceeds length limit");var i=s(e=e.toLowerCase());if("string"==typeof i)throw Error(i);for(var a=e+"1",l=0;l<r.length;++l){var u=r[l];if(u>>5!=0)throw Error("Non 5-bit word");i=o(i)^u,a+=t.charAt(u)}for(l=0;l<6;++l)i=o(i);for(i^=1,l=0;l<6;++l){var c=i>>(5-l)*5&31;a+=t.charAt(c)}return a}function l(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var a=(e=n).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var l=e.slice(0,a),u=e.slice(a+1);if(u.length<6)return"Data too short";var c=s(l);if("string"==typeof c)return c;for(var h=[],f=0;f<u.length;++f){var d=u.charAt(f),p=r[d];if(void 0===p)return"Unknown character "+d;c=o(c)^p,f+6>=u.length||h.push(p)}return 1!==c?"Invalid checksum for "+e:{prefix:l,words:h}}function u(){var e=l.apply(null,arguments);if("object"==typeof e)return e}function c(e){var t=l.apply(null,arguments);if("object"==typeof t)return t;throw Error(t)}function h(e,t,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],l=0;l<e.length;++l)for(i=i<<t|e[l],o+=t;o>=r;)a.push(i>>(o-=r)&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function f(e){var t=h(e,8,5,!0);if(Array.isArray(t))return t}function d(e){var t=h(e,8,5,!0);if(Array.isArray(t))return t;throw Error(t)}function p(e){var t=h(e,5,8,!1);if(Array.isArray(t))return t}function g(e){var t=h(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}e.exports={decodeUnsafe:u,decode:c,encode:a,toWordsUnsafe:f,toWords:d,fromWordsUnsafe:p,fromWords:g}},3550:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{d="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(s){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function l(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),l=t;l<a;l++){var u=e.charCodeAt(l)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return 0>e.cmp(t)?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,o,s=0;s<this.length;s++)this.words[s]=0;var a=0;if("be"===r)for(s=e.length-1,i=0;s>=0;s-=3)o=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[i]|=o<<a&67108863,this.words[i+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(s=0,i=0;s<e.length;s+=3)o=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[i]|=o<<a&67108863,this.words[i+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=l(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=l(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,l=0,c=r;c<a;c+=n)l=u(e,c,c+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var h=1;for(l=u(e,c,e.length,t),c=0;c<s;c++)h*=t;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},o.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){c(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(h){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d,p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],l=((a<<i|o)&16777215).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?p[6-l.length]+l+r:l+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=g[e],c=m[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var f=h.modrn(c).toString(e);r=(h=h.idivn(c)).isZero()?f+r:p[u-f.length]+f+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},d&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(d,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};var y=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)};function v(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,l=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=l>>>26,h=67108863&l,f=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=f;d++){var p=u-d|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,l=0|c}return 0!==l?r.words[u]=0|l:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=y(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n((this.negative|e.negative)==0),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n((this.negative|e.negative)==0),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n((this.negative|e.negative)==0),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(n=(0|t.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&n;for(;0!==o&&s<t.length;s++)o=(n=(0|t.words[s])+o)>>26,this.words[s]=67108863&n;if(0===o&&s<t.length&&t!==this)for(;s<t.length;s++)this.words[s]=t.words[s];return this.length=Math.max(this.length,s),t!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var w=function(e,t,r){var n,i,o,s=e.words,a=t.words,l=r.words,u=0,c=0|s[0],h=8191&c,f=c>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,b=0|s[3],w=8191&b,E=b>>>13,A=0|s[4],S=8191&A,_=A>>>13,k=0|s[5],T=8191&k,N=k>>>13,x=0|s[6],P=8191&x,C=x>>>13,R=0|s[7],I=8191&R,O=R>>>13,M=0|s[8],D=8191&M,L=M>>>13,F=0|s[9],B=8191&F,U=F>>>13,j=0|a[0],V=8191&j,G=j>>>13,z=0|a[1],q=8191&z,H=z>>>13,K=0|a[2],W=8191&K,$=K>>>13,Y=0|a[3],J=8191&Y,Q=Y>>>13,X=0|a[4],Z=8191&X,ee=X>>>13,et=0|a[5],er=8191&et,en=et>>>13,ei=0|a[6],eo=8191&ei,es=ei>>>13,ea=0|a[7],el=8191&ea,eu=ea>>>13,ec=0|a[8],eh=8191&ec,ef=ec>>>13,ed=0|a[9],ep=8191&ed,eg=ed>>>13;r.negative=e.negative^t.negative,r.length=19;var em=(u+(n=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,G))+Math.imul(f,V)|0))<<13)|0;u=((o=Math.imul(f,G))+(i>>>13)|0)+(em>>>26)|0,em&=67108863,n=Math.imul(p,V),i=(i=Math.imul(p,G))+Math.imul(g,V)|0,o=Math.imul(g,G);var ey=(u+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,q)|0))<<13)|0;u=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(y,V),i=(i=Math.imul(y,G))+Math.imul(v,V)|0,o=Math.imul(v,G),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,H)|0;var ev=(u+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(w,V),i=(i=Math.imul(w,G))+Math.imul(E,V)|0,o=Math.imul(E,G),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,q)|0,o=o+Math.imul(v,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,$)|0;var eb=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(S,V),i=(i=Math.imul(S,G))+Math.imul(_,V)|0,o=Math.imul(_,G),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,$)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,Q)|0;var ew=(u+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Z)|0))<<13)|0;u=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(T,V),i=(i=Math.imul(T,G))+Math.imul(N,V)|0,o=Math.imul(N,G),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,ee)|0;var eE=(u+(n=n+Math.imul(h,er)|0)|0)+((8191&(i=(i=i+Math.imul(h,en)|0)+Math.imul(f,er)|0))<<13)|0;u=((o=o+Math.imul(f,en)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(P,V),i=(i=Math.imul(P,G))+Math.imul(C,V)|0,o=Math.imul(C,G),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,$)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(g,er)|0,o=o+Math.imul(g,en)|0;var eA=(u+(n=n+Math.imul(h,eo)|0)|0)+((8191&(i=(i=i+Math.imul(h,es)|0)+Math.imul(f,eo)|0))<<13)|0;u=((o=o+Math.imul(f,es)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,n=Math.imul(I,V),i=(i=Math.imul(I,G))+Math.imul(O,V)|0,o=Math.imul(O,G),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,H)|0,n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(y,er)|0,i=(i=i+Math.imul(y,en)|0)+Math.imul(v,er)|0,o=o+Math.imul(v,en)|0,n=n+Math.imul(p,eo)|0,i=(i=i+Math.imul(p,es)|0)+Math.imul(g,eo)|0,o=o+Math.imul(g,es)|0;var eS=(u+(n=n+Math.imul(h,el)|0)|0)+((8191&(i=(i=i+Math.imul(h,eu)|0)+Math.imul(f,el)|0))<<13)|0;u=((o=o+Math.imul(f,eu)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,G))+Math.imul(L,V)|0,o=Math.imul(L,G),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Q)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(w,er)|0,i=(i=i+Math.imul(w,en)|0)+Math.imul(E,er)|0,o=o+Math.imul(E,en)|0,n=n+Math.imul(y,eo)|0,i=(i=i+Math.imul(y,es)|0)+Math.imul(v,eo)|0,o=o+Math.imul(v,es)|0,n=n+Math.imul(p,el)|0,i=(i=i+Math.imul(p,eu)|0)+Math.imul(g,el)|0,o=o+Math.imul(g,eu)|0;var e_=(u+(n=n+Math.imul(h,eh)|0)|0)+((8191&(i=(i=i+Math.imul(h,ef)|0)+Math.imul(f,eh)|0))<<13)|0;u=((o=o+Math.imul(f,ef)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,G))+Math.imul(U,V)|0,o=Math.imul(U,G),n=n+Math.imul(D,q)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,H)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(S,er)|0,i=(i=i+Math.imul(S,en)|0)+Math.imul(_,er)|0,o=o+Math.imul(_,en)|0,n=n+Math.imul(w,eo)|0,i=(i=i+Math.imul(w,es)|0)+Math.imul(E,eo)|0,o=o+Math.imul(E,es)|0,n=n+Math.imul(y,el)|0,i=(i=i+Math.imul(y,eu)|0)+Math.imul(v,el)|0,o=o+Math.imul(v,eu)|0,n=n+Math.imul(p,eh)|0,i=(i=i+Math.imul(p,ef)|0)+Math.imul(g,eh)|0,o=o+Math.imul(g,ef)|0;var ek=(u+(n=n+Math.imul(h,ep)|0)|0)+((8191&(i=(i=i+Math.imul(h,eg)|0)+Math.imul(f,ep)|0))<<13)|0;u=((o=o+Math.imul(f,eg)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,H))+Math.imul(U,q)|0,o=Math.imul(U,H),n=n+Math.imul(D,W)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,$)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(T,er)|0,i=(i=i+Math.imul(T,en)|0)+Math.imul(N,er)|0,o=o+Math.imul(N,en)|0,n=n+Math.imul(S,eo)|0,i=(i=i+Math.imul(S,es)|0)+Math.imul(_,eo)|0,o=o+Math.imul(_,es)|0,n=n+Math.imul(w,el)|0,i=(i=i+Math.imul(w,eu)|0)+Math.imul(E,el)|0,o=o+Math.imul(E,eu)|0,n=n+Math.imul(y,eh)|0,i=(i=i+Math.imul(y,ef)|0)+Math.imul(v,eh)|0,o=o+Math.imul(v,ef)|0;var eT=(u+(n=n+Math.imul(p,ep)|0)|0)+((8191&(i=(i=i+Math.imul(p,eg)|0)+Math.imul(g,ep)|0))<<13)|0;u=((o=o+Math.imul(g,eg)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,$))+Math.imul(U,W)|0,o=Math.imul(U,$),n=n+Math.imul(D,J)|0,i=(i=i+Math.imul(D,Q)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(P,er)|0,i=(i=i+Math.imul(P,en)|0)+Math.imul(C,er)|0,o=o+Math.imul(C,en)|0,n=n+Math.imul(T,eo)|0,i=(i=i+Math.imul(T,es)|0)+Math.imul(N,eo)|0,o=o+Math.imul(N,es)|0,n=n+Math.imul(S,el)|0,i=(i=i+Math.imul(S,eu)|0)+Math.imul(_,el)|0,o=o+Math.imul(_,eu)|0,n=n+Math.imul(w,eh)|0,i=(i=i+Math.imul(w,ef)|0)+Math.imul(E,eh)|0,o=o+Math.imul(E,ef)|0;var eN=(u+(n=n+Math.imul(y,ep)|0)|0)+((8191&(i=(i=i+Math.imul(y,eg)|0)+Math.imul(v,ep)|0))<<13)|0;u=((o=o+Math.imul(v,eg)|0)+(i>>>13)|0)+(eN>>>26)|0,eN&=67108863,n=Math.imul(B,J),i=(i=Math.imul(B,Q))+Math.imul(U,J)|0,o=Math.imul(U,Q),n=n+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(I,er)|0,i=(i=i+Math.imul(I,en)|0)+Math.imul(O,er)|0,o=o+Math.imul(O,en)|0,n=n+Math.imul(P,eo)|0,i=(i=i+Math.imul(P,es)|0)+Math.imul(C,eo)|0,o=o+Math.imul(C,es)|0,n=n+Math.imul(T,el)|0,i=(i=i+Math.imul(T,eu)|0)+Math.imul(N,el)|0,o=o+Math.imul(N,eu)|0,n=n+Math.imul(S,eh)|0,i=(i=i+Math.imul(S,ef)|0)+Math.imul(_,eh)|0,o=o+Math.imul(_,ef)|0;var ex=(u+(n=n+Math.imul(w,ep)|0)|0)+((8191&(i=(i=i+Math.imul(w,eg)|0)+Math.imul(E,ep)|0))<<13)|0;u=((o=o+Math.imul(E,eg)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(D,er)|0,i=(i=i+Math.imul(D,en)|0)+Math.imul(L,er)|0,o=o+Math.imul(L,en)|0,n=n+Math.imul(I,eo)|0,i=(i=i+Math.imul(I,es)|0)+Math.imul(O,eo)|0,o=o+Math.imul(O,es)|0,n=n+Math.imul(P,el)|0,i=(i=i+Math.imul(P,eu)|0)+Math.imul(C,el)|0,o=o+Math.imul(C,eu)|0,n=n+Math.imul(T,eh)|0,i=(i=i+Math.imul(T,ef)|0)+Math.imul(N,eh)|0,o=o+Math.imul(N,ef)|0;var eP=(u+(n=n+Math.imul(S,ep)|0)|0)+((8191&(i=(i=i+Math.imul(S,eg)|0)+Math.imul(_,ep)|0))<<13)|0;u=((o=o+Math.imul(_,eg)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(B,er),i=(i=Math.imul(B,en))+Math.imul(U,er)|0,o=Math.imul(U,en),n=n+Math.imul(D,eo)|0,i=(i=i+Math.imul(D,es)|0)+Math.imul(L,eo)|0,o=o+Math.imul(L,es)|0,n=n+Math.imul(I,el)|0,i=(i=i+Math.imul(I,eu)|0)+Math.imul(O,el)|0,o=o+Math.imul(O,eu)|0,n=n+Math.imul(P,eh)|0,i=(i=i+Math.imul(P,ef)|0)+Math.imul(C,eh)|0,o=o+Math.imul(C,ef)|0;var eC=(u+(n=n+Math.imul(T,ep)|0)|0)+((8191&(i=(i=i+Math.imul(T,eg)|0)+Math.imul(N,ep)|0))<<13)|0;u=((o=o+Math.imul(N,eg)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=67108863,n=Math.imul(B,eo),i=(i=Math.imul(B,es))+Math.imul(U,eo)|0,o=Math.imul(U,es),n=n+Math.imul(D,el)|0,i=(i=i+Math.imul(D,eu)|0)+Math.imul(L,el)|0,o=o+Math.imul(L,eu)|0,n=n+Math.imul(I,eh)|0,i=(i=i+Math.imul(I,ef)|0)+Math.imul(O,eh)|0,o=o+Math.imul(O,ef)|0;var eR=(u+(n=n+Math.imul(P,ep)|0)|0)+((8191&(i=(i=i+Math.imul(P,eg)|0)+Math.imul(C,ep)|0))<<13)|0;u=((o=o+Math.imul(C,eg)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863,n=Math.imul(B,el),i=(i=Math.imul(B,eu))+Math.imul(U,el)|0,o=Math.imul(U,eu),n=n+Math.imul(D,eh)|0,i=(i=i+Math.imul(D,ef)|0)+Math.imul(L,eh)|0,o=o+Math.imul(L,ef)|0;var eI=(u+(n=n+Math.imul(I,ep)|0)|0)+((8191&(i=(i=i+Math.imul(I,eg)|0)+Math.imul(O,ep)|0))<<13)|0;u=((o=o+Math.imul(O,eg)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(B,eh),i=(i=Math.imul(B,ef))+Math.imul(U,eh)|0,o=Math.imul(U,ef);var eO=(u+(n=n+Math.imul(D,ep)|0)|0)+((8191&(i=(i=i+Math.imul(D,eg)|0)+Math.imul(L,ep)|0))<<13)|0;u=((o=o+Math.imul(L,eg)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863;var eM=(u+(n=Math.imul(B,ep))|0)+((8191&(i=(i=Math.imul(B,eg))+Math.imul(U,ep)|0))<<13)|0;return u=((o=Math.imul(U,eg))+(i>>>13)|0)+(eM>>>26)|0,eM&=67108863,l[0]=em,l[1]=ey,l[2]=ev,l[3]=eb,l[4]=ew,l[5]=eE,l[6]=eA,l[7]=eS,l[8]=e_,l[9]=ek,l[10]=eT,l[11]=eN,l[12]=ex,l[13]=eP,l[14]=eC,l[15]=eR,l[16]=eI,l[17]=eO,l[18]=eM,0!==u&&(l[19]=u,r.length++),r};function E(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,l=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=l;u++){var c=o-u,h=(0|e.words[c])*(0|t.words[u]),f=67108863&h;s=s+(h/67108864|0)|0,a=67108863&(f=f+a|0),i+=(s=s+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function A(e,t,r){return E(e,t,r)}function S(e,t){this.x=e,this.y=t}Math.imul||(w=b),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?w(this,e,t):r<63?b(this,e,t):r<1024?E(this,e,t):A(this,e,t)},S.prototype.makeRBT=function(e){for(var t=Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},S.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},S.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},S.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=l,f=u,d=0;d<s;d++){var p=r[c+d],g=n[c+d],m=r[c+d+s],y=n[c+d+s],v=h*m-f*y;y=h*y+f*m,m=v,r[c+d]=p+m,n[c+d]=g+y,r[c+d+s]=p-m,n[c+d+s]=g-y,d!==a&&(v=l*h-u*f,f=l*f+u*h,h=v)}},S.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},S.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},S.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},S.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n((-8192&o)==0)},S.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},S.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=Array(n),a=Array(n),l=Array(n),u=Array(n),c=Array(n),h=Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,l,n,i),this.transform(u,o,c,h,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-l[d]*h[d];l[d]=a[d]*h[d]+l[d]*c[d],a[d]=p}return this.conjugate(a,l,n),this.transform(a,l,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=Array(this.length+e.length),A(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r=(o/67108864|0)+(s>>>26),this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=v(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,l=(0|this.words[t])-a<<r;this.words[t]=l|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,l=r;if(i-=s,i=Math.max(0,i),l){for(var u=0;u<s;u++)l.words[u]=this.words[u];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return(n("number"==typeof e),n(e<67108864),e<0)?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var l=(0|e.words[i])*t;o-=67108863&l,a=(o>>26)-(l/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,i=this.clone(),s=e,a=0|s.words[s.length-1];0!=(n=26-this._countBits(a))&&(s=s.ushln(n),i.iushln(n),a=0|s.words[s.length-1]);var l=i.length-s.length;if("mod"!==t){(r=new o(null)).length=l+1,r.words=Array(r.length);for(var u=0;u<r.length;u++)r.words[u]=0}var c=i.clone()._ishlnsubmul(s,1,l);0===c.negative&&(i=c,r&&(r.words[l]=1));for(var h=l-1;h>=0;h--){var f=(0|i.words[s.length+h])*67108864+(0|i.words[s.length+h-1]);for(f=Math.min(f/a|0,67108863),i._ishlnsubmul(s,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(s,1,h),i.isZero()||(i.negative^=1);r&&(r.words[h]=f)}return r&&r._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},o.prototype.divmod=function(e,t,r){var i,s,a;return(n(!e.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||0>this.cmp(e)?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=67108864%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),l=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;(t.words[0]&d)==0&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;(r.words[0]&g)==0&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(h)),a.iushrn(1),l.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(l)):(r.isub(t),a.isub(i),l.isub(s))}return{a:a,b:l,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,i=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var s=new o(1),a=new o(0),l=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,c=1;(r.words[0]&c)==0&&u<26;++u,c<<=1);if(u>0)for(r.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var h=0,f=1;(i.words[0]&f)==0&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(a)):(i.isub(r),a.isub(s))}return 0>(t=0===r.cmpn(1)?s:a).cmpn(0)&&t.iadd(e),t},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return -1===this.cmpn(e)},o.prototype.lt=function(e){return -1===this.cmp(e)},o.prototype.lten=function(e){return 0>=this.cmpn(e)},o.prototype.lte=function(e){return 0>=this.cmp(e)},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new C(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function k(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function T(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function N(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function R(e){C.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var e=new o(null);return e.words=Array(Math.ceil(this.n/13)),e},k.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},k.prototype.split=function(e,t){e.iushrn(this.n,0,t)},k.prototype.imulK=function(e){return e.imul(this.k)},i(T,k),T.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9){e.words[0]=0,e.length=1;return}var o=e.words[9];for(i=10,t.words[t.length++]=o&r;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},T.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(N,k),i(x,k),i(P,k),P.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){var t;if(_[e])return _[e];if("k256"===e)t=new T;else if("p224"===e)t=new N;else if("p192"===e)t=new x;else if("p25519"===e)t=new P;else throw Error("Unknown prime "+e);return _[e]=t,t},C.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},C.prototype._verify2=function(e,t){n((e.negative|t.negative)==0,"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},C.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},C.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},C.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},C.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},C.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},C.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},C.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},C.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},C.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},C.prototype.isqr=function(e){return this.imul(e,e.clone())},C.prototype.sqr=function(e){return this.mul(e,e)},C.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),l=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(h,new o(1).iushln(p-m-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=m}return f},C.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=4,n=Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var s=n[0],a=0,l=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],h=u-1;h>=0;h--){var f=c>>h&1;if(s!==n[0]&&(s=this.sqr(s)),0===f&&0===a){l=0;continue}a<<=1,a|=f,(++l===r||0===i&&0===h)&&(s=this.mul(s,n[a]),l=0,a=0)}u=26}return s},C.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},C.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new R(e)},i(R,C),R.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},R.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},R.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},R.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},R.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},7555:function(e,t,r){"use strict";r.r(t),r.d(t,{BaseContract:function(){return s.VZ},BigNumber:function(){return a.O$},Contract:function(){return s.CH},ContractFactory:function(){return s.lV},FixedNumber:function(){return l.xs},Signer:function(){return u.E},VoidSigner:function(){return u.b},Wallet:function(){return c.Wallet},Wordlist:function(){return eL.D},constants:function(){return n},errors:function(){return E.ErrorCode},getDefaultProvider:function(){return eM},logger:function(){return e7},providers:function(){return i},utils:function(){return o},version:function(){return e8},wordlists:function(){return eD.E}});var n={};r.r(n),r.d(n,{AddressZero:function(){return h.d},EtherSymbol:function(){return p},HashZero:function(){return d.R},MaxInt256:function(){return f.PS},MaxUint256:function(){return f.Bz},MinInt256:function(){return f.$B},NegativeOne:function(){return f.tL},One:function(){return f.fh},Two:function(){return f.Py},WeiPerEther:function(){return f.Ce},Zero:function(){return f._Y}});var i={};r.r(i),r.d(i,{AlchemyProvider:function(){return F},AlchemyWebSocketProvider:function(){return L},AnkrProvider:function(){return V},BaseProvider:function(){return y.Zk},CloudflareProvider:function(){return q},EtherscanProvider:function(){return er},FallbackProvider:function(){return eb},Formatter:function(){return b.Mb},InfuraProvider:function(){return e_},InfuraWebSocketProvider:function(){return eS},IpcProvider:function(){return ew},JsonRpcBatchProvider:function(){return ek},JsonRpcProvider:function(){return w.r},JsonRpcSigner:function(){return w.C},NodesmithProvider:function(){return ex},PocketProvider:function(){return eR},Provider:function(){return g.zt},Resolver:function(){return y.H2},StaticJsonRpcProvider:function(){return I},UrlJsonRpcProvider:function(){return O},Web3Provider:function(){return eI.Q},WebSocketProvider:function(){return P},getDefaultProvider:function(){return eM},getNetwork:function(){return m.H},isCommunityResourcable:function(){return b.Ed},isCommunityResource:function(){return b.Gp},showThrottleMessage:function(){return b.vh}});var o={};r.r(o),r.d(o,{AbiCoder:function(){return eF.R},ConstructorFragment:function(){return eB.Xg},ErrorFragment:function(){return eB.IC},EventFragment:function(){return eB.QV},FormatTypes:function(){return eB.pc},Fragment:function(){return eB.HY},FunctionFragment:function(){return eB.YW},HDNode:function(){return e$.HDNode},Indexed:function(){return ej.Hk},Interface:function(){return ej.vU},LogDescription:function(){return ej.CC},Logger:function(){return E.Logger},ParamType:function(){return eB._R},RLP:function(){return e0},SigningKey:function(){return e1.SigningKey},SupportedAlgorithm:function(){return e5.p},TransactionDescription:function(){return ej.vk},TransactionTypes:function(){return K.TransactionTypes},UnicodeNormalizationForm:function(){return e3.Uj},Utf8ErrorFuncs:function(){return e3.te},Utf8ErrorReason:function(){return e3.Uw},_TypedDataEncoder:function(){return eW.E},_fetchData:function(){return W._fetchData},_toEscapedUtf8String:function(){return e3.U$},accessListify:function(){return K.accessListify},arrayify:function(){return H.arrayify},base58:function(){return ez.Base58},base64:function(){return eG},checkProperties:function(){return v.checkProperties},checkResultErrors:function(){return eU.BR},commify:function(){return e4.commify},computeAddress:function(){return K.computeAddress},computeHmac:function(){return eQ.Gy},computePublicKey:function(){return e1.computePublicKey},concat:function(){return H.concat},deepCopy:function(){return v.deepCopy},defaultAbiCoder:function(){return eF.$},defaultPath:function(){return e$.defaultPath},defineReadOnly:function(){return v.defineReadOnly},dnsEncode:function(){return eq.Kn},entropyToMnemonic:function(){return e$.entropyToMnemonic},fetchJson:function(){return W.fetchJson},formatBytes32String:function(){return e6.s},formatEther:function(){return e4.formatEther},formatUnits:function(){return e4.formatUnits},getAccountPath:function(){return e$.getAccountPath},getAddress:function(){return eV.getAddress},getContractAddress:function(){return eV.getContractAddress},getCreate2Address:function(){return eV.getCreate2Address},getIcapAddress:function(){return eV.getIcapAddress},getJsonWalletAddress:function(){return eY.Rb},getStatic:function(){return v.getStatic},hashMessage:function(){return eH.r},hexConcat:function(){return H.hexConcat},hexDataLength:function(){return H.hexDataLength},hexDataSlice:function(){return H.hexDataSlice},hexStripZeros:function(){return H.hexStripZeros},hexValue:function(){return H.hexValue},hexZeroPad:function(){return H.hexZeroPad},hexlify:function(){return H.hexlify},id:function(){return eK.id},isAddress:function(){return eV.isAddress},isBytes:function(){return H.isBytes},isBytesLike:function(){return H.isBytesLike},isHexString:function(){return H.isHexString},isValidMnemonic:function(){return e$.isValidMnemonic},isValidName:function(){return eq.r1},joinSignature:function(){return H.joinSignature},keccak256:function(){return eJ.keccak256},mnemonicToEntropy:function(){return e$.mnemonicToEntropy},mnemonicToSeed:function(){return e$.mnemonicToSeed},namehash:function(){return eq.VM},nameprep:function(){return e2.Ll},parseBytes32String:function(){return e6.F},parseEther:function(){return e4.parseEther},parseTransaction:function(){return K.parse},parseUnits:function(){return e4.parseUnits},poll:function(){return W.poll},randomBytes:function(){return eZ.O},recoverAddress:function(){return K.recoverAddress},recoverPublicKey:function(){return e1.recoverPublicKey},resolveProperties:function(){return v.resolveProperties},ripemd160:function(){return eQ.bP},serializeTransaction:function(){return K.serialize},sha256:function(){return eQ.JQ},sha512:function(){return eQ.o},shallowCopy:function(){return v.shallowCopy},shuffled:function(){return en.y},solidityKeccak256:function(){return eX.keccak256},solidityPack:function(){return eX.pack},soliditySha256:function(){return eX.sha256},splitSignature:function(){return H.splitSignature},stripZeros:function(){return H.stripZeros},toUtf8Bytes:function(){return e3.Y0},toUtf8CodePoints:function(){return e3.XL},toUtf8String:function(){return e3.ZN},verifyMessage:function(){return c.verifyMessage},verifyTypedData:function(){return c.verifyTypedData},zeroPad:function(){return H.zeroPad}});var s=r(4146),a=r(2593),l=r(335),u=r(8088),c=r(9911),h=r(9279),f=r(1046),d=r(7218);let p="Ξ";var g=r(1556),m=r(5710),y=r(6419),v=r(6881),b=r(32),w=r(2169),E=r(1581),A=r(4216);let S=null;try{if(S=WebSocket,null==S)throw Error("inject please")}catch(k){let _=new E.Logger(A.i);S=function(){_.throwError("WebSockets not supported in this environment",E.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var T=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let N=new E.Logger(A.i),x=1;class P extends w.r{constructor(e,t){"any"===t&&N.throwError("WebSocketProvider does not support 'any' network yet",E.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),"string"==typeof e?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,v.defineReadOnly)(this,"_websocket",new S(this.connection.url)):(0,v.defineReadOnly)(this,"_websocket",e),(0,v.defineReadOnly)(this,"_requests",{}),(0,v.defineReadOnly)(this,"_subs",{}),(0,v.defineReadOnly)(this,"_subIds",{}),(0,v.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(e=>{this.websocket.send(this._requests[e].payload)})},this.websocket.onmessage=e=>{let t=e.data,r=JSON.parse(t);if(null!=r.id){let n=String(r.id),i=this._requests[n];if(delete this._requests[n],void 0!==r.result)i.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(i.payload),response:r.result,provider:this});else{let o=null;r.error?(o=Error(r.error.message||"unknown error"),(0,v.defineReadOnly)(o,"code",r.error.code||null),(0,v.defineReadOnly)(o,"response",t)):o=Error("unknown error"),i.callback(o,void 0),this.emit("debug",{action:"response",error:o,request:JSON.parse(i.payload),provider:this})}}else if("eth_subscription"===r.method){let s=this._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};let r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){N.throwError("cannot reset events block on WebSocketProvider",E.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){N.throwError("cannot set polling interval on WebSocketProvider",E.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return T(this,void 0,void 0,function*(){return null})}set polling(e){e&&N.throwError("cannot set polling on WebSocketProvider",E.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){let r=x++;return new Promise((n,i)=>{function o(e,t){return e?i(e):n(t)}let s=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(s),provider:this}),this._requests[String(r)]={callback:o,payload:s},this._wsReady&&this.websocket.send(s)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return T(this,void 0,void 0,function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then(e=>this.send("eth_subscribe",e)),this._subIds[e]=n);let i=yield n;this._subs[i]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],e=>{let t=a.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{let t=e=>{let t=e.hash;this.getTransactionReceipt(t).then(e=>{e&&this.emit(t,e)})};t(e),this._subscribe("tx",["newHeads"],e=>{this._events.filter(e=>"tx"===e.type).forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter(e=>"tx"===e.type).length)return;t="tx"}else if(this.listenerCount(e.event))return;let r=this._subIds[t];r&&(delete this._subIds[t],r.then(e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))}))}destroy(){return T(this,void 0,void 0,function*(){this.websocket.readyState===S.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var C=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let R=new E.Logger(A.i);class I extends w.r{detectNetwork(){let e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return C(this,void 0,void 0,function*(){let t=this.network;return null==t&&((t=yield e.detectNetwork.call(this))||R.throwError("no network detected",E.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,v.defineReadOnly)(this,"_network",t),this.emit("network",t,null))),t})}}class O extends I{constructor(e,t){R.checkAbstract(new.target,O),e=(0,v.getStatic)(new.target,"getNetwork")(e),t=(0,v.getStatic)(new.target,"getApiKey")(t);let r=(0,v.getStatic)(new.target,"getUrl")(e,t);super(r,e),"string"==typeof t?(0,v.defineReadOnly)(this,"apiKey",t):null!=t&&Object.keys(t).forEach(e=>{(0,v.defineReadOnly)(this,e,t[e])})}_startPending(){R.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return R.throwError("API provider does not support signing",E.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return R.throwError("not implemented; sub-classes must override getUrl",E.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}let M=new E.Logger(A.i),D="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class L extends P{constructor(e,t){let r=new F(e,t),n=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(n,r.network),(0,v.defineReadOnly)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===D}}class F extends O{static getWebSocketProvider(e,t){return new L(e,t)}static getApiKey(e){return null==e?D:(e&&"string"!=typeof e&&M.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:M.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===D&&(0,b.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===D}}let B=new E.Logger(A.i),U="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function j(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return B.throwArgumentError("unsupported network","name",e)}class V extends O{isCommunityResource(){return this.apiKey===U}static getApiKey(e){return null==e?U:e}static getUrl(e,t){null==t&&(t=U);let r={allowGzip:!0,url:"https://"+j(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===U&&(0,b.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}var G=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let z=new E.Logger(A.i);class q extends O{static getApiKey(e){return null!=e&&z.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;return"homestead"===e.name?r="https://cloudflare-eth.com/":z.throwArgumentError("unsupported network","network",arguments[0]),r}perform(e,t){let r=Object.create(null,{perform:{get:()=>super.perform}});return G(this,void 0,void 0,function*(){if("getBlockNumber"===e){let n=yield r.perform.call(this,"getBlock",{blockTag:"latest"});return n.number}return r.perform.call(this,e,t)})}}var H=r(6441),K=r(3875),W=r(9685),$=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let Y=new E.Logger(A.i);function J(e){let t={};for(let r in e){if(null==e[r])continue;let n=e[r];("type"!==r||0!==n)&&(n=({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r]?(0,H.hexValue)((0,H.hexlify)(n)):"accessList"===r?"["+(0,K.accessListify)(n).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]":(0,H.hexlify)(n),t[r]=n)}return t}function Q(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){let t=Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function X(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){let t=Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){let r=Error("invalid response");throw r.result=JSON.stringify(e),r}if(e.error){let n=Error(e.error.message||"unknown error");throw e.error.code&&(n.code=e.error.code),e.error.data&&(n.data=e.error.data),n}return e.result}function Z(e){if("pending"===e)throw Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}let ee="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function et(e,t,r){if("call"===e&&t.code===E.Logger.errors.SERVER_ERROR){let n=t.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){let i=n.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),(0,H.isHexString)(i))return i;Y.throwError("missing revert data in call exception",E.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let o=t.message;throw t.code===E.Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?o=t.error.message:"string"==typeof t.body?o=t.body:"string"==typeof t.responseText&&(o=t.responseText)),(o=(o||"").toLowerCase()).match(/insufficient funds/)&&Y.throwError("insufficient funds for intrinsic transaction cost",E.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),o.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Y.throwError("nonce has already been used",E.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),o.match(/another transaction with same nonce/)&&Y.throwError("replacement fee too low",E.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),o.match(/execution failed due to an exception|execution reverted/)&&Y.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",E.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class er extends y.Zk{constructor(e,t){super(e),(0,v.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,v.defineReadOnly)(this,"apiKey",t||ee)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io"}return Y.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let n=t[r];return null!=n&&(e+=`&${r}=${n}`),e},""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return $(this,void 0,void 0,function*(){let n=r?this.getPostUrl():this.getUrl(e,t),i=r?this.getPostData(e,t):null,o="proxy"===e?X:Q;this.emit("debug",{action:"request",request:n,provider:this});let s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&(0,b.vh)(),Promise.resolve(!0))},a=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(i).map(e=>`${e}=${i[e]}`).join("&"));let l=yield(0,W.fetchJson)(s,a,o||X);return this.emit("debug",{action:"response",request:n,response:(0,v.deepCopy)(l),provider:this}),l})}detectNetwork(){return $(this,void 0,void 0,function*(){return this.network})}perform(e,t){let r=Object.create(null,{perform:{get:()=>super.perform}});return $(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(e=>et("sendTransaction",e,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let n=J(t.transaction);n.module="proxy",n.action="eth_call";try{return yield this.fetch("proxy",n,!0)}catch(i){return et("call",i,t.transaction)}}case"estimateGas":{let o=J(t.transaction);o.module="proxy",o.action="eth_estimateGas";try{return yield this.fetch("proxy",o,!0)}catch(s){return et("estimateGas",s,t.transaction)}}case"getLogs":{let a={action:"getLogs"};if(t.filter.fromBlock&&(a.fromBlock=Z(t.filter.fromBlock)),t.filter.toBlock&&(a.toBlock=Z(t.filter.toBlock)),t.filter.address&&(a.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Y.throwError("unsupported topic count",E.Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){let l=t.filter.topics[0];("string"!=typeof l||66!==l.length)&&Y.throwError("unsupported topic format",E.Logger.errors.UNSUPPORTED_OPERATION,{topic0:l}),a.topic0=l}let u=yield this.fetch("logs",a),c={};for(let h=0;h<u.length;h++){let f=u[h];if(null==f.blockHash){if(null==c[f.blockNumber]){let d=yield this.getBlock(f.blockNumber);d&&(c[f.blockNumber]=d.hash)}f.blockHash=c[f.blockNumber]}}return u}case"getEtherPrice":if("homestead"!==this.network.name)return 0;return parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)})}getHistory(e,t,r){return $(this,void 0,void 0,function*(){let n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"},i=yield this.fetch("account",n);return i.map(e=>{["contractAddress","to"].forEach(function(t){""==e[t]&&delete e[t]}),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);let t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})})}isCommunityResource(){return this.apiKey===ee}}var en=r(2472),ei=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})};let eo=new E.Logger(A.i);function es(){return new Date().getTime()}function ea(e){let t=null;for(let r=0;r<e.length;r++){let n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||eo.throwArgumentError("provider mismatch","networks",e):t=n}return t}function el(e,t){e=e.slice().sort();let r=Math.floor(e.length/2);if(e.length%2)return e[r];let n=e[r-1],i=e[r];return null!=t&&Math.abs(n-i)>t?null:(n+i)/2}function eu(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(a.O$.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map(e=>eu(e)));if("object"==typeof e){let t=Object.keys(e);return t.sort(),"{"+t.map(t=>{let r=e[t];return r="function"==typeof r?"[function]":eu(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw Error("unknown value type: "+typeof e)}let ec=1;function eh(e){let t=null,r=null,n=new Promise(n=>{r=setTimeout(t=function(){r&&(clearTimeout(r),r=null),n()},e)}),i=e=>n=n.then(e);function o(){return n}return{cancel:t,getPromise:o,wait:i}}let ef=[E.Logger.errors.CALL_EXCEPTION,E.Logger.errors.INSUFFICIENT_FUNDS,E.Logger.errors.NONCE_EXPIRED,E.Logger.errors.REPLACEMENT_UNDERPRICED,E.Logger.errors.UNPREDICTABLE_GAS_LIMIT],ed=["address","args","errorArgs","errorSignature","method","transaction"];function ep(e,t){let r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function eg(e,t){return function(r){let n={};r.forEach(t=>{let r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++});let i=Object.keys(n);for(let o=0;o<i.length;o++){let s=n[i[o]];if(s.count>=t)return s.result}}}function em(e,t,r){let n=eu;switch(t){case"getBlockNumber":return function(t){let r=t.map(e=>e.result),n=el(t.map(e=>e.result),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){let t=e.map(e=>e.result);return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return el(e.map(e=>e.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,v.shallowCopy)(e)).confirmations=-1,eu(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=(0,v.shallowCopy)(e)).transactions=e.transactions.map(e=>((e=(0,v.shallowCopy)(e)).confirmations=-1,e)),eu(e))}:function(e){return null==e?null:eu(e)};break;default:throw Error("unknown method: "+t)}return eg(n,e.quorum)}function ey(e,t){return ei(this,void 0,void 0,function*(){let r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,W.poll)(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function ev(e,t,r,n){return ei(this,void 0,void 0,function*(){let i=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&(0,H.isHexString)(n.blockTag)&&(i=yield ey(e,t)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&(0,H.isHexString)(n.blockTag)&&(i=yield ey(e,t)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&(0,H.isHexString)(n.blockTag)&&(i=yield ey(e,t)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&(0,H.isHexString)(n.blockTag)&&(i=yield ey(e,t)),i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let o=n.filter;return(o.fromBlock&&(0,H.isHexString)(o.fromBlock)||o.toBlock&&(0,H.isHexString)(o.toBlock))&&(i=yield ey(e,t)),i.getLogs(o)}}return eo.throwError("unknown method error",E.Logger.errors.UNKNOWN_ERROR,{method:r,params:n})})}class eb extends y.Zk{constructor(e,t){0===e.length&&eo.throwArgumentError("missing providers","providers",e);let r=e.map((e,t)=>{if(g.zt.isProvider(e)){let r=(0,b.Gp)(e)?2e3:750,n=1;return Object.freeze({provider:e,weight:1,stallTimeout:r,priority:n})}let i=(0,v.shallowCopy)(e);null==i.priority&&(i.priority=1),null==i.stallTimeout&&(i.stallTimeout=(0,b.Gp)(e)?2e3:750),null==i.weight&&(i.weight=1);let o=i.weight;return(o%1||o>512||o<1)&&eo.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,o),Object.freeze(i)}),n=r.reduce((e,t)=>e+t.weight,0);null==t?t=n/2:t>n&&eo.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=ea(r.map(e=>e.provider.network));null==i&&(i=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(e,t)},0)})),super(i),(0,v.defineReadOnly)(this,"providerConfigs",Object.freeze(r)),(0,v.defineReadOnly)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return ei(this,void 0,void 0,function*(){let e=yield Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork()));return ea(e)})}perform(e,t){return ei(this,void 0,void 0,function*(){if("sendTransaction"===e){let r=yield Promise.all(this.providerConfigs.map(e=>e.provider.sendTransaction(t.signedTransaction).then(e=>e.hash,e=>e)));for(let n=0;n<r.length;n++){let i=r[n];if("string"==typeof i)return i}throw r[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());let o=em(this,e,t),s=(0,en.y)(this.providerConfigs.map(v.shallowCopy));s.sort((e,t)=>e.priority-t.priority);let a=this._highestBlockNumber,l=0,u=!0;for(;;){let c=es(),h=s.filter(e=>e.runner&&c-e.start<e.stallTimeout).reduce((e,t)=>e+t.weight,0);for(;h<this.quorum&&l<s.length;){let f=s[l++],d=ec++;f.start=es(),f.staller=eh(f.stallTimeout),f.staller.wait(()=>{f.staller=null}),f.runner=ev(f,a,e,t).then(r=>{f.done=!0,f.result=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:d,backend:ep(f,es()),request:{method:e,params:(0,v.deepCopy)(t)},provider:this})},r=>{f.done=!0,f.error=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:d,backend:ep(f,es()),request:{method:e,params:(0,v.deepCopy)(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:d,backend:ep(f,null),request:{method:e,params:(0,v.deepCopy)(t)},provider:this}),h+=f.weight}let p=[];s.forEach(e=>{!e.done&&e.runner&&(p.push(e.runner),e.staller&&p.push(e.staller.getPromise()))}),p.length&&(yield Promise.race(p));let g=s.filter(e=>e.done&&null==e.error);if(g.length>=this.quorum){let m=o(g);if(void 0!==m)return s.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),m;u||(yield eh(100).getPromise()),u=!1}let y=s.reduce((e,t)=>{if(!t.done||null==t.error)return e;let r=t.error.code;return ef.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e},{});if(Object.keys(y).forEach(e=>{let t=y[e];if(t.weight<this.quorum)return;s.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0});let r=t.error,n={};ed.forEach(e=>{null!=r[e]&&(n[e]=r[e])}),eo.throwError(r.reason||r.message,e,n)}),0===s.filter(e=>!e.done).length)break}return s.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),eo.throwError("failed to meet quorum",E.Logger.errors.SERVER_ERROR,{method:e,params:t,results:s.map(e=>ep(e)),provider:this})})}}let ew=null,eE=new E.Logger(A.i),eA="84842078b09946638c03157f83405213";class eS extends P{constructor(e,t){let r=new e_(e,t),n=r.connection;n.password&&eE.throwError("INFURA WebSocket project secrets unsupported",E.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});let i=n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,e),(0,v.defineReadOnly)(this,"apiKey",r.projectId),(0,v.defineReadOnly)(this,"projectId",r.projectId),(0,v.defineReadOnly)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===eA}}class e_ extends O{static getWebSocketProvider(e,t){return new eS(e,t)}static getApiKey(e){let t={apiKey:eA,projectId:eA,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(eE.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),eE.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:eE.throwError("unsupported network",E.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===eA&&(0,b.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===eA}}class ek extends w.r{send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);let n={request:r,resolve:null,reject:null},i=new Promise((e,t)=>{n.resolve=e,n.reject=t});return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{let e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;let t=e.map(e=>e.request);return this.emit("debug",{action:"requestBatch",request:(0,v.deepCopy)(t),provider:this}),(0,W.fetchJson)(this.connection,JSON.stringify(t)).then(r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach((e,t)=>{let n=r[t];if(n.error){let i=Error(n.error.message);i.code=n.error.code,i.data=n.error.data,e.reject(i)}else e.resolve(n.result)})},r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach(e=>{e.reject(r)})})},10)),i}}let eT=new E.Logger(A.i),eN="ETHERS_JS_SHARED";class ex extends O{static getApiKey(e){return e&&"string"!=typeof e&&eT.throwArgumentError("invalid apiKey","apiKey",e),e||eN}static getUrl(e,t){eT.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:eT.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}let eP=new E.Logger(A.i),eC={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class eR extends O{constructor(e,t){if(null==t){let r=(0,v.getStatic)(new.target,"getNetwork")(e);if(r){let n=eC[r.name];n&&(t={applicationId:n,loadBalancer:!0})}null==t&&eP.throwError("unsupported network",E.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){null==e&&eP.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);let t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(eP.assertArgument("string"==typeof e.applicationId,"applicationSecretKey requires an applicationId","applicationId",e.applicationId),eP.assertArgument("string"==typeof e.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(eP.assertArgument("string"==typeof e.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):eP.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:eP.throwError("unsupported network",E.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n=null;n=t.loadBalancer?`https://${r}/v1/lb/${t.applicationId}`:`https://${r}/v1/${t.applicationId}`;let i={url:n};return i.headers={},null!=t.applicationSecretKey&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===eC[this.network.name]}}var eI=r(241);let eO=new E.Logger(A.i);function eM(e,t){if(null==e&&(e="homestead"),"string"==typeof e){let r=e.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new w.r(e);case"ws":case"wss":return new P(e);default:eO.throwArgumentError("unsupported URL scheme","network",e)}}let n=(0,m.H)(e);return n&&n._defaultProvider||eO.throwError("unsupported getDefaultProvider network",E.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:eb,AlchemyProvider:F,AnkrProvider:V,CloudflareProvider:q,EtherscanProvider:er,InfuraProvider:e_,JsonRpcProvider:w.r,NodesmithProvider:ex,PocketProvider:eR,Web3Provider:eI.Q,IpcProvider:ew},t)}var eD=r(234),eL=r(8812),eF=r(4243),eB=r(1388),eU=r(1184),ej=r(8198),eV=r(9485),eG=r(8037),ez=r(7727),eq=r(4706),eH=r(3684),eK=r(2046),eW=r(7827),e$=r(4178),eY=r(7949),eJ=r(8197),eQ=r(2006),eX=r(1886),eZ=r(5634),e0=r(9052),e1=r(7669),e2=r(5637),e3=r(9251),e6=r(6237),e4=r(1744),e5=r(1261);let e8="ethers/5.6.9",e7=new E.Logger(e8)},6371:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var s=r(3893);Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return s.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return s.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return s.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return s.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return s.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return s.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return s.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return s.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return s.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}});var a=r(9485);Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return a.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return a.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return a.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return a.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return a.isAddress}});var l=o(r(8037));t.base64=l;var u=r(7727);Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return u.Base58}});var c=r(6441);Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var h=r(5931);Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return h._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return h.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return h.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return h.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return h.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return h.namehash}});var f=r(4178);Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return f.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return f.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return f.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return f.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return f.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return f.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return f.mnemonicToSeed}});var d=r(4341);Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return d.getJsonWalletAddress}});var p=r(8197);Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return p.keccak256}});var g=r(1581);Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return g.Logger}});var m=r(1278);Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return m.sha512}});var y=r(1886);Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return y.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return y.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return y.sha256}});var v=r(2118);Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return v.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return v.shuffled}});var b=r(6881);Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return b.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return b.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return b.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return b.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return b.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return b.shallowCopy}});var w=o(r(9052));t.RLP=w;var E=r(7669);Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return E.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return E.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return E.SigningKey}});var A=r(2741);Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return A.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return A.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return A.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return A._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return A.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return A.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return A.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return A.Utf8ErrorFuncs}});var S=r(3875);Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return S.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return S.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return S.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return S.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return S.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return S.TransactionTypes}});var _=r(1744);Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return _.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return _.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return _.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return _.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return _.parseUnits}});var k=r(9911);Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return k.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return k.verifyTypedData}});var T=r(9685);Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return T._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return T.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return T.poll}});var N=r(1278);Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return N.SupportedAlgorithm}});var x=r(2741);Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return x.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return x.Utf8ErrorReason}})},8037:function(e,t,r){"use strict";r.r(t),r.d(t,{decode:function(){return i},encode:function(){return o}});var n=r(6441);function i(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return(0,n.arrayify)(t)}function o(e){e=(0,n.arrayify)(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}},3715:function(e,t,r){var n=t;n.utils=r(6436),n.common=r(5772),n.sha=r(9041),n.ripemd=r(2949),n.hmac=r(2344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5772:function(e,t,r){"use strict";var n=r(6436),i=r(9746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(o=8,n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;o<this.padLength;o++)n[i++]=0;return n}},2344:function(e,t,r){"use strict";var n=r(6436),i=r(9746);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2949:function(e,t,r){"use strict";var n=r(6436),i=r(5772),o=n.rotl32,s=n.sum32,a=n.sum32_3,l=n.sum32_4,u=i.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(c,u),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],c=this.h[4],v=r,b=n,w=i,E=u,A=c,S=0;S<80;S++){var _=s(o(l(r,h(S,n,i,u),e[p[S]+t],f(S)),m[S]),c);r=c,c=u,u=o(i,10),i=n,n=_,_=s(o(l(v,h(79-S,b,w,E),e[g[S]+t],d(S)),y[S]),A),v=A,A=E,E=o(w,10),w=b,b=_}_=a(this.h[1],i,E),this.h[1]=a(this.h[2],u,A),this.h[2]=a(this.h[3],c,v),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,w),this.h[0]=_},c.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:function(e,t,r){"use strict";t.sha1=r(4761),t.sha224=r(799),t.sha256=r(9344),t.sha384=r(772),t.sha512=r(5900)},4761:function(e,t,r){"use strict";var n=r(6436),i=r(5772),o=r(7038),s=n.rotl32,a=n.sum32,l=n.sum32_5,u=o.ft_1,c=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}n.inherits(f,c),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=l(s(i,5),u(p,o,c,f),d,r[n],h[p]);d=f,f=c,c=s(o,30),o=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:function(e,t,r){"use strict";var n=r(6436),i=r(9344);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9344:function(e,t,r){"use strict";var n=r(6436),i=r(5772),o=r(7038),s=r(9746),a=n.sum32,l=n.sum32_4,u=n.sum32_5,c=o.ch32,h=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,g=o.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=Array(64)}n.inherits(v,m),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=l(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],y=this.h[3],v=this.h[4],b=this.h[5],w=this.h[6],E=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var A=u(E,d(v),c(v,b,w),this.k[n],r[n]),S=a(f(i),h(i,o,m));E=w,w=b,b=v,v=a(y,A),y=m,m=o,o=i,i=a(A,S)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],E)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},772:function(e,t,r){"use strict";var n=r(6436),i=r(5900);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},5900:function(e,t,r){"use strict";var n=r(6436),i=r(5772),o=r(9746),s=n.rotr64_hi,a=n.rotr64_lo,l=n.shr64_hi,u=n.shr64_lo,c=n.sum64,h=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function A(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function S(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function _(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function N(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function x(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(b,y),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=C(r[n-4],r[n-3]),o=R(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],l=x(r[n-30],r[n-29]),u=P(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=d(i,o,s,a,l,u,c,h),r[n+1]=p(i,o,s,a,l,u,c,h)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],p=this.h[7],y=this.h[8],v=this.h[9],b=this.h[10],x=this.h[11],P=this.h[12],C=this.h[13],R=this.h[14],I=this.h[15];o(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var M=R,D=I,L=T(y,v),F=N(y,v),B=w(y,v,b,x,P,C),U=E(y,v,b,x,P,C),j=this.k[O],V=this.k[O+1],G=r[O],z=r[O+1],q=g(M,D,L,F,B,U,j,V,G,z),H=m(M,D,L,F,B,U,j,V,G,z);M=_(n,i),D=k(n,i),L=A(n,i,s,a,l,u),F=S(n,i,s,a,l,u);var K=h(M,D,L,F),W=f(M,D,L,F);R=P,I=C,P=b,C=x,b=y,x=v,y=h(d,p,q,H),v=f(p,p,q,H),d=l,p=u,l=s,u=a,s=n,a=i,n=h(q,H,K,W),i=f(q,H,K,W)}c(this.h,0,n,i),c(this.h,2,s,a),c(this.h,4,l,u),c(this.h,6,d,p),c(this.h,8,y,v),c(this.h,10,b,x),c(this.h,12,P,C),c(this.h,14,R,I)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7038:function(e,t,r){"use strict";var n=r(6436).rotr32;function i(e,t,r,n){return 0===e?o(t,r,n):1===e||3===e?a(t,r,n):2===e?s(t,r,n):void 0}function o(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function a(e,t,r){return e^t^r}function l(e){return n(e,2)^n(e,13)^n(e,22)}function u(e){return n(e,6)^n(e,11)^n(e,25)}function c(e){return n(e,7)^n(e,18)^e>>>3}function h(e){return n(e,17)^n(e,19)^e>>>10}t.ft_1=i,t.ch32=o,t.maj32=s,t.p32=a,t.s0_256=l,t.s1_256=u,t.g0_256=c,t.g1_256=h},6436:function(e,t,r){"use strict";var n=r(9746),i=r(5717);function o(e,t){return(64512&e.charCodeAt(t))==55296&&!(t<0)&&!(t+1>=e.length)&&(64512&e.charCodeAt(t+1))==56320}function s(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e){if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r}function a(e){for(var t="",r=0;r<e.length;r++)t+=c(e[r].toString(16));return t}function l(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function u(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=l(i)),r+=h(i.toString(16))}return r}function c(e){return 1===e.length?"0"+e:e}function h(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;if(2===e.length)return"000000"+e;if(1===e.length)return"0000000"+e;else return e}function f(e,t,r,i){var o,s=r-t;n(s%4==0);for(var a=Array(s/4),l=0,u=t;l<a.length;l++,u+=4)o="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[l]=o>>>0;return a}function d(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}function p(e,t){return e>>>t|e<<32-t}function g(e,t){return e<<t|e>>>32-t}function m(e,t){return e+t>>>0}function y(e,t,r){return e+t+r>>>0}function v(e,t,r,n){return e+t+r+n>>>0}function b(e,t,r,n,i){return e+t+r+n+i>>>0}function w(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o}function E(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0}function A(e,t,r,n){return t+n>>>0}function S(e,t,r,n,i,o,s,a){var l,u=t;return e+r+i+s+(l=0+((u=u+n>>>0)<t?1:0)+((u=u+o>>>0)<o?1:0)+((u=u+a>>>0)<a?1:0))>>>0}function _(e,t,r,n,i,o,s,a){return t+n+o+a>>>0}function k(e,t,r,n,i,o,s,a,l,u){var c,h=t;return e+r+i+s+l+(c=0+((h=h+n>>>0)<t?1:0)+((h=h+o>>>0)<o?1:0)+((h=h+a>>>0)<a?1:0)+((h=h+u>>>0)<u?1:0))>>>0}function T(e,t,r,n,i,o,s,a,l,u){return t+n+o+a+u>>>0}function N(e,t,r){return(t<<32-r|e>>>r)>>>0}function x(e,t,r){return(e<<32-r|t>>>r)>>>0}function P(e,t,r){return e>>>r}function C(e,t,r){return(e<<32-r|t>>>r)>>>0}t.inherits=i,t.toArray=s,t.toHex=a,t.htonl=l,t.toHex32=u,t.zero2=c,t.zero8=h,t.join32=f,t.split32=d,t.rotr32=p,t.rotl32=g,t.sum32=m,t.sum32_3=y,t.sum32_4=v,t.sum32_5=b,t.sum64=w,t.sum64_hi=E,t.sum64_lo=A,t.sum64_4_hi=S,t.sum64_4_lo=_,t.sum64_5_hi=k,t.sum64_5_lo=T,t.rotr64_hi=N,t.rotr64_lo=x,t.shr64_hi=P,t.shr64_lo=C},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},1094:function(e,t,r){var n,i=r(3454);!function(){"use strict";var o="input is invalid type",s="finalize already called",a="object"==typeof window,l=a?window:{};l.JS_SHA3_NO_WINDOW&&(a=!1);var u=!a&&"object"==typeof self;!l.JS_SHA3_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node?l=r.g:u&&(l=self);var c=!l.JS_SHA3_NO_COMMON_JS&&e.exports,h=r.amdO,f=!l.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),p=[31,7936,2031616,520093696],g=[4,1024,262144,67108864],m=[1,256,65536,16777216],y=[6,1536,393216,100663296],v=[0,8,16,24],b=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],E=[128,256],A=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(l.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),f&&(l.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var _=function(e,t,r){return function(n){return new U(e,t,e).update(n)[r]()}},k=function(e,t,r){return function(n,i){return new U(e,t,i).update(n)[r]()}},T=function(e,t,r){return function(t,n,i,o){return R["cshake"+e].update(t,n,i,o)[r]()}},N=function(e,t,r){return function(t,n,i,o){return R["kmac"+e].update(t,n,i,o)[r]()}},x=function(e,t,r,n){for(var i=0;i<A.length;++i){var o=A[i];e[o]=t(r,n,o)}return e},P=function(e,t){var r=_(e,t,"hex");return r.create=function(){return new U(e,t,e)},r.update=function(e){return r.create().update(e)},x(r,_,e,t)},C=[{name:"keccak",padding:m,bits:w,createMethod:P},{name:"sha3",padding:y,bits:w,createMethod:P},{name:"shake",padding:p,bits:E,createMethod:function(e,t){var r=k(e,t,"hex");return r.create=function(r){return new U(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},x(r,k,e,t)}},{name:"cshake",padding:g,bits:E,createMethod:function(e,t){var r=S[e],n=T(e,t,"hex");return n.create=function(n,i,o){return i||o?new U(e,t,n).bytepad([i,o],r):R["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},x(n,T,e,t)}},{name:"kmac",padding:g,bits:E,createMethod:function(e,t){var r=S[e],n=N(e,t,"hex");return n.create=function(n,i,o){return new j(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},x(n,N,e,t)}}],R={},I=[],O=0;O<C.length;++O)for(var M=C[O],D=M.bits,L=0;L<D.length;++L){var F=M.name+"_"+D[L];if(I.push(F),R[F]=M.createMethod(D[L],M.padding),"sha3"!==M.name){var B=M.name+D[L];I.push(B),R[B]=R[F]}}function U(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function j(e,t,r){U.call(this,e,t,r)}U.prototype.update=function(e){if(this.finalized)throw Error(s);var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw Error(o);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!f||!ArrayBuffer.isView(e)))throw Error(o)}else throw Error(o);t=!0}for(var n,i,a=this.blocks,l=this.byteCount,u=e.length,c=this.blockCount,h=0,d=this.s;h<u;){if(this.reset)for(n=1,this.reset=!1,a[0]=this.block;n<c+1;++n)a[n]=0;if(t)for(n=this.start;h<u&&n<l;++h)a[n>>2]|=e[h]<<v[3&n++];else for(n=this.start;h<u&&n<l;++h)(i=e.charCodeAt(h))<128?a[n>>2]|=i<<v[3&n++]:i<2048?(a[n>>2]|=(192|i>>6)<<v[3&n++],a[n>>2]|=(128|63&i)<<v[3&n++]):i<55296||i>=57344?(a[n>>2]|=(224|i>>12)<<v[3&n++],a[n>>2]|=(128|i>>6&63)<<v[3&n++],a[n>>2]|=(128|63&i)<<v[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++h)),a[n>>2]|=(240|i>>18)<<v[3&n++],a[n>>2]|=(128|i>>12&63)<<v[3&n++],a[n>>2]|=(128|i>>6&63)<<v[3&n++],a[n>>2]|=(128|63&i)<<v[3&n++]);if(this.lastByteIndex=n,n>=l){for(this.start=n-l,this.block=a[c],n=0;n<c;++n)d[n]^=a[n];V(d),this.reset=!0}else this.start=n}return this},U.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(e>>=8,r=255&e;r>0;)i.unshift(r),e>>=8,r=255&e,++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},U.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw Error(o);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!f||!ArrayBuffer.isView(e)))throw Error(o)}else throw Error(o);t=!0}var n=0,i=e.length;if(t)n=i;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},U.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},U.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];V(n)}},U.prototype.toString=U.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<t&&s<n;++o,++s)a+=d[(e=r[o])>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t==0&&(V(r),o=0)}return i&&(a+=d[(e=r[o])>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},U.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=new ArrayBuffer(i?n+1<<2:a);for(var l=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)l[s]=r[o];s%t==0&&V(r)}return i&&(l[o]=r[o],e=e.slice(0,a)),e},U.prototype.buffer=U.prototype.arrayBuffer,U.prototype.digest=U.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,l=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;a%r==0&&V(n)}return o&&(e=a<<2,t=n[s],l[e]=255&t,o>1&&(l[e+1]=t>>8&255),o>2&&(l[e+2]=t>>16&255)),l},j.prototype=new U,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),U.prototype.finalize.call(this)};var V=function(e){var t,r,n,i,o,s,a,l,u,c,h,f,d,p,g,m,y,v,w,E,A,S,_,k,T,N,x,P,C,R,I,O,M,D,L,F,B,U,j,V,G,z,q,H,K,W,$,Y,J,Q,X,Z,ee,et,er,en,ei,eo,es,ea,el,eu,ec;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],d=e[9]^e[19]^e[29]^e[39]^e[49],t=f^(s<<1|a>>>31),r=d^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(l<<1|u>>>31),r=o^(u<<1|l>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(c<<1|h>>>31),r=a^(h<<1|c>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=l^(f<<1|d>>>31),r=u^(d<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=c^(i<<1|o>>>31),r=h^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],g=e[1],W=e[11]<<4|e[10]>>>28,$=e[10]<<4|e[11]>>>28,P=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,ea=e[31]<<9|e[30]>>>23,el=e[30]<<9|e[31]>>>23,z=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,I=e[32]<<13|e[33]>>>19,eu=e[42]<<2|e[43]>>>30,ec=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,F=e[14]<<6|e[15]>>>26,B=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,O=e[45]<<29|e[44]>>>3,M=e[44]<<29|e[45]>>>3,k=e[6]<<28|e[7]>>>4,T=e[7]<<28|e[6]>>>4,en=e[17]<<23|e[16]>>>9,ei=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,E=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,N=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,eo=e[29]<<7|e[28]>>>25,es=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,_=e[49]<<14|e[48]>>>18,e[0]=p^~m&v,e[1]=g^~y&w,e[10]=k^~N&P,e[11]=T^~x&C,e[20]=D^~F&U,e[21]=L^~B&j,e[30]=H^~W&Y,e[31]=K^~$&J,e[40]=et^~en&eo,e[41]=er^~ei&es,e[2]=m^~v&E,e[3]=y^~w&A,e[12]=N^~P&R,e[13]=x^~C&I,e[22]=F^~U&V,e[23]=B^~j&G,e[32]=W^~Y&Q,e[33]=$^~J&X,e[42]=en^~eo&ea,e[43]=ei^~es&el,e[4]=v^~E&S,e[5]=w^~A&_,e[14]=P^~R&O,e[15]=C^~I&M,e[24]=U^~V&z,e[25]=j^~G&q,e[34]=Y^~Q&Z,e[35]=J^~X&ee,e[44]=eo^~ea&eu,e[45]=es^~el&ec,e[6]=E^~S&p,e[7]=A^~_&g,e[16]=R^~O&k,e[17]=I^~M&T,e[26]=V^~z&D,e[27]=G^~q&L,e[36]=Q^~Z&H,e[37]=X^~ee&K,e[46]=ea^~eu&et,e[47]=el^~ec&er,e[8]=S^~p&m,e[9]=_^~g&y,e[18]=O^~k&N,e[19]=M^~T&x,e[28]=z^~D&F,e[29]=q^~L&B,e[38]=Z^~H&W,e[39]=ee^~K&$,e[48]=eu^~et&en,e[49]=ec^~er&ei,e[0]^=b[n],e[1]^=b[n+1]};if(c)e.exports=R;else{for(O=0;O<I.length;++O)l[I[O]]=R[I[O]];h&&void 0!==(n=(function(){return R}).call(t,r,t,e))&&(e.exports=n)}}()},9746:function(e){function t(e,t){if(!e)throw Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},3454:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(7663)},6840:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(6505)}])},7645:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,t.noSSR=u;var n=r(6495).Z,i=r(2648).Z,o=i(r(7294)),s=i(r(4588));function a(e,t){let r=s.default,i=(null==t?void 0:t.suspense)?{}:{loading(e){let{error:t,isLoading:r,pastDelay:n}=e;return null}};if(e instanceof Promise?i.loader=()=>e:"function"==typeof e?i.loader=e:"object"==typeof e&&(i=n({},i,e)),(i=n({},i,t)).suspense&&(delete i.ssr,delete i.loading),i.loadableGenerated&&delete(i=n({},i,i.loadableGenerated)).loadableGenerated,"boolean"==typeof i.ssr&&!i.suspense){if(!i.ssr)return delete i.ssr,u(r,i);delete i.ssr}return r(i)}let l=!1;function u(e,t){if(delete t.webpack,delete t.modules,!l)return e(t);let r=t.loading;return()=>o.default.createElement(r,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3644:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var n=(0,r(2648).Z)(r(7294));let i=n.default.createContext(null);t.LoadableContext=i},4588:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6495).Z,i=(0,r(1598).Z)(r(7294)),o=r(3644);let s=[],a=[],l=!1;function u(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}function c(e){return e&&e.__esModule?e.default:e}function h(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);r.suspense&&(r.lazy=i.default.lazy(r.loader));let s=null;function u(){if(!s){let t=new f(e,r);s={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return s.promise()}if(!l){let h=r.webpack?r.webpack():r.modules;h&&a.push(e=>{for(let t of h)if(-1!==e.indexOf(t))return u()})}function d(){u();let e=i.default.useContext(o.LoadableContext);e&&Array.isArray(r.modules)&&r.modules.forEach(t=>{e(t)})}function p(e,t){d();let n=i.useSyncExternalStore(s.subscribe,s.getCurrentValue,s.getCurrentValue);return i.default.useImperativeHandle(t,()=>({retry:s.retry}),[]),i.default.useMemo(()=>n.loading||n.error?i.default.createElement(r.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:s.retry}):n.loaded?i.default.createElement(c(n.loaded),e):null,[e,n])}function g(e,t){return d(),i.default.createElement(r.lazy,n({},e,{ref:t}))}let m=r.suspense?g:p;return m.preload=()=>u(),m.displayName="LoadableComponent",i.default.forwardRef(m)}class f{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=n({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function d(e){return h(u,e)}function p(e,t){let r=[];for(;e.length;){let n=e.pop();r.push(n(t))}return Promise.all(r).then(()=>{if(e.length)return p(e,t)})}d.preloadAll=()=>new Promise((e,t)=>{p(s).then(e,t)}),d.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let r=()=>(l=!0,t());p(a,e).then(r,r)})},window.__NEXT_PRELOADREADY=d.preloadReady;var g=d;t.default=g},7341:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return EthersPlayground}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),_hooks_useContracts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9091),_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9614),_state_contract__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8601),_monaco_editor_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9604),ethers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7555),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7294);let EthersPlayground=()=>{let monaco=(0,_monaco_editor_react__WEBPACK_IMPORTED_MODULE_4__.Ik)(),{provider}=(0,_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__.$)(),{contract,contractTag}=(0,_hooks_useContracts__WEBPACK_IMPORTED_MODULE_1__.G)(),{toolData,setScript}=(0,_state_contract__WEBPACK_IMPORTED_MODULE_3__.cL)(),[results,setResults]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)([]),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(""),runScript=async()=>{window.ethers=ethers__WEBPACK_IMPORTED_MODULE_6__,window.provider=provider,window.contract=contract;let backup=console.log;setError("");try{let resultTmp=results;window.console.log=e=>{resultTmp=[...resultTmp,String(e)]},await eval("(async ()=>{".concat(toolData.script,"})()")),setResults(resultTmp)}catch(e){setError(String(e))}finally{window.console.log=backup}};return(0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(()=>{},[monaco]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"card bg-base-100 gap-4 py-4 shadow-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"px-4 text-2xl font-bold",children:"Ethers Playground"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_monaco_editor_react__WEBPACK_IMPORTED_MODULE_4__.ZP,{height:"32vh",defaultLanguage:"javascript",path:"files:///".concat(contractTag||"default",".js"),defaultValue:toolData.script,onChange:e=>setScript(e||"")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"btn btn-primary mx-4",onClick:runScript,children:"Run"}),results.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"mockup-code mx-4 overflow-x-auto pl-2",children:results.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{"data-prefix":"$",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:e})},"".concat(t,"/").concat(e)))}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-error text-lg font-bold",children:["Error: ",error]})]})}},4481:function(e,t,r){"use strict";r.d(t,{KI:function(){return eV},hN:function(){return eH},ER:function(){return rZ},se:function(){return r0.s},$_:function(){return r1},OF:function(){return r4},h4:function(){return nn},ri:function(){return na}});var n,i,o,s,a,l,u,c,h,f,d,p,g,m,y,v,b,w=r(5893),E=r(9091);function A(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e){if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=A(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t)}return n}var S=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=A(e))&&(n&&(n+=" "),n+=t);return n},_=r(7294),k=e=>"checkbox"===e.type,T=e=>e instanceof Date,N=e=>null==e;let x=e=>"object"==typeof e;var P=e=>!N(e)&&!Array.isArray(e)&&x(e)&&!T(e),C=e=>P(e)&&e.target?k(e.target)?e.target.checked:e.target.value:e,R=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,I=(e,t)=>e.has(R(t)),O=e=>Array.isArray(e)?e.filter(Boolean):[],M=e=>void 0===e,D=(e,t,r)=>{if(!t||!P(e))return r;let n=O(t.split(/[,[\].]+?/)).reduce((e,t)=>N(e)?e:e[t],e);return M(n)||n===e?M(e[t])?r:e[t]:n};let L={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},F={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},B={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};_.createContext(null);var U=(e,t,r,n=!0)=>{let i={};for(let o in e)Object.defineProperty(i,o,{get(){let i=o;return t[i]!==F.all&&(t[i]=!n||F.all),r&&(r[i]=!0),e[i]}});return i},j=e=>P(e)&&!Object.keys(e).length,V=(e,t,r)=>{let{name:n,...i}=e;return j(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!r||F.all))},G=e=>Array.isArray(e)?e:[e];function z(e){let t=_.useRef(e);t.current=e,_.useEffect(()=>{let r=e=>{e&&e.unsubscribe()},n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>r(n)},[e.disabled])}var q=e=>"string"==typeof e,H=(e,t,r,n)=>{let i=Array.isArray(e);return q(e)?(n&&t.watch.add(e),D(r,e)):i?e.map(e=>(n&&t.watch.add(e),D(r,e))):(n&&(t.watchAll=!0),r)},K=e=>"function"==typeof e,W=e=>{for(let t in e)if(K(e[t]))return!0;return!1},$=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Y=e=>/^\w*$/.test(e),J=e=>O(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Q(e,t,r){let n=-1,i=Y(t)?[t]:J(t),o=i.length,s=o-1;for(;++n<o;){let a=i[n],l=r;if(n!==s){let u=e[a];l=P(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}e[a]=l,e=e[a]}return e}let X=(e,t,r)=>{for(let n of r||Object.keys(e)){let i=D(e,n);if(i){let{_f:o,...s}=i;if(o&&t(o.name)){if(o.ref.focus&&M(o.ref.focus()))break;if(o.refs){o.refs[0].focus();break}}else P(s)&&X(s,t)}}};var Z=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),ee=(e,t,r)=>{let n=O(D(e,r));return Q(n,"root",t[r]),Q(e,r,n),e},et=e=>"boolean"==typeof e,er=e=>"file"===e.type,en=e=>q(e)||_.isValidElement(e),ei=e=>"radio"===e.type,eo=e=>e instanceof RegExp;let es={value:!1,isValid:!1},ea={value:!0,isValid:!0};var el=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||""===e[0].value?ea:{value:e[0].value,isValid:!0}:ea:es}return es};let eu={isValid:!1,value:null};var ec=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,eu):eu;function eh(e,t,r="validate"){if(en(e)||Array.isArray(e)&&e.every(en)||et(e)&&!e)return{type:r,message:en(e)?e:"",ref:t}}var ef=e=>P(e)&&!eo(e)?e:{value:e,message:""},ed=async(e,t,r,n,i)=>{let{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:d,name:p,valueAsNumber:g,mount:m,disabled:y}=e._f;if(!m||y)return{};let v=s?s[0]:o,b=e=>{n&&v.reportValidity&&(v.setCustomValidity(et(e)?"":e||" "),v.reportValidity())},w={},E=ei(o),A=k(o),S=E||A,_=(g||er(o))&&!o.value||""===t||Array.isArray(t)&&!t.length,T=$.bind(null,p,r,w),x=(e,t,r,n=B.maxLength,i=B.minLength)=>{let s=e?t:r;w[p]={type:e?n:i,message:s,ref:o,...T(e?n:i,s)}};if(i?!Array.isArray(t)||!t.length:a&&(!S&&(_||N(t))||et(t)&&!t||A&&!el(s).isValid||E&&!ec(s).isValid)){let{value:C,message:R}=en(a)?{value:!!a,message:a}:ef(a);if(C&&(w[p]={type:B.required,message:R,ref:v,...T(B.required,R)},!r))return b(R),w}if(!_&&(!N(c)||!N(h))){let I,O;let M=ef(h),D=ef(c);if(N(t)||isNaN(t)){let L=o.valueAsDate||new Date(t);q(M.value)&&(I=L>new Date(M.value)),q(D.value)&&(O=L<new Date(D.value))}else{let F=o.valueAsNumber||(t?+t:t);N(M.value)||(I=F>M.value),N(D.value)||(O=F<D.value)}if((I||O)&&(x(!!I,M.message,D.message,B.max,B.min),!r))return b(w[p].message),w}if((l||u)&&!_&&(q(t)||i&&Array.isArray(t))){let U=ef(l),V=ef(u),G=!N(U.value)&&t.length>U.value,z=!N(V.value)&&t.length<V.value;if((G||z)&&(x(G,U.message,V.message),!r))return b(w[p].message),w}if(f&&!_&&q(t)){let{value:H,message:W}=ef(f);if(eo(H)&&!t.match(H)&&(w[p]={type:B.pattern,message:W,ref:o,...T(B.pattern,W)},!r))return b(W),w}if(d){if(K(d)){let Y=await d(t),J=eh(Y,v);if(J&&(w[p]={...J,...T(B.validate,J.message)},!r))return b(J.message),w}else if(P(d)){let Q={};for(let X in d){if(!j(Q)&&!r)break;let Z=eh(await d[X](t),v,X);Z&&(Q={...Z,...T(X,Z.message)},b(Z.message),r&&(w[p]=Q))}if(!j(Q)&&(w[p]={ref:v,...Q},!r))return w}}return b(!0),w},ep="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function eg(e){let t;let r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(!(ep&&(e instanceof Blob||e instanceof FileList))&&(r||P(e))))return e;else for(let n in t=r?[]:{},e){if(K(e[n])){t=e;break}t[n]=eg(e[n])}return t}var em=e=>({isOnSubmit:!e||e===F.onSubmit,isOnBlur:e===F.onBlur,isOnChange:e===F.onChange,isOnAll:e===F.all,isOnTouch:e===F.onTouched});function ey(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=M(e)?n++:e[t[n++]];return e}function ev(e){for(let t in e)if(!M(e[t]))return!1;return!0}function eb(e,t){let r;let n=Y(t)?[t]:J(t),i=1==n.length?e:ey(e,n),o=n[n.length-1];i&&delete i[o];for(let s=0;s<n.slice(0,-1).length;s++){let a,l=-1,u=n.slice(0,-(s+1)),c=u.length-1;for(s>0&&(r=e);++l<u.length;){let h=u[l];a=a?a[h]:e[h],c===l&&(P(a)&&j(a)||Array.isArray(a)&&ev(a))&&(r?delete r[h]:delete e[h]),r=a}}return e}function ew(){let e=[],t=t=>{for(let r of e)r.next(t)},r=t=>(e.push(t),{unsubscribe(){e=e.filter(e=>e!==t)}}),n=()=>{e=[]};return{get observers(){return e},next:t,subscribe:r,unsubscribe:n}}var eE=e=>N(e)||!x(e);function eA(e,t){if(eE(e)||eE(t))return e===t;if(T(e)&&T(t))return e.getTime()===t.getTime();let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i of r){let o=e[i];if(!n.includes(i))return!1;if("ref"!==i){let s=t[i];if(T(o)&&T(s)||P(o)&&P(s)||Array.isArray(o)&&Array.isArray(s)?!eA(o,s):o!==s)return!1}}return!0}var eS=e=>{let t=e?e.ownerDocument:0,r=t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement;return e instanceof r},e_=e=>"select-multiple"===e.type,ek=e=>ei(e)||k(e),eT=e=>eS(e)&&e.isConnected;function eN(e,t={}){let r=Array.isArray(e);if(P(e)||r)for(let n in e)Array.isArray(e[n])||P(e[n])&&!W(e[n])?(t[n]=Array.isArray(e[n])?[]:{},eN(e[n],t[n])):N(e[n])||(t[n]=!0);return t}function ex(e,t,r){let n=Array.isArray(e);if(P(e)||n)for(let i in e)Array.isArray(e[i])||P(e[i])&&!W(e[i])?M(t)||eE(r[i])?r[i]=Array.isArray(e[i])?eN(e[i],[]):{...eN(e[i])}:ex(e[i],N(t)?{}:t[i],r[i]):r[i]=!eA(e[i],t[i]);return r}var eP=(e,t)=>ex(e,t,eN(t)),eC=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>M(e)?e:t?""===e?NaN:e?+e:e:r&&q(e)?new Date(e):n?n(e):e;function eR(e){let t=e.ref;return(e.refs?e.refs.every(e=>e.disabled):t.disabled)?void 0:er(t)?t.files:ei(t)?ec(e.refs).value:e_(t)?[...t.selectedOptions].map(({value:e})=>e):k(t)?el(e.refs).value:eC(M(t.value)?e.ref.value:t.value,e)}var eI=(e,t,r,n)=>{let i={};for(let o of e){let s=D(t,o);s&&Q(i,o,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},eO=e=>M(e)?void 0:eo(e)?e.source:P(e)?eo(e.value)?e.value.source:e.value:e,eM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function eD(e,t,r){let n=D(e,r);if(n||Y(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let o=i.join("."),s=D(t,o),a=D(e,o);if(s&&!Array.isArray(s)&&r!==o)break;if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var eL=(e,t,r,n,i)=>!i.isOnAll&&(!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?!n.isOnChange:!i.isOnChange)||e),eF=(e,t)=>!O(D(e,t)).length&&eb(e,t);let eB={mode:F.onSubmit,reValidateMode:F.onChange,shouldFocusError:!0};function eU(e={}){let t,r={...eB,...e},n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=eg(r.defaultValues)||{},s=r.shouldUnregister?{}:eg(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0,c={},h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={watch:ew(),array:ew(),state:ew()},d=em(r.mode),p=em(r.reValidateMode),g=r.criteriaMode===F.all,m=e=>t=>{clearTimeout(u),u=window.setTimeout(e,t)},y=async e=>{let t=!1;return h.isValid&&(t=r.resolver?j((await S()).errors):await x(i,!0),e||t===n.isValid||(n.isValid=t,f.state.next({isValid:t}))),t},v=(e,t=[],r,l,u=!0,c=!0)=>{if(l&&r){if(a.action=!0,c&&Array.isArray(D(i,e))){let d=r(D(i,e),l.argA,l.argB);u&&Q(i,e,d)}if(h.errors&&c&&Array.isArray(D(n.errors,e))){let p=r(D(n.errors,e),l.argA,l.argB);u&&Q(n.errors,e,p),eF(n.errors,e)}if(h.touchedFields&&c&&Array.isArray(D(n.touchedFields,e))){let g=r(D(n.touchedFields,e),l.argA,l.argB);u&&Q(n.touchedFields,e,g)}h.dirtyFields&&(n.dirtyFields=eP(o,s)),f.state.next({isDirty:R(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Q(s,e,t)},b=(e,t)=>{Q(n.errors,e,t),f.state.next({errors:n.errors})},w=(e,t,r,n)=>{let l=D(i,e);if(l){let u=D(s,e,M(r)?D(o,e):r);M(u)||n&&n.defaultChecked||t?Q(s,e,t?u:eR(l._f)):V(e,u),a.mount&&y()}},E=(e,t,r,i,s)=>{let a=!1,l={name:e},u=D(n.touchedFields,e);if(h.isDirty){let c=n.isDirty;n.isDirty=l.isDirty=R(),a=c!==l.isDirty}if(h.dirtyFields&&(!r||i)){let d=D(n.dirtyFields,e),p=eA(D(o,e),t);p?eb(n.dirtyFields,e):Q(n.dirtyFields,e,!0),l.dirtyFields=n.dirtyFields,a=a||d!==D(n.dirtyFields,e)}return r&&!u&&(Q(n.touchedFields,e,r),l.touchedFields=n.touchedFields,a=a||h.touchedFields&&u!==r),a&&s&&f.state.next(l),a?l:{}},A=async(r,i,o,s)=>{let a=D(n.errors,r),l=h.isValid&&n.isValid!==i;if(e.delayError&&o?(t=m(()=>b(r,o)))(e.delayError):(clearTimeout(u),t=null,o?Q(n.errors,r,o):eb(n.errors,r)),(o?!eA(a,o):a)||!j(s)||l){let d={...s,...l?{isValid:i}:{},errors:n.errors,name:r};n={...n,...d},f.state.next(d)}c[r]--,h.isValidating&&!Object.values(c).some(e=>e)&&(f.state.next({isValidating:!1}),c={})},S=async e=>r.resolver?await r.resolver({...s},r.context,eI(e||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation)):{},_=async e=>{let{errors:t}=await S();if(e)for(let r of e){let i=D(t,r);i?Q(n.errors,r,i):eb(n.errors,r)}else n.errors=t;return t},x=async(e,t,i={valid:!0})=>{for(let o in e){let a=e[o];if(a){let{_f:u,...c}=a;if(u){let h=l.array.has(u.name),f=await ed(a,D(s,u.name),g,r.shouldUseNativeValidation,h);if(f[u.name]&&(i.valid=!1,t))break;t||(D(f,u.name)?h?ee(n.errors,f,u.name):Q(n.errors,u.name,f[u.name]):eb(n.errors,u.name))}c&&await x(c,t,i)}}return i.valid},P=()=>{for(let e of l.unMount){let t=D(i,e);t&&(t._f.refs?t._f.refs.every(e=>!eT(e)):!eT(t._f.ref))&&ea(e)}l.unMount=new Set},R=(e,t)=>(e&&t&&Q(s,e,t),!eA(J(),o)),B=(e,t,r)=>{let n={...a.mount?s:M(t)?o:q(e)?{[e]:t}:t};return H(e,l,n,r)},U=t=>O(D(a.mount?s:o,t,e.shouldUnregister?D(o,t,[]):[])),V=(e,t,r={})=>{let n=D(i,e),o=t;if(n){let a=n._f;a&&(a.disabled||Q(s,e,eC(t,a)),o=ep&&eS(a.ref)&&N(t)?"":t,e_(a.ref)?[...a.ref.options].forEach(e=>e.selected=o.includes(e.value)):a.refs?k(a.ref)?a.refs.length>1?a.refs.forEach(e=>!e.disabled&&(e.checked=Array.isArray(o)?!!o.find(t=>t===e.value):o===e.value)):a.refs[0]&&(a.refs[0].checked=!!o):a.refs.forEach(e=>e.checked=e.value===o):er(a.ref)?a.ref.value="":(a.ref.value=o,a.ref.type||f.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&E(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&Y(e)},z=(e,t,r)=>{for(let n in t){let o=t[n],s=`${e}.${n}`,a=D(i,s);!l.array.has(e)&&eE(o)&&(!a||a._f)||T(o)?V(s,o,r):z(s,o,r)}},W=(e,t,r={})=>{let a=D(i,e),u=l.array.has(e),c=eg(t);Q(s,e,c),u?(f.array.next({name:e,values:s}),(h.isDirty||h.dirtyFields)&&r.shouldDirty&&(n.dirtyFields=eP(o,s),f.state.next({name:e,dirtyFields:n.dirtyFields,isDirty:R(e,c)}))):!a||a._f||N(c)?V(e,c,r):z(e,c,r),Z(e,l)&&f.state.next({}),f.watch.next({name:e})},$=async e=>{let o=e.target,a=o.name,u=D(i,a);if(u){let h,m;let v=o.type?eR(u._f):C(e),b=e.type===L.BLUR||e.type===L.FOCUS_OUT,w=!eM(u._f)&&!r.resolver&&!D(n.errors,a)&&!u._f.deps||eL(b,D(n.touchedFields,a),n.isSubmitted,p,d),_=Z(a,l,b);Q(s,a,v),b?(u._f.onBlur&&u._f.onBlur(e),t&&t(0)):u._f.onChange&&u._f.onChange(e);let k=E(a,v,b,!1),T=!j(k)||_;if(b||f.watch.next({name:a,type:e.type}),w)return T&&f.state.next({name:a,..._?{}:k});if(!b&&_&&f.state.next({}),c[a]=(c[a],1),f.state.next({isValidating:!0}),r.resolver){let{errors:N}=await S([a]),x=eD(n.errors,i,a),P=eD(N,i,x.name||a);h=P.error,a=P.name,m=j(N)}else h=(await ed(u,D(s,a),g,r.shouldUseNativeValidation))[a],m=await y(!0);u._f.deps&&Y(u._f.deps),A(a,m,h,k)}},Y=async(e,t={})=>{let o,s;let a=G(e);if(f.state.next({isValidating:!0}),r.resolver){let u=await _(M(e)?e:a);o=j(u),s=e?!a.some(e=>D(u,e)):o}else e?((s=(await Promise.all(a.map(async e=>{let t=D(i,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean))||n.isValid)&&y():s=o=await x(i);return f.state.next({...!q(e)||h.isValid&&o!==n.isValid?{}:{name:e},...r.resolver?{isValid:o}:{},errors:n.errors,isValidating:!1}),t.shouldFocus&&!s&&X(i,e=>D(n.errors,e),e?a:l.mount),s},J=e=>{let t={...o,...a.mount?s:{}};return M(e)?t:q(e)?D(t,e):e.map(e=>D(t,e))},en=(e,t)=>({invalid:!!D((t||n).errors,e),isDirty:!!D((t||n).dirtyFields,e),isTouched:!!D((t||n).touchedFields,e),error:D((t||n).errors,e)}),ei=e=>{e?G(e).forEach(e=>eb(n.errors,e)):n.errors={},f.state.next({errors:n.errors})},eo=(e,t,r)=>{let o=(D(i,e,{_f:{}})._f||{}).ref;Q(n.errors,e,{...t,ref:o}),f.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},es=(e,t)=>K(e)?f.watch.subscribe({next:r=>e(B(void 0,t),r)}):B(e,t,!0),ea=(e,t={})=>{for(let a of e?G(e):l.mount)l.mount.delete(a),l.array.delete(a),D(i,a)&&(t.keepValue||(eb(i,a),eb(s,a)),t.keepError||eb(n.errors,a),t.keepDirty||eb(n.dirtyFields,a),t.keepTouched||eb(n.touchedFields,a),r.shouldUnregister||t.keepDefaultValue||eb(o,a));f.watch.next({}),f.state.next({...n,...t.keepDirty?{isDirty:R()}:{}}),t.keepIsValid||y()},el=(e,t={})=>{let n=D(i,e),u=et(t.disabled);return Q(i,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),n?u&&Q(s,e,t.disabled?void 0:D(s,e,eR(n._f))):w(e,!0,t.value),{...u?{disabled:t.disabled}:{},...r.shouldUseNativeValidation?{required:!!t.required,min:eO(t.min),max:eO(t.max),minLength:eO(t.minLength),maxLength:eO(t.maxLength),pattern:eO(t.pattern)}:{},name:e,onChange:$,onBlur:$,ref(s){if(s){el(e,t),n=D(i,e);let u=M(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,c=ek(u),h=n._f.refs||[];(c?h.find(e=>e===u):u===n._f.ref)||(Q(i,e,{_f:{...n._f,...c?{refs:[...h.filter(eT),u,...Array.isArray(D(o,e))?[{}]:[]],ref:{type:u.type,name:e}}:{ref:u}}}),w(e,!1,void 0,u))}else(n=D(i,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&!(I(l.array,e)&&a.action)&&l.unMount.add(e)}}},eu=(e,t)=>async o=>{o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let a=!0,u=eg(s);f.state.next({isSubmitting:!0});try{if(r.resolver){let{errors:c,values:h}=await S();n.errors=c,u=h}else await x(i);j(n.errors)?(f.state.next({errors:{},isSubmitting:!0}),await e(u,o)):(t&&await t({...n.errors},o),r.shouldFocusError&&X(i,e=>D(n.errors,e),l.mount))}catch(d){throw a=!1,d}finally{n.isSubmitted=!0,f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(n.errors)&&a,submitCount:n.submitCount+1,errors:n.errors})}},ec=(e,t={})=>{D(i,e)&&(M(t.defaultValue)?W(e,D(o,e)):(W(e,t.defaultValue),Q(o,e,t.defaultValue)),t.keepTouched||eb(n.touchedFields,e),t.keepDirty||(eb(n.dirtyFields,e),n.isDirty=t.defaultValue?R(e,D(o,e)):R()),!t.keepError&&(eb(n.errors,e),h.isValid&&y()),f.state.next({...n}))},eh=(t,r={})=>{let u=t||o,c=eg(u),d=t&&!j(t)?c:o;if(r.keepDefaultValues||(o=u),!r.keepValues){if(r.keepDirtyValues)for(let p of l.mount)D(n.dirtyFields,p)?Q(d,p,D(s,p)):W(p,D(d,p));else{if(ep&&M(t))for(let g of l.mount){let m=D(i,g);if(m&&m._f){let y=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;try{if(eS(y)){y.closest("form").reset();break}}catch(v){}}}i={}}s=e.shouldUnregister?r.keepDefaultValues?eg(o):{}:c,f.array.next({values:d}),f.watch.next({values:d})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!r.keepIsValid,a.watch=!!e.shouldUnregister,f.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:r.keepDirty||r.keepDirtyValues?n.isDirty:!!(r.keepDefaultValues&&!eA(t,o)),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:r.keepDirty||r.keepDirtyValues?n.dirtyFields:r.keepDefaultValues&&t?eP(o,t):{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ef=(e,t)=>eh(K(e)?e(s):e,t),ey=(e,t={})=>{let r=D(i,e)._f,n=r.refs?r.refs[0]:r.ref;n.focus(),t.shouldSelect&&n.select()};return{control:{register:el,unregister:ea,getFieldState:en,_executeSchema:S,_getWatch:B,_getDirty:R,_updateValid:y,_removeUnmounted:P,_updateFieldArray:v,_getFieldArray:U,_subjects:f,_proxyFormState:h,get _fields(){return i},get _formValues(){return s},get _stateFlags(){return a},set _stateFlags(value){a=value},get _defaultValues(){return o},get _names(){return l},set _names(value){l=value},get _formState(){return n},set _formState(value){n=value},get _options(){return r},set _options(value){r={...r,...value}}},trigger:Y,register:el,handleSubmit:eu,watch:es,setValue:W,getValues:J,reset:ef,resetField:ec,clearErrors:ei,unregister:ea,setError:eo,setFocus:ey,getFieldState:en}}function ej(e={}){let t=_.useRef(),[r,n]=_.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current={...eU(e),formState:r};let i=t.current.control,o=_.useCallback(e=>{V(e,i._proxyFormState,!0)&&(i._formState={...i._formState,...e},n({...i._formState}))},[i]);return z({subject:i._subjects.state,callback:o}),_.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),t.current.formState=U(r,i._proxyFormState),t.current}let eV=()=>{let{register:e,handleSubmit:t,setValue:r}=ej(),[n,i]=(0,_.useState)(!1),{loadContract:o,contractData:s}=(0,E.G)(),a=(0,_.useCallback)(e=>{i(!0),o(e).finally(()=>i(!1))},[o]);return(0,_.useEffect)(()=>{r("tag",(null==s?void 0:s.tag)||""),r("address",(null==s?void 0:s.address)||""),r("abi",(null==s?void 0:s.abi)||""),r("backProxy",(null==s?void 0:s.backProxy)||!1)},[s,r]),(0,w.jsxs)("form",{className:"flex w-full flex-col gap-2",onSubmit:t(a),children:[(0,w.jsx)("input",{className:"input text-lg shadow-lg",type:"text",placeholder:"Tag",...e("tag",{required:!0})}),(0,w.jsx)("input",{className:"input text-lg shadow-lg",type:"text",placeholder:"Contract Address",...e("address",{required:!0})}),(0,w.jsx)("textarea",{className:"input h-56 resize-none py-2 text-lg shadow-lg",placeholder:"Contract Abi (optional)",...e("abi",{required:!1})}),(0,w.jsx)("div",{className:"bg-base-100 card rounded-lg px-2 shadow-lg",children:(0,w.jsxs)("label",{className:"label cursor-pointer",children:[(0,w.jsx)("span",{className:"text-lg font-bold",children:"Read beyond the proxy"}),(0,w.jsx)("input",{type:"checkbox",className:"checkbox",...e("backProxy",{required:!1})})]})}),(0,w.jsx)("button",{type:"submit",disabled:n,className:S("btn",n&&"loading"),children:"Load"})]})};function eG({title:e,titleId:t,...r},n){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}let ez=_.forwardRef(eG);var eq=ez;let eH=()=>{let{contractDataList:e,contractTag:t,setContractTag:r,removeContract:n}=(0,E.G)();return(0,w.jsx)("div",{className:"tabs tabs-boxed mx-auto",children:e&&Object.keys(e).map(e=>t!==e?(0,w.jsx)("button",{className:S("tab tab-lg items-center"),onClick:()=>r(e),children:e},e):(0,w.jsxs)("div",{className:"tab tab-lg tab-active items-center",children:[e,t===e&&(0,w.jsx)("button",{className:"btn btn-square btn-ghost btn-sm",onClick:()=>n(e),children:(0,w.jsx)(eq,{className:"h-8 w-8"})})]},e))})};function eK(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let i=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,eK),i}var eW=((n=eW||{})[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n),e$=((i=e$||{})[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden",i);function eY({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:o=!0,name:s}){let a=eX(t,e);if(o)return eJ(a,r,n,s);let l=null!=i?i:0;if(2&l){let{static:u=!1,...c}=a;if(u)return eJ(c,r,n,s)}if(1&l){let{unmount:h=!0,...f}=a;return eK(h?0:1,{0:()=>null,1:()=>eJ({...f,hidden:!0,style:{display:"none"}},r,n,s)})}return eJ(a,r,n,s)}function eJ(e,t={},r,n){let{as:i=r,children:o,refName:s="ref",...a}=e1(e,["unmount","static"]),l=void 0!==e.ref?{[s]:e.ref}:{},u="function"==typeof o?o(t):o;a.className&&"function"==typeof a.className&&(a.className=a.className(t));let c={};if(t){let h=!1,f=[];for(let[d,p]of Object.entries(t))"boolean"==typeof p&&(h=!0),!0===p&&f.push(d);h&&(c["data-headlessui-state"]=f.join(" "))}if(i===_.Fragment&&Object.keys(e0(a)).length>0){if(!(0,_.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`));return(0,_.cloneElement)(u,Object.assign({},eX(u.props,e0(e1(a,["ref"]))),c,l,eQ(u.ref,l.ref)))}return(0,_.createElement)(i,Object.assign({},e1(a,["ref"]),i!==_.Fragment&&l,i!==_.Fragment&&c),u)}function eQ(...e){return{ref:e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}}function eX(...e){var t;if(0===e.length)return{};if(1===e.length)return e[0];let r={},n={};for(let i of e)for(let o in i)o.startsWith("on")&&"function"==typeof i[o]?(null!=(t=n[o])||(n[o]=[]),n[o].push(i[o])):r[o]=i[o];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(n).map(e=>[e,void 0])));for(let s in n)Object.assign(r,{[s](e,...t){for(let r of n[s]){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;r(e,...t)}}});return r}function eZ(e){var t;return Object.assign((0,_.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function e0(e){let t=Object.assign({},e);for(let r in t)void 0===t[r]&&delete t[r];return t}function e1(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let e2=(0,_.createContext)(null);e2.displayName="OpenClosedContext";var e3=((o=e3||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o);function e6(){return(0,_.useContext)(e2)}function e4({value:e,children:t}){return _.createElement(e2.Provider,{value:e},t)}let e5="undefined"==typeof window||"undefined"==typeof document,e8=e5?_.useEffect:_.useLayoutEffect;function e7(){let e=(0,_.useRef)(!1);return e8(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function e9(e){let t=(0,_.useRef)(e);return e8(()=>{t.current=e},[e]),t}let te={serverHandoffComplete:!1};function tt(){let[e,t]=(0,_.useState)(te.serverHandoffComplete);return(0,_.useEffect)(()=>{!0!==e&&t(!0)},[e]),(0,_.useEffect)(()=>{!1===te.serverHandoffComplete&&(te.serverHandoffComplete=!0)},[]),e}let tr=function(e){let t=e9(e);return _.useCallback((...e)=>t.current(...e),[t])},tn=Symbol();function ti(e,t=!0){return Object.assign(e,{[tn]:t})}function to(...e){let t=(0,_.useRef)(e);(0,_.useEffect)(()=>{t.current=e},[e]);let r=tr(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[tn]))?void 0:r}function ts(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function ta(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function tl(){let e=[],t=[],r={enqueue(e){t.push(e)},addEventListener:(e,t,n,i)=>(e.addEventListener(t,n,i),r.add(()=>e.removeEventListener(t,n,i))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame:(...e)=>r.requestAnimationFrame(()=>r.requestAnimationFrame(...e)),setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return ta(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},add:t=>(e.push(t),()=>{let r=e.indexOf(t);if(r>=0){let[n]=e.splice(r,1);n()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return r}function tu(e,...t){e&&t.length>0&&e.classList.add(...t)}function tc(e,...t){e&&t.length>0&&e.classList.remove(...t)}var th=((s=th||{}).Ended="ended",s.Cancelled="cancelled",s);function tf(e,t){let r=tl();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[o,s]=[n,i].map(e=>{let[t=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,t)=>t-e);return t});if(o+s!==0){let a=[];a.push(r.addEventListener(e,"transitionrun",n=>{n.target===n.currentTarget&&(a.splice(0).forEach(e=>e()),a.push(r.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(t("ended"),a.splice(0).forEach(e=>e()))}),r.addEventListener(e,"transitioncancel",e=>{e.target===e.currentTarget&&(t("cancelled"),a.splice(0).forEach(e=>e()))})))}))}else t("ended");return r.add(()=>t("cancelled")),r.dispose}function td(e,t,r,n){let i=r?"enter":"leave",o=tl(),s=void 0!==n?ts(n):()=>{};"enter"===i&&(e.removeAttribute("hidden"),e.style.display="");let a=eK(i,{enter:()=>t.enter,leave:()=>t.leave}),l=eK(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=eK(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return tc(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),tu(e,...a,...u),o.nextFrame(()=>{tc(e,...u),tu(e,...l),tf(e,r=>("ended"===r&&(tc(e,...a),tu(e,...t.entered)),s(r)))}),o.dispose}function tp(){let[e]=(0,_.useState)(tl);return(0,_.useEffect)(()=>()=>e.dispose(),[e]),e}function tg({container:e,direction:t,classes:r,onStart:n,onStop:i}){let o=e7(),s=tp(),a=e9(t);e8(()=>{let t=tl();s.add(t.dispose);let l=e.current;if(l&&"idle"!==a.current&&o.current)return t.dispose(),n.current(a.current),t.add(td(l,r.current,"enter"===a.current,e=>{t.dispose(),eK(e,{[th.Ended](){i.current(a.current)},[th.Cancelled](){}})})),t.dispose},[t])}function tm(e=""){return e.split(" ").filter(e=>e.trim().length>1)}let ty=(0,_.createContext)(null);ty.displayName="TransitionContext";var tv=((a=tv||{}).Visible="visible",a.Hidden="hidden",a);function tb(){let e=(0,_.useContext)(ty);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function tw(){let e=(0,_.useContext)(tE);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let tE=(0,_.createContext)(null);function tA(e){return"children"in e?tA(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function tS(e,t){let r=e9(e),n=(0,_.useRef)([]),i=e7(),o=tp(),s=tr((e,t=e$.Hidden)=>{let s=n.current.findIndex(({el:t})=>t===e);-1!==s&&(eK(t,{[e$.Unmount](){n.current.splice(s,1)},[e$.Hidden](){n.current[s].state="hidden"}}),o.microTask(()=>{var e;!tA(n)&&i.current&&(null==(e=r.current)||e.call(r))}))}),a=tr(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>s(e,e$.Unmount)}),l=(0,_.useRef)([]),u=(0,_.useRef)(Promise.resolve()),c=(0,_.useRef)({enter:[],leave:[],idle:[]}),h=tr((e,r,n)=>{l.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{l.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(c.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?u.current=u.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),f=tr((e,t,r)=>{Promise.all(c.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=l.current.shift())||e()}).then(()=>r(t))});return(0,_.useMemo)(()=>({children:n,register:a,unregister:s,onStart:h,onStop:f,wait:u,chains:c}),[a,s,n,h,f,c,u])}function t_(){}tE.displayName="NestingContext";let tk=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function tT(e){var t;let r={};for(let n of tk)r[n]=null!=(t=e[n])?t:t_;return r}function tN(e){let t=(0,_.useRef)(tT(e));return(0,_.useEffect)(()=>{t.current=tT(e)},[e]),t}let tx="div",tP=eW.RenderStrategy,tC=eZ(function(e,t){let{beforeEnter:r,afterEnter:n,beforeLeave:i,afterLeave:o,enter:s,enterFrom:a,enterTo:l,entered:u,leave:c,leaveFrom:h,leaveTo:f,...d}=e,p=(0,_.useRef)(null),g=to(p,t),m=d.unmount?e$.Unmount:e$.Hidden,{show:y,appear:v,initial:b}=tb(),[w,E]=(0,_.useState)(y?"visible":"hidden"),A=tw(),{register:S,unregister:k}=A,T=(0,_.useRef)(null);(0,_.useEffect)(()=>S(p),[S,p]),(0,_.useEffect)(()=>{if(m===e$.Hidden&&p.current){if(y&&"visible"!==w){E("visible");return}return eK(w,{hidden:()=>k(p),visible:()=>S(p)})}},[w,p,S,k,y,m]);let N=e9({enter:tm(s),enterFrom:tm(a),enterTo:tm(l),entered:tm(u),leave:tm(c),leaveFrom:tm(h),leaveTo:tm(f)}),x=tN({beforeEnter:r,afterEnter:n,beforeLeave:i,afterLeave:o}),P=tt();(0,_.useEffect)(()=>{if(P&&"visible"===w&&null===p.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[p,w,P]);let C=b&&!v,R=!P||C||T.current===y?"idle":y?"enter":"leave",I=tr(e=>eK(e,{enter:()=>x.current.beforeEnter(),leave:()=>x.current.beforeLeave(),idle(){}})),O=tr(e=>eK(e,{enter:()=>x.current.afterEnter(),leave:()=>x.current.afterLeave(),idle(){}})),M=tS(()=>{E("hidden"),k(p)},A);tg({container:p,classes:N,direction:R,onStart:e9(e=>{M.onStart(p,e,I)}),onStop:e9(e=>{M.onStop(p,e,O),"leave"!==e||tA(M)||(E("hidden"),k(p))})}),(0,_.useEffect)(()=>{C&&(m===e$.Hidden?T.current=null:T.current=y)},[y,C,w]);let D=d,L={ref:g};return _.createElement(tE.Provider,{value:M},_.createElement(e4,{value:eK(w,{visible:e3.Open,hidden:e3.Closed})},eY({ourProps:L,theirProps:D,defaultTag:tx,features:tP,visible:"visible"===w,name:"Transition.Child"})))}),tR=eZ(function(e,t){let{show:r,appear:n=!1,unmount:i,...o}=e,s=(0,_.useRef)(null),a=to(s,t);tt();let l=e6();if(void 0===r&&null!==l&&(r=eK(l,{[e3.Open]:!0,[e3.Closed]:!1})),![!0,!1].includes(r))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=(0,_.useState)(r?"visible":"hidden"),h=tS(()=>{c("hidden")}),[f,d]=(0,_.useState)(!0),p=(0,_.useRef)([r]);e8(()=>{!1!==f&&p.current[p.current.length-1]!==r&&(p.current.push(r),d(!1))},[p,r]);let g=(0,_.useMemo)(()=>({show:r,appear:n,initial:f}),[r,n,f]);(0,_.useEffect)(()=>{if(r)c("visible");else if(tA(h)){let e=s.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&c("hidden")}else c("hidden")},[r,h]);let m={unmount:i};return _.createElement(tE.Provider,{value:h},_.createElement(ty.Provider,{value:g},eY({ourProps:{...m,as:_.Fragment,children:_.createElement(tC,{ref:a,...m,...o})},theirProps:{},defaultTag:_.Fragment,features:tP,visible:"visible"===u,name:"Transition"})))}),tI=eZ(function(e,t){let r=null!==(0,_.useContext)(ty),n=null!==e6();return _.createElement(_.Fragment,null,!r&&n?_.createElement(tR,{ref:t,...e}):_.createElement(tC,{ref:t,...e}))}),tO=Object.assign(tR,{Child:tI,Root:tR});var tM=((l=tM||{}).Space=" ",l.Enter="Enter",l.Escape="Escape",l.Backspace="Backspace",l.Delete="Delete",l.ArrowLeft="ArrowLeft",l.ArrowUp="ArrowUp",l.ArrowRight="ArrowRight",l.ArrowDown="ArrowDown",l.Home="Home",l.End="End",l.PageUp="PageUp",l.PageDown="PageDown",l.Tab="Tab",l);function tD(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(null==t?void 0:t.getAttribute("disabled"))==="";return!(n&&tL(r))&&n}function tL(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let tF=0;function tB(){return++tF}let tU=null!=(b=_.useId)?b:function(){let e=tt(),[t,r]=_.useState(e?tB:null);return e8(()=>{null===t&&r(tB())},[t]),null!=t?""+t:void 0},tj="div";var tV=((u=tV||{})[u.None=1]="None",u[u.Focusable=2]="Focusable",u[u.Hidden=4]="Hidden",u);let tG=eZ(function(e,t){let{features:r=1,...n}=e;return eY({ourProps:{ref:t,"aria-hidden":(2&r)==2||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&r)==4&&(2&r)!=2&&{display:"none"}}},theirProps:n,slot:{},defaultTag:tj,name:"Hidden"})});function tz(e){return e5?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let tq=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var tH=((c=tH||{})[c.First=1]="First",c[c.Previous=2]="Previous",c[c.Next=4]="Next",c[c.Last=8]="Last",c[c.WrapAround=16]="WrapAround",c[c.NoScroll=32]="NoScroll",c),tK=((h=tK||{})[h.Error=0]="Error",h[h.Overflow=1]="Overflow",h[h.Success=2]="Success",h[h.Underflow=3]="Underflow",h),tW=((f=tW||{})[f.Previous=-1]="Previous",f[f.Next=1]="Next",f);function t$(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(tq))}var tY=((d=tY||{})[d.Strict=0]="Strict",d[d.Loose=1]="Loose",d);function tJ(e,t=0){var r;return e!==(null==(r=tz(e))?void 0:r.body)&&eK(t,{0:()=>e.matches(tq),1(){let t=e;for(;null!==t;){if(t.matches(tq))return!0;t=t.parentElement}return!1}})}function tQ(e){null==e||e.focus({preventScroll:!0})}let tX="textarea,input";function tZ(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,tX))&&r}function t0(e,t=e=>e){return e.slice().sort((e,r)=>{let n=t(e),i=t(r);if(null===n||null===i)return 0;let o=n.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function t1(e,t,r=!0,n=null){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?t0(e):e:t$(e);n=null!=n?n:i.activeElement;let s=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,o.indexOf(n))-1;if(4&t)return Math.max(0,o.indexOf(n))+1;if(8&t)return o.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=32&t?{preventScroll:!0}:{},u=0,c=o.length,h;do{if(u>=c||u+c<=0)return 0;let f=a+u;if(16&t)f=(f+c)%c;else{if(f<0)return 3;if(f>=c)return 1}null==(h=o[f])||h.focus(l),u+=s}while(h!==i.activeElement);return 6&t&&tZ(h)&&h.select(),h.hasAttribute("tabindex")||h.setAttribute("tabindex","0"),2}function t2(e,t,r){let n=e9(t);(0,_.useEffect)(()=>{function t(e){n.current(e)}return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)},[e,r])}var t3=((p=t3||{})[p.Forwards=0]="Forwards",p[p.Backwards=1]="Backwards",p);function t6(){let e=(0,_.useRef)(0);return t2("keydown",t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)},!0),e}function t4(...e){return(0,_.useMemo)(()=>tz(...e),[...e])}function t5(e,t,r,n){let i=e9(r);(0,_.useEffect)(()=>{function r(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)},[e,t,n])}function t8(e,t){let r=(0,_.useRef)([]),n=tr(e);(0,_.useEffect)(()=>{let e=[...r.current];for(let[i,o]of t.entries())if(r.current[i]!==o){let s=n(t,e);return r.current=t,s}},[n,...t])}let t7="div";var t9=((g=t9||{})[g.None=1]="None",g[g.InitialFocus=2]="InitialFocus",g[g.TabLock=4]="TabLock",g[g.FocusLock=8]="FocusLock",g[g.RestoreFocus=16]="RestoreFocus",g[g.All=30]="All",g);let re=Object.assign(eZ(function(e,t){let r=(0,_.useRef)(null),n=to(r,t),{initialFocus:i,containers:o,features:s=30,...a}=e;tt()||(s=1);let l=t4(r);rt({ownerDocument:l},Boolean(16&s));let u=rr({ownerDocument:l,container:r,initialFocus:i},Boolean(2&s));rn({ownerDocument:l,container:r,containers:o,previousActiveElement:u},Boolean(8&s));let c=t6(),h=tr(()=>{let e=r.current;e&&eK(c.current,{[t3.Forwards]:()=>t1(e,tH.First),[t3.Backwards]:()=>t1(e,tH.Last)})}),f={ref:n};return _.createElement(_.Fragment,null,Boolean(4&s)&&_.createElement(tG,{as:"button",type:"button",onFocus:h,features:tV.Focusable}),eY({ourProps:f,theirProps:a,defaultTag:t7,name:"FocusTrap"}),Boolean(4&s)&&_.createElement(tG,{as:"button",type:"button",onFocus:h,features:tV.Focusable}))}),{features:t9});function rt({ownerDocument:e},t){let r=(0,_.useRef)(null);t5(null==e?void 0:e.defaultView,"focusout",e=>{!t||r.current||(r.current=e.target)},!0),t8(()=>{t||((null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&tQ(r.current),r.current=null)},[t]);let n=(0,_.useRef)(!1);(0,_.useEffect)(()=>(n.current=!1,()=>{n.current=!0,ta(()=>{n.current&&(tQ(r.current),r.current=null)})}),[])}function rr({ownerDocument:e,container:t,initialFocus:r},n){let i=(0,_.useRef)(null),o=e7();return t8(()=>{if(!n)return;let s=t.current;s&&ta(()=>{if(!o.current)return;let t=null==e?void 0:e.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===t){i.current=t;return}}else if(s.contains(t)){i.current=t;return}null!=r&&r.current?tQ(r.current):t1(s,tH.First)===tK.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=null==e?void 0:e.activeElement})},[n]),i}function rn({ownerDocument:e,container:t,containers:r,previousActiveElement:n},i){let o=e7();t5(null==e?void 0:e.defaultView,"focus",e=>{if(!i||!o.current)return;let s=new Set(null==r?void 0:r.current);s.add(t);let a=n.current;if(!a)return;let l=e.target;l&&l instanceof HTMLElement?ri(s,l)?(n.current=l,tQ(l)):(e.preventDefault(),e.stopPropagation(),tQ(a)):tQ(n.current)},!0)}function ri(e,t){var r;for(let n of e)if(null!=(r=n.current)&&r.contains(t))return!0;return!1}let ro=new Set,rs=new Map;function ra(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function rl(e){let t=rs.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function ru(e,t=!0){e8(()=>{if(!t||!e.current)return;let r=e.current,n=tz(r);if(n){for(let i of(ro.add(r),rs.keys()))i.contains(r)&&(rl(i),rs.delete(i));return n.querySelectorAll("body > *").forEach(e=>{if(e instanceof HTMLElement){for(let t of ro)if(e.contains(t))return;1===ro.size&&(rs.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),ra(e))}}),()=>{if(ro.delete(r),ro.size>0)n.querySelectorAll("body > *").forEach(e=>{if(e instanceof HTMLElement&&!rs.has(e)){for(let t of ro)if(e.contains(t))return;rs.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),ra(e)}});else for(let e of rs.keys())rl(e),rs.delete(e)}}},[t])}var rc=r(3935);let rh=(0,_.createContext)(!1);function rf(){return(0,_.useContext)(rh)}function rd(e){return _.createElement(rh.Provider,{value:e.force},e.children)}function rp(e){let t=rf(),r=(0,_.useContext)(rv),n=t4(e),[i,o]=(0,_.useState)(()=>{if(!t&&null!==r||e5)return null;let e=null==n?void 0:n.getElementById("headlessui-portal-root");if(e)return e;if(null===n)return null;let i=n.createElement("div");return i.setAttribute("id","headlessui-portal-root"),n.body.appendChild(i)});return(0,_.useEffect)(()=>{null!==i&&(null!=n&&n.body.contains(i)||null==n||n.body.appendChild(i))},[i,n]),(0,_.useEffect)(()=>{t||null!==r&&o(r.current)},[r,o,t]),i}let rg=_.Fragment,rm=eZ(function(e,t){let r=e,n=(0,_.useRef)(null),i=to(ti(e=>{n.current=e}),t),o=t4(n),s=rp(n),[a]=(0,_.useState)(()=>{var e;return e5?null:null!=(e=null==o?void 0:o.createElement("div"))?e:null}),l=tt(),u=(0,_.useRef)(!1);return e8(()=>{if(u.current=!1,!(!s||!a))return s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a)),()=>{u.current=!0,ta(()=>{var e;u.current&&s&&a&&(s.removeChild(a),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))})}},[s,a]),l&&s&&a?(0,rc.createPortal)(eY({ourProps:{ref:i},theirProps:r,defaultTag:rg,name:"Portal"}),a):null}),ry=_.Fragment,rv=(0,_.createContext)(null),rb=Object.assign(rm,{Group:eZ(function(e,t){let{target:r,...n}=e,i={ref:to(t)};return _.createElement(rv.Provider,{value:r},eY({ourProps:i,theirProps:n,defaultTag:ry,name:"Popover.Group"}))})}),rw=(0,_.createContext)(null);function rE(){let e=(0,_.useContext)(rw);if(null===e){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,rE),t}return e}function rA(){let[e,t]=(0,_.useState)([]);return[e.length>0?e.join(" "):void 0,(0,_.useMemo)(()=>function(e){let r=tr(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),n=(0,_.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props}),[r,e.slot,e.name,e.props]);return _.createElement(rw.Provider,{value:n},e.children)},[t])]}let rS="p",r_=eZ(function(e,t){let r=rE(),n=`headlessui-description-${tU()}`,i=to(t);e8(()=>r.register(n),[n,r.register]);let o=e;return eY({ourProps:{ref:i,...r.props,id:n},theirProps:o,slot:r.slot||{},defaultTag:rS,name:r.name||"Description"})}),rk=(0,_.createContext)(()=>{});rk.displayName="StackContext";var rT=((m=rT||{})[m.Add=0]="Add",m[m.Remove=1]="Remove",m);function rN(){return(0,_.useContext)(rk)}function rx({children:e,onUpdate:t,type:r,element:n,enabled:i}){let o=rN(),s=tr((...e)=>{null==t||t(...e),o(...e)});return e8(()=>{let e=void 0===i||!0===i;return e&&s(0,r,n),()=>{e&&s(1,r,n)}},[s,r,n,i]),_.createElement(rk.Provider,{value:s},e)}function rP(e,t,r){let n=e9(t);(0,_.useEffect)(()=>{function t(e){n.current(e)}return document.addEventListener(e,t,r),()=>document.removeEventListener(e,t,r)},[e,r])}function rC(e,t,r=!0){let n=(0,_.useRef)(!1);function i(r,i){if(!n.current||r.defaultPrevented)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),s=i(r);if(null!==s&&s.getRootNode().contains(s)){for(let a of o){if(null===a)continue;let l=a instanceof HTMLElement?a:a.current;if(null!=l&&l.contains(s))return}return tJ(s,tY.Loose)||-1===s.tabIndex||r.preventDefault(),t(r,s)}}(0,_.useEffect)(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);let o=(0,_.useRef)(null);rP("mousedown",e=>{var t,r;n.current&&(o.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),rP("click",e=>{o.current&&(i(e,()=>o.current),o.current=null)},!0),rP("blur",e=>i(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function rR(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var rI=((y=rI||{})[y.Open=0]="Open",y[y.Closed=1]="Closed",y),rO=((v=rO||{})[v.SetTitleId=0]="SetTitleId",v);let rM={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},rD=(0,_.createContext)(null);function rL(e){let t=(0,_.useContext)(rD);if(null===t){let r=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,rL),r}return t}function rF(e,t){(0,_.useEffect)(()=>{var r;if(!t||!e)return;let n=tl();function i(e,t,r){let i=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),n.add(()=>{Object.assign(e.style,{[t]:i})})}let o=e.documentElement,s=(null!=(r=e.defaultView)?r:window).innerWidth-o.clientWidth;if(i(o,"overflow","hidden"),s>0){let a=s-(o.clientWidth-o.offsetWidth);i(o,"paddingRight",`${a}px`)}if(rR()){let l=window.pageYOffset;i(o,"position","fixed"),i(o,"marginTop",`-${l}px`),i(o,"width","100%"),n.add(()=>window.scrollTo(0,l))}return n.dispose},[e,t])}function rB(e,t){return eK(t.type,rM,e,t)}rD.displayName="DialogContext";let rU="div",rj=eW.RenderStrategy|eW.Static,rV=eZ(function(e,t){let{open:r,onClose:n,initialFocus:i,__demoMode:o=!1,...s}=e,[a,l]=(0,_.useState)(0),u=e6();void 0===r&&null!==u&&(r=eK(u,{[e3.Open]:!0,[e3.Closed]:!1}));let c=(0,_.useRef)(new Set),h=(0,_.useRef)(null),f=to(h,t),d=(0,_.useRef)(null),p=t4(h),g=e.hasOwnProperty("open")||null!==u,m=e.hasOwnProperty("onClose");if(!g&&!m)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!m)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof r)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r}`);if("function"!=typeof n)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${n}`);let y=r?0:1,[v,b]=(0,_.useReducer)(rB,{titleId:null,descriptionId:null,panelRef:(0,_.createRef)()}),w=tr(()=>n(!1)),E=tr(e=>b({type:0,id:e})),A=!!tt()&&!o&&0===y,S=a>1,k=null!==(0,_.useContext)(rD),T=S?"parent":"leaf";ru(h,!!S&&A),rC(()=>{var e,t;return[...Array.from(null!=(e=null==p?void 0:p.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter(e=>!(!(e instanceof HTMLElement)||e.contains(d.current)||v.panelRef.current&&e.contains(v.panelRef.current))),null!=(t=v.panelRef.current)?t:h.current]},w,A&&!S),t5(null==p?void 0:p.defaultView,"keydown",e=>{e.defaultPrevented||e.key===tM.Escape&&0===y&&(S||(e.preventDefault(),e.stopPropagation(),w()))}),rF(p,0===y&&!k),(0,_.useEffect)(()=>{if(0!==y||!h.current)return;let e=new IntersectionObserver(e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&w()});return e.observe(h.current),()=>e.disconnect()},[y,h,w]);let[N,x]=rA(),P=`headlessui-dialog-${tU()}`,C=(0,_.useMemo)(()=>[{dialogState:y,close:w,setTitleId:E},v],[y,v,w,E]),R=(0,_.useMemo)(()=>({open:0===y}),[y]),I={ref:f,id:P,role:"dialog","aria-modal":0===y||void 0,"aria-labelledby":v.titleId,"aria-describedby":N};return _.createElement(rx,{type:"Dialog",enabled:0===y,element:h,onUpdate:tr((e,t,r)=>{"Dialog"===t&&eK(e,{[rT.Add](){c.current.add(r),l(e=>e+1)},[rT.Remove](){c.current.add(r),l(e=>e-1)}})})},_.createElement(rd,{force:!0},_.createElement(rb,null,_.createElement(rD.Provider,{value:C},_.createElement(rb.Group,{target:h},_.createElement(rd,{force:!1},_.createElement(x,{slot:R,name:"Dialog.Description"},_.createElement(re,{initialFocus:i,containers:c,features:A?eK(T,{parent:re.features.RestoreFocus,leaf:re.features.All&~re.features.FocusLock}):re.features.None},eY({ourProps:I,theirProps:s,slot:R,defaultTag:rU,features:rj,visible:0===y,name:"Dialog"})))))))),_.createElement(tG,{features:tV.Hidden,ref:d}))}),rG="div",rz=eZ(function(e,t){let[{dialogState:r,close:n}]=rL("Dialog.Overlay");return eY({ourProps:{ref:to(t),id:`headlessui-dialog-overlay-${tU()}`,"aria-hidden":!0,onClick:tr(e=>{if(e.target===e.currentTarget){if(tD(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),n()}})},theirProps:e,slot:(0,_.useMemo)(()=>({open:0===r}),[r]),defaultTag:rG,name:"Dialog.Overlay"})}),rq="div",rH=eZ(function(e,t){let[{dialogState:r},n]=rL("Dialog.Backdrop"),i=to(t),o=`headlessui-dialog-backdrop-${tU()}`;(0,_.useEffect)(()=>{if(null===n.panelRef.current)throw Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[n.panelRef]);let s=(0,_.useMemo)(()=>({open:0===r}),[r]);return _.createElement(rd,{force:!0},_.createElement(rb,null,eY({ourProps:{ref:i,id:o,"aria-hidden":!0},theirProps:e,slot:s,defaultTag:rq,name:"Dialog.Backdrop"})))}),rK="div",rW=eZ(function(e,t){let[{dialogState:r},n]=rL("Dialog.Panel"),i=to(t,n.panelRef),o=`headlessui-dialog-panel-${tU()}`,s=(0,_.useMemo)(()=>({open:0===r}),[r]);return eY({ourProps:{ref:i,id:o,onClick:tr(e=>{e.stopPropagation()})},theirProps:e,slot:s,defaultTag:rK,name:"Dialog.Panel"})}),r$="h2",rY=Object.assign(rV,{Backdrop:rH,Panel:rW,Overlay:rz,Title:eZ(function(e,t){let[{dialogState:r,setTitleId:n}]=rL("Dialog.Title"),i=`headlessui-dialog-title-${tU()}`,o=to(t);return(0,_.useEffect)(()=>(n(i),()=>n(null)),[i,n]),eY({ourProps:{ref:o,id:i},theirProps:e,slot:(0,_.useMemo)(()=>({open:0===r}),[r]),defaultTag:r$,name:"Dialog.Title"})}),Description:r_}),rJ=e=>{let{open:t,onClose:r,children:n}=e;return(0,w.jsx)(tO,{appear:!0,show:t,as:_.Fragment,children:(0,w.jsxs)(rY,{as:"div",className:"relative z-50",onClose:r,children:[(0,w.jsx)(tO.Child,{as:_.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,w.jsx)("div",{className:"fixed inset-0 bg-black/25"})}),(0,w.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,w.jsx)("div",{className:"flex h-screen justify-center text-center",children:(0,w.jsx)("div",{className:"h-screen min-h-full w-full max-w-screen-lg p-2",children:(0,w.jsx)(tO.Child,{as:_.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,w.jsx)(rY.Panel,{as:"div",className:"card h-full w-2/3 max-w-xs overflow-hidden bg-white p-2 text-left align-middle shadow-xl transition-all",children:n})})})})})]})})};var rQ=r(8601),rX=r(6371);let rZ=()=>{let{contract:e}=(0,E.G)(),[t,r]=(0,_.useState)(null),[n,i]=(0,_.useState)(""),{toolData:o,setByteCode:s}=(0,rQ.cL)(),[a,l]=(0,_.useState)(""),[u,c]=(0,_.useState)(""),h=(0,_.useCallback)(t=>{let n=e&&Object.entries(e.interface.functions).find(e=>{let[r]=e;return r===t.target.value})||e&&Object.entries(e.interface.events).find(e=>{let[r]=e;return r===t.target.value});r(n?n[1]:null)},[e]),f=(0,_.useCallback)(()=>{if(t&&e)try{if(t instanceof rX.FunctionFragment){let r="FunctionData"===n?e.interface.encodeFunctionData(t,JSON.parse(o.byteCode)):"FunctionResult"===n?e.interface.encodeFunctionResult(t,JSON.parse(o.byteCode)):"";l(r)}else if(t instanceof rX.EventFragment){let i="EventLog"===n?e.interface.encodeEventLog(t,JSON.parse(o.byteCode)):"";l(JSON.stringify(i,null,"	"))}}catch(s){c(String(s.message)||"Some Error Happen"),console.error(s)}},[e,t,o.byteCode,n]),d=(0,_.useCallback)(()=>{if(t&&e)try{if(t instanceof rX.FunctionFragment){let r="FunctionData"===n?e.interface.decodeFunctionData(t,o.byteCode):"FunctionResult"===n?e.interface.decodeFunctionResult(t,o.byteCode):"";l(JSON.stringify(r,null,"	"))}else if(t instanceof rX.EventFragment){let i="EventLog"===n?e.interface.decodeEventLog(t,JSON.parse(o.byteCode)):"";l(JSON.stringify(i,null,"	"))}}catch(s){c(String(s.message)||"Some Error Happen"),console.error(s)}},[e,t,o.byteCode,n]);return e?(0,w.jsxs)("div",{className:"card bg-base-100 flex w-full flex-col gap-2 p-4 shadow-lg",children:[(0,w.jsx)("h2",{className:"text-2xl font-bold",children:"Byte Data Tool"}),(0,w.jsx)("div",{className:"flex",children:(0,w.jsxs)("select",{className:"select bg-base-200 select-bordered w-full",onChange:h,children:[(0,w.jsx)("option",{children:"None"}),Object.entries(e.interface.functions).filter(e=>{let[t]=e;return/\w*\([\w\W]*\)/g.test(t)}).map(e=>(0,w.jsx)("option",{value:e[0],children:e[0]},e[0])),Object.entries(e.interface.events).filter(e=>{let[t]=e;return/\w*\([\w\W]*\)/g.test(t)}).map(e=>(0,w.jsx)("option",{value:e[0],children:e[0]},e[0]))]})}),(0,w.jsxs)("select",{className:"select bg-base-200 select-bordered w-full",onChange:e=>i(e.target.value),children:[(0,w.jsx)("option",{children:"None"}),t instanceof rX.FunctionFragment?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("option",{children:"FunctionData"}),(0,w.jsx)("option",{children:"FunctionResult"})]}):t instanceof rX.EventFragment?(0,w.jsx)("option",{children:"EventLog"}):(0,w.jsx)(w.Fragment,{})]}),(0,w.jsx)("textarea",{className:"input bg-base-200 h-56 resize-none py-2 text-lg",placeholder:"Type byte Data",value:o.byteCode,onChange:e=>s(e.target.value)}),a&&(0,w.jsx)("div",{className:"text-lg font-bold",children:(0,w.jsxs)("pre",{className:"overflow-x-auto",children:["Result: ",a]})}),u&&(0,w.jsxs)("div",{className:"text-error text-lg font-bold",children:["Error: ",u]}),(0,w.jsxs)("div",{className:"flex gap-4",children:[(0,w.jsx)("button",{className:"btn btn-primary flex-1",onClick:f,children:"Encode"}),(0,w.jsx)("button",{className:"btn btn-secondary flex-1",onClick:d,children:"Decode"})]})]}):(0,w.jsx)(w.Fragment,{})};var r0=r(7341);let r1=()=>(0,w.jsxs)("footer",{className:"footer bg-neutral text-neutral-content items-center p-4",children:[(0,w.jsxs)("div",{className:"grid-flow-col items-center",children:[(0,w.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:(0,w.jsx)("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),(0,w.jsx)("p",{children:"Copyright \xa9 2022 - All right reserved"})]}),(0,w.jsxs)("div",{className:"grid-flow-col gap-4 md:place-self-center md:justify-self-end",children:[(0,w.jsx)("a",{href:"https://twitter.com/inaridiy",children:(0,w.jsxs)("svg",{role:"img",width:"30",height:"30",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"fill-current",children:[(0,w.jsx)("title",{children:"Twitter"}),(0,w.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})]})}),(0,w.jsx)("a",{href:"https://github.com/inaridiy/contract-tester",children:(0,w.jsxs)("svg",{width:"28",height:"28",role:"img",viewBox:"0 0 24 24",className:"fill-current",xmlns:"http://www.w3.org/2000/svg",children:[(0,w.jsx)("title",{children:"GitHub"}),(0,w.jsx)("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})})]})]});var r2=r(9614),r3=r(6441),r6=r(1744);let r4=e=>{let{name:t,contract:r,fragment:n}=e,{provider:i}=(0,r2.$)(),{contractData:o}=(0,E.G)(),[s,a]=(0,_.useState)(""),[l,u]=(0,_.useState)(Array(n.inputs.length).fill("")),[c,h]=(0,_.useState)(""),[f,d]=(0,_.useState)(""),[p,g]=(0,_.useState)(!1),m=async function(){let{call:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(""),d(""),g(!0);try{let a=l.map((e,t)=>"array"===n.inputs[t].baseType?e.slice(1,-1).split(",").map(e=>e.trim()):"bool"===n.inputs[t].baseType?"true"===e:e);if(e&&(null==o?void 0:o.fuzzy)){let u=await r.interface.encodeFunctionData(n,a),c=await (null==i?void 0:i.call({to:r.address,data:u}));h(r3.hexStripZeros(c||"0x"))}else{let f=await r[t](...a,{value:r6.parseEther(s||"0")});h(JSON.stringify(f,null,"	"))}}catch(p){d(String(p.message)||"Some Error Happen"),console.error(p)}finally{g(!1)}};return(0,w.jsxs)("div",{className:"card bg-base-100 card-body p-4 shadow-lg",children:[(0,w.jsx)("h2",{className:"cart-title text-2xl font-bold",children:t}),n.payable&&(0,w.jsxs)("div",{className:"flex flex-col gap-2 px-2",children:[(0,w.jsx)("label",{className:"text-lg font-bold",children:t}),(0,w.jsx)("input",{className:"input bg-base-200 input-md text-lg",inputMode:"decimal",pattern:"^[0-9]*[.,]?[0-9]*$",value:s,onChange:e=>a(e.target.value),placeholder:"Pay Value"})]}),n.inputs.map((e,r)=>(0,w.jsxs)("div",{className:"flex flex-col gap-2 px-2",children:[(0,w.jsx)("label",{className:"text-lg font-bold",children:e.name||e.type}),(0,w.jsx)("input",{className:"input bg-base-200 input-md text-lg",type:"text",value:l[r],onChange:e=>u(l.map((t,n)=>r===n?e.target.value:t)),placeholder:e.name?"".concat(e.name," (").concat(e.type,")"):e.type})]},"".concat(t,"/").concat(r))),c&&(0,w.jsx)("div",{className:"text-lg font-bold",children:(0,w.jsxs)("pre",{className:"overflow-x-auto",children:["Result: ",c]})}),f&&(0,w.jsxs)("div",{className:"text-error text-lg font-bold",children:["Error: ",f]}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{className:S("btn btn-primary flex-1",p&&"disabled loading"),onClick:()=>void m(),children:"Run"}),(null==o?void 0:o.fuzzy)&&(0,w.jsx)("button",{className:S("btn btn-secondary flex-1",p&&"disabled loading"),onClick:()=>void m({call:!0}),children:"Call"})]})]})},r5=()=>{let[e,t]=(0,_.useState)(!1),r=()=>t(!e),n=()=>t(!0),i=()=>t(!1),o={open:e,onClose:i};return{isOpen:e,setIsOpen:t,toggle:r,open:n,close:i,register:o}};function r8({title:e,titleId:t,...r},n){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}let r7=_.forwardRef(r8);var r9=r7;rY.Title;let ne=(0,_.memo)(e=>{let{children:t,className:r,open:n,onClose:i}=e;return(0,w.jsx)(tO,{appear:!0,show:n,as:_.Fragment,children:(0,w.jsxs)(rY,{as:"div",className:"relative z-50",onClose:()=>i(),children:[(0,w.jsx)(tO.Child,{as:_.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,w.jsx)("div",{className:"fixed inset-0 bg-black/25"})}),(0,w.jsx)("div",{className:"fixed inset-0 flex items-end justify-center p-4 sm:items-center",children:(0,w.jsx)(tO.Child,{as:_.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,w.jsx)(rY.Panel,{className:S("bg-base-100 w-full max-w-lg overflow-auto rounded-2xl shadow-xl",r),children:t})})})]})})}),nt=e=>{let{sharedId:t,...r}=e,n="".concat(location.protocol,"//").concat(location.host,"?id=").concat(t),i=()=>{navigator.clipboard.writeText(n)};return(0,w.jsxs)(ne,{className:"flex flex-col gap-2 p-2",...r,children:[(0,w.jsx)("h2",{className:"text-xl font-bold",children:"Generate a link for sharing!"}),(0,w.jsx)("button",{className:"btn btn-ghost normal-case",onClick:i,children:n}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)("button",{className:"btn btn-sm flex-1",onClick:i,children:"Copy"}),(0,w.jsx)("button",{className:"btn btn-sm btn-outline btn-error flex-1",onClick:r.onClose,children:"Close"})]})]})},nr=e=>{let{open:t,onClose:r}=e,{connectWallet:n,provider:i}=(0,r2.$)(),{saveSpace:o,loadSpaceFromFile:s,shareSpace:a}=(0,E.G)(),[l,u]=(0,_.useState)(""),{register:c,open:h}=r5();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(nt,{sharedId:l,...c}),(0,w.jsx)(rJ,{open:t,onClose:r,children:(0,w.jsxs)("div",{className:"flex flex-col",children:[Boolean(i)||(0,w.jsx)("div",{className:"w-full border-b-2 p-2",children:(0,w.jsx)("button",{className:"btn w-full",onClick:n,children:"ConnectWallet"})}),(0,w.jsx)("button",{className:"btn btn-ghost justify-start normal-case",onClick:()=>console.log(o()),children:"Save as JSON"}),(0,w.jsxs)("button",{className:"btn btn-ghost relative justify-start normal-case",children:["Load from JSON",(0,w.jsx)("input",{type:"file",className:"absolute inset-0 opacity-0",accept:"application/json",onChange(e){var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&s(r)}})]}),(0,w.jsx)("button",{className:"btn btn-ghost justify-start normal-case",onClick:()=>a().then(u).then(r).then(h),children:"Share This Space"})]})})]})},nn=()=>{let[e,t]=(0,_.useState)(!1);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(nr,{open:e,onClose:()=>t(!1)}),(0,w.jsx)("header",{className:"fixed z-10 w-full max-w-screen-lg",children:(0,w.jsxs)("nav",{className:"navbar justify-between",children:[(0,w.jsx)("button",{className:"btn btn-ghost px-2 text-lg normal-case sm:text-2xl",children:"Contract Tester"}),(0,w.jsx)("div",{className:"flex-1"}),(0,w.jsx)("button",{className:"btn btn-ghost btn-square",onClick:()=>t(!0),children:(0,w.jsx)(r9,{className:"w-10"})})]})})]})};var ni=r(5152),no=r.n(ni);let ns=e=>{let{children:t}=e;return(0,w.jsx)(w.Fragment,{children:t})},na=no()(()=>Promise.resolve(ns),{ssr:!1})},9091:function(e,t,r){"use strict";r.d(t,{G:function(){return a}});var n=r(8601),i=r(9613),o=r(9067),s=r(4480);let a=()=>{let{loadContract:e}=(0,n.rt)(),{removeContract:t}=(0,n.Zp)(),r=(0,s.sJ)(i.hF),[a,l]=(0,s.FV)(i.xn),u=(0,s.sJ)(o.g),c=a?r[a]:null,{saveSpace:h}=(0,n.BS)(),{loadSpaceFromFile:f}=(0,n.Rk)(),{shareSpace:d}=(0,n.s9)(),{loadSpaceFromShare:p}=(0,n.BL)();return{loadContract:e,removeContract:t,contractDataList:r,contractTag:a,setContractTag:l,contract:u,contractData:c,saveSpace:h,loadSpaceFromFile:f,shareSpace:d,loadSpaceFromShare:p}}},9614:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=r(9291),i=r(4480);let o=()=>{let{connectWallet:e}=(0,n.O)(),t=(0,i.sJ)(n.A);return{connectWallet:e,provider:t}}},6505:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(5893),i=r(4480),o=r(4481);function s(e){let{Component:t,pageProps:r}=e;return(0,n.jsx)(o.ri,{children:(0,n.jsx)(i.Wh,{children:(0,n.jsx)(t,{...r})})})}r(4703)},9613:function(e,t,r){"use strict";r.d(t,{hF:function(){return l},xn:function(){return a},z3:function(){return u}});var n=r(4480),i=r(6983);let{persistAtom:o}=(0,i.J)(),s="/* already imported ethers for global\ninserted Web3Provider as provider to global\ninserted Loaded Contract as contract */\n\nconst signer = provider.getSigner();\nconst address = await signer.getAddress();\nconst balance = await provider.getBalance(address);\nconsole.log(`${address} has ${ethers.utils.formatEther(balance)}ETH`);\n",a=(0,n.cn)({key:"ContractTagState",default:null,effects:[o]}),l=(0,n.cn)({key:"ContractDataListState",default:{},effects:[o]}),u=(0,n.xu)({key:"ContractToolDataStates",default:()=>({byteCode:"",script:s}),effects:[o]})},8601:function(e,t,r){"use strict";let n,i,o,s,a,l;r.d(t,{rt:function(){return dk},Rk:function(){return dP},BL:function(){return dR},Zp:function(){return dT},BS:function(){return dx},s9:function(){return dC},cL:function(){return dN}});var u,c,h,f,d,p,g,m=r(3454);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let y=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):(64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t},v=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let s=e[r++],a=e[r++],l=e[r++],u=((7&i)<<18|(63&s)<<12|(63&a)<<6|63&l)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(1023&u))}else{let c=e[r++],h=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&c)<<6|63&h)}}return t.join("")},b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|u>>6,d=63&u;l||(d=64,s||(f=64)),n.push(r[c],r[h],r[f],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):v(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){let o=r[e.charAt(i++)],s=i<e.length,a=s?r[e.charAt(i)]:0;++i;let l=i<e.length,u=l?r[e.charAt(i)]:64;++i;let c=i<e.length,h=c?r[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw Error();let f=o<<2|a>>4;if(n.push(f),64!==u){let d=a<<4&240|u>>2;if(n.push(d),64!==h){let p=u<<6&192|h;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},w=function(e){let t=y(e);return b.encodeByteArray(t,!0)},E=function(e){return w(e).replace(/\./g,"")},A=function(e){try{return b.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function S(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function _(){return"object"==typeof indexedDB}function k(){return new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})}function T(){return"undefined"!=typeof navigator&&!!navigator.cookieEnabled}function N(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let x=()=>N().__FIREBASE_DEFAULTS__,P=()=>{if(void 0===m||void 0===m.env)return;let e=m.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},C=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let r=e&&A(e[1]);return r&&JSON.parse(r)},R=()=>{try{return x()||P()||C()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},I=e=>{var t,r;return null===(r=null===(t=R())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},O=e=>{let t=I(e);if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},M=()=>{var e;return null===(e=R())||void 0===e?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class D{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function L(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[E(JSON.stringify(r)),E(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let F="FirebaseError";class B extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=F,Object.setPrototypeOf(this,B.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],o=i?j(i,r):"Error",s=`${this.serviceName}: ${o} (${n}).`,a=new B(n,s,r);return a}}function j(e,t){return e.replace(V,(e,r)=>{let n=t[r];return null!=n?String(n):`<${r}?>`})}let V=/\{\$([^}]+)}/g;function G(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);for(let i of r){if(!n.includes(i))return!1;let o=e[i],s=t[i];if(z(o)&&z(s)){if(!G(o,s))return!1}else if(o!==s)return!1}for(let a of n)if(!r.includes(a))return!1;return!0}function z(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let q=1e3,H=2,K=144e5,W=.5;function $(e,t=q,r=H){let n=t*Math.pow(r,e),i=Math.round(W*n*(Math.random()-.5)*2);return Math.min(K,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Y(e){return e&&e._delegate?e._delegate:e}class J{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let Q="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class X{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new D;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&r.resolve(n)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(ee(e))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(t){}for(let[r,n]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(r);try{let o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch(s){}}}}clearInstance(e=Q){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=Q){return this.instances.has(e)}getOptions(e=Q){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[i,o]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(i);r===s&&o.resolve(n)}return n}onInit(e,t){var r;let n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);let o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch(i){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(n){}return r||null}normalizeInstanceIdentifier(e=Q){return this.component?this.component.multipleInstances?e:Q:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Z(e){return e===Q?void 0:e}function ee(e){return"EAGER"===e.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class et{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){let t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new X(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let er=[];(np=ng||(ng={}))[np.DEBUG=0]="DEBUG",np[np.VERBOSE=1]="VERBOSE",np[np.INFO=2]="INFO",np[np.WARN=3]="WARN",np[np.ERROR=4]="ERROR",np[np.SILENT=5]="SILENT";let en={debug:ng.DEBUG,verbose:ng.VERBOSE,info:ng.INFO,warn:ng.WARN,error:ng.ERROR,silent:ng.SILENT},ei=ng.INFO,eo={[ng.DEBUG]:"log",[ng.VERBOSE]:"log",[ng.INFO]:"info",[ng.WARN]:"warn",[ng.ERROR]:"error"},es=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=eo[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ea{constructor(e){this.name=e,this._logLevel=ei,this._logHandler=es,this._userLogHandler=null,er.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ng))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?en[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ng.DEBUG,...e),this._logHandler(this,ng.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ng.VERBOSE,...e),this._logHandler(this,ng.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ng.INFO,...e),this._logHandler(this,ng.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ng.WARN,...e),this._logHandler(this,ng.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ng.ERROR,...e),this._logHandler(this,ng.ERROR,...e)}}let el=(e,t)=>t.some(t=>e instanceof t);function eu(){return n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ec(){return i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let eh=new WeakMap,ef=new WeakMap,ed=new WeakMap,ep=new WeakMap,eg=new WeakMap;function em(e){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(eA(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&eh.set(t,e)}).catch(()=>{}),eg.set(t,e),t}function ey(e){if(ef.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});ef.set(e,t)}let ev={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return ef.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ed.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return eA(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function eb(e){ev=e(ev)}function ew(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?ec().includes(e)?function(...t){return e.apply(eS(this),t),eA(eh.get(this))}:function(...t){return eA(e.apply(eS(this),t))}:function(t,...r){let n=e.call(eS(this),t,...r);return ed.set(n,t.sort?t.sort():[t]),eA(n)}}function eE(e){return"function"==typeof e?ew(e):(e instanceof IDBTransaction&&ey(e),el(e,eu()))?new Proxy(e,ev):e}function eA(e){if(e instanceof IDBRequest)return em(e);if(ep.has(e))return ep.get(e);let t=eE(e);return t!==e&&(ep.set(e,t),eg.set(t,e)),t}let eS=e=>eg.get(e);function e_(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=eA(s);return n&&s.addEventListener("upgradeneeded",e=>{n(eA(s.result),e.oldVersion,e.newVersion,eA(s.transaction))}),r&&s.addEventListener("blocked",()=>r()),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}let ek=["get","getKey","getAll","getAllKeys","count"],eT=["put","add","delete","clear"],eN=new Map;function ex(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eN.get(t))return eN.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=eT.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ek.includes(r)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),s=o.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&o.done]))[0]};return eN.set(t,o),o}eb(e=>({...e,get:(t,r,n)=>ex(t,r)||e.get(t,r,n),has:(t,r)=>!!ex(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class eP{constructor(e){this.container=e}getPlatformInfoString(){let e=this.container.getProviders();return e.map(e=>{if(!eC(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}function eC(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}let eR="@firebase/app",eI="0.8.3",eO=new ea("@firebase/app"),eM="@firebase/app-compat",eD="@firebase/analytics-compat",eL="@firebase/analytics",eF="@firebase/app-check-compat",eB="@firebase/app-check",eU="@firebase/auth",ej="@firebase/auth-compat",eV="@firebase/database",eG="@firebase/database-compat",ez="@firebase/functions",eq="@firebase/functions-compat",eH="@firebase/installations",eK="@firebase/installations-compat",eW="@firebase/messaging",e$="@firebase/messaging-compat",eY="@firebase/performance",eJ="@firebase/performance-compat",eQ="@firebase/remote-config",eX="@firebase/remote-config-compat",eZ="@firebase/storage",e0="@firebase/storage-compat",e1="@firebase/firestore",e2="@firebase/firestore-compat",e3="firebase",e6="9.13.0",e4="[DEFAULT]",e5={[eR]:"fire-core",[eM]:"fire-core-compat",[eL]:"fire-analytics",[eD]:"fire-analytics-compat",[eB]:"fire-app-check",[eF]:"fire-app-check-compat",[eU]:"fire-auth",[ej]:"fire-auth-compat",[eV]:"fire-rtdb",[eG]:"fire-rtdb-compat",[ez]:"fire-fn",[eq]:"fire-fn-compat",[eH]:"fire-iid",[eK]:"fire-iid-compat",[eW]:"fire-fcm",[e$]:"fire-fcm-compat",[eY]:"fire-perf",[eJ]:"fire-perf-compat",[eQ]:"fire-rc",[eX]:"fire-rc-compat",[eZ]:"fire-gcs",[e0]:"fire-gcs-compat",[e1]:"fire-fst",[e2]:"fire-fst-compat","fire-js":"fire-js",[e3]:"fire-js-all"},e8=new Map,e7=new Map;function e9(e,t){try{e.container.addComponent(t)}catch(r){eO.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function te(e){let t=e.name;if(e7.has(t))return eO.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(e7.set(t,e),e8.values()))e9(r,e);return!0}function tt(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let tr={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},tn=new U("app","Firebase",tr);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ti{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new J("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let to=e6;function ts(e,t={}){let r=e;if("object"!=typeof t){let n=t;t={name:n}}let i=Object.assign({name:e4,automaticDataCollectionEnabled:!1},t),o=i.name;if("string"!=typeof o||!o)throw tn.create("bad-app-name",{appName:String(o)});if(r||(r=M()),!r)throw tn.create("no-options");let s=e8.get(o);if(s){if(G(r,s.options)&&G(i,s.config))return s;throw tn.create("duplicate-app",{appName:o})}let a=new et(o);for(let l of e7.values())a.addComponent(l);let u=new ti(r,i,a);return e8.set(o,u),u}function ta(e=e4){let t=e8.get(e);if(!t&&e===e4)return ts();if(!t)throw tn.create("no-app",{appName:e});return t}function tl(e,t,r){var n;let i=null!==(n=e5[e])&&void 0!==n?n:e;r&&(i+=`-${r}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eO.warn(a.join(" "));return}te(new J(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let tu="firebase-heartbeat-database",tc=1,th="firebase-heartbeat-store",tf=null;function td(){return tf||(tf=e_(tu,tc,{upgrade(e,t){0===t&&e.createObjectStore(th)}}).catch(e=>{throw tn.create("idb-open",{originalErrorMessage:e.message})})),tf}async function tp(e){var t;try{let r=await td();return r.transaction(th).objectStore(th).get(tm(e))}catch(i){if(i instanceof B)eO.warn(i.message);else{let n=tn.create("idb-get",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message});eO.warn(n.message)}}}async function tg(e,t){var r;try{let n=await td(),i=n.transaction(th,"readwrite"),o=i.objectStore(th);return await o.put(t,tm(e)),i.done}catch(a){if(a instanceof B)eO.warn(a.message);else{let s=tn.create("idb-set",{originalErrorMessage:null===(r=a)||void 0===r?void 0:r.message});eO.warn(s.message)}}}function tm(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let ty=1024,tv=2592e6;class tb{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tA(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),r=tw();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf(),r=Date.now();return r-t<=tv}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=tw(),{heartbeatsToSend:t,unsentEntries:r}=tE(this._heartbeatsCache.heartbeats),n=E(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function tw(){let e=new Date;return e.toISOString().substring(0,10)}function tE(e,t=ty){let r=[],n=e.slice();for(let i of e){let o=r.find(e=>e.agent===i.agent);if(o){if(o.dates.push(i.date),tS(r)>t){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),tS(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class tA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!_()&&k().then(()=>!0).catch(()=>!1)}async read(){let e=await this._canUseIndexedDBPromise;if(!e)return{heartbeats:[]};{let t=await tp(this.app);return t||{heartbeats:[]}}}async overwrite(e){var t;let r=await this._canUseIndexedDBPromise;if(r){let n=await this.read();return tg(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;let r=await this._canUseIndexedDBPromise;if(r){let n=await this.read();return tg(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function tS(e){return E(JSON.stringify({version:2,heartbeats:e})).length}te(new J("platform-logger",e=>new eP(e),"PRIVATE")),te(new J("heartbeat",e=>new tb(e),"PRIVATE")),tl(eR,eI,""),tl(eR,eI,"esm2017"),tl("fire-js","");let t_="@firebase/installations",tk="0.5.16",tT=1e4,tN=`w:${tk}`,tx="FIS_v2",tP="https://firebaseinstallations.googleapis.com/v1",tC=36e5,tR="installations",tI="Installations",tO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},tM=new U(tR,tI,tO);function tD(e){return e instanceof B&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function tL({projectId:e}){return`${tP}/projects/${e}/installations`}function tF(e){return{token:e.token,requestStatus:2,expiresIn:tG(e.expiresIn),creationTime:Date.now()}}async function tB(e,t){let r=await t.json(),n=r.error;return tM.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function tU({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function tj(e,{refreshToken:t}){let r=tU(e);return r.append("Authorization",tz(t)),r}async function tV(e){let t=await e();return t.status>=500&&t.status<600?e():t}function tG(e){return Number(e.replace("s","000"))}function tz(e){return`${tx} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function tq({appConfig:e,heartbeatServiceProvider:t},{fid:r}){let n=tL(e),i=tU(e),o=t.getImmediate({optional:!0});if(o){let s=await o.getHeartbeatsHeader();s&&i.append("x-firebase-client",s)}let a={fid:r,authVersion:tx,appId:e.appId,sdkVersion:tN},l={method:"POST",headers:i,body:JSON.stringify(a)},u=await tV(()=>fetch(n,l));if(u.ok){let c=await u.json(),h={fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:tF(c.authToken)};return h}throw await tB("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function tH(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function tK(e){let t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let tW=/^[cdef][\w-]{21}$/,t$="";function tY(){try{let e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;let r=tJ(e);return tW.test(r)?r:t$}catch(n){return t$}}function tJ(e){let t=tK(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function tQ(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let tX=new Map;function tZ(e,t){let r=tQ(e);t0(r,t),t1(r,t)}function t0(e,t){let r=tX.get(e);if(r)for(let n of r)n(t)}function t1(e,t){let r=t3();r&&r.postMessage({key:e,fid:t}),t6()}let t2=null;function t3(){return!t2&&"BroadcastChannel"in self&&((t2=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{t0(e.data.key,e.data.fid)}),t2}function t6(){0===tX.size&&t2&&(t2.close(),t2=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let t4="firebase-installations-database",t5=1,t8="firebase-installations-store",t7=null;function t9(){return t7||(t7=e_(t4,t5,{upgrade(e,t){0===t&&e.createObjectStore(t8)}})),t7}async function re(e,t){let r=tQ(e),n=await t9(),i=n.transaction(t8,"readwrite"),o=i.objectStore(t8),s=await o.get(r);return await o.put(t,r),await i.done,s&&s.fid===t.fid||tZ(e,t.fid),t}async function rt(e){let t=tQ(e),r=await t9(),n=r.transaction(t8,"readwrite");await n.objectStore(t8).delete(t),await n.done}async function rr(e,t){let r=tQ(e),n=await t9(),i=n.transaction(t8,"readwrite"),o=i.objectStore(t8),s=await o.get(r),a=t(s);return void 0===a?await o.delete(r):await o.put(a,r),await i.done,a&&(!s||s.fid!==a.fid)&&tZ(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function rn(e){let t;let r=await rr(e.appConfig,r=>{let n=ri(r),i=ro(e,n);return t=i.registrationPromise,i.installationEntry});return r.fid===t$?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function ri(e){let t=e||{fid:tY(),registrationStatus:0};return ru(t)}function ro(e,t){if(0===t.registrationStatus){if(!navigator.onLine){let r=Promise.reject(tM.create("app-offline"));return{installationEntry:t,registrationPromise:r}}let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=rs(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ra(e)}:{installationEntry:t}}async function rs(e,t){try{let r=await tq(e,t);return re(e.appConfig,r)}catch(n){throw tD(n)&&409===n.customData.serverCode?await rt(e.appConfig):await re(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function ra(e){let t=await rl(e.appConfig);for(;1===t.registrationStatus;)await tH(100),t=await rl(e.appConfig);if(0===t.registrationStatus){let{installationEntry:r,registrationPromise:n}=await rn(e);return n||r}return t}function rl(e){return rr(e,e=>{if(!e)throw tM.create("installation-not-found");return ru(e)})}function ru(e){return rc(e)?{fid:e.fid,registrationStatus:0}:e}function rc(e){return 1===e.registrationStatus&&e.registrationTime+tT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function rh({appConfig:e,heartbeatServiceProvider:t},r){let n=rf(e,r),i=tj(e,r),o=t.getImmediate({optional:!0});if(o){let s=await o.getHeartbeatsHeader();s&&i.append("x-firebase-client",s)}let a={installation:{sdkVersion:tN,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},u=await tV(()=>fetch(n,l));if(u.ok){let c=await u.json(),h=tF(c);return h}throw await tB("Generate Auth Token",u)}function rf(e,{fid:t}){return`${tL(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function rd(e,t=!1){let r;let n=await rr(e.appConfig,n=>{if(!ry(n))throw tM.create("not-registered");let i=n.authToken;if(!t&&rv(i))return n;if(1===i.requestStatus)return r=rp(e,t),n;{if(!navigator.onLine)throw tM.create("app-offline");let o=rw(n);return r=rm(e,o),o}}),i=r?await r:n.authToken;return i}async function rp(e,t){let r=await rg(e.appConfig);for(;1===r.authToken.requestStatus;)await tH(100),r=await rg(e.appConfig);let n=r.authToken;return 0===n.requestStatus?rd(e,t):n}function rg(e){return rr(e,e=>{if(!ry(e))throw tM.create("not-registered");let t=e.authToken;return rE(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rm(e,t){try{let r=await rh(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await re(e.appConfig,n),r}catch(o){if(tD(o)&&(401===o.customData.serverCode||404===o.customData.serverCode))await rt(e.appConfig);else{let i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await re(e.appConfig,i)}throw o}}function ry(e){return void 0!==e&&2===e.registrationStatus}function rv(e){return 2===e.requestStatus&&!rb(e)}function rb(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+tC}function rw(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function rE(e){return 1===e.requestStatus&&e.requestTime+tT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function rA(e){let t=e,{installationEntry:r,registrationPromise:n}=await rn(t);return n?n.catch(console.error):rd(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function rS(e,t=!1){let r=e;await r_(r);let n=await rd(r,t);return n.token}async function r_(e){let{registrationPromise:t}=await rn(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function rk(e){if(!e||!e.options)throw rT("App Configuration");if(!e.name)throw rT("App Name");let t=["projectId","apiKey","appId"];for(let r of t)if(!e.options[r])throw rT(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function rT(e){return tM.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let rN="installations",rx="installations-internal",rP=e=>{let t=e.getProvider("app").getImmediate(),r=rk(t),n=tt(t,"heartbeat"),i={app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()};return i},rC=e=>{let t=e.getProvider("app").getImmediate(),r=tt(t,rN).getImmediate(),n={getId:()=>rA(r),getToken:e=>rS(r,e)};return n};te(new J(rN,rP,"PUBLIC")),te(new J(rx,rC,"PRIVATE")),tl(t_,tk),tl(t_,tk,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let rR="analytics",rI="firebase_id",rO="origin",rM=6e4,rD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rL="https://www.googletagmanager.com/gtag/js",rF=new ea("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function rB(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function rU(e,t){let r=document.createElement("script");r.src=`${rL}?l=${e}&id=${t}`,r.async=!0,document.head.appendChild(r)}function rj(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function rV(e,t,r,n,i,o){let s=n[i];try{if(s)await t[s];else{let a=await rB(r),l=a.find(e=>e.measurementId===i);l&&await t[l.appId]}}catch(u){rF.error(u)}e("config",i,o)}async function rG(e,t,r,n,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=await rB(r);for(let l of s){let u=a.find(e=>e.measurementId===l),c=u&&t[u.appId];if(c)o.push(c);else{o=[];break}}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",n,i||{})}catch(h){rF.error(h)}}function rz(e,t,r,n){return async function(i,o,s){try{"event"===i?await rG(e,t,r,o,s):"config"===i?await rV(e,t,r,n,o,s):"consent"===i?e("consent","update",s):e("set",o)}catch(a){rF.error(a)}}}function rq(e,t,r,n,i){let o=function(...e){window[n].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=rz(o,e,t,r),{gtagCore:o,wrappedGtag:window[i]}}function rH(e){let t=window.document.getElementsByTagName("script");for(let r of Object.values(t))if(r.src&&r.src.includes(rL)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let rK={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},rW=new U("analytics","Analytics",rK),r$=30,rY=1e3;class rJ{constructor(e={},t=rY){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}let rQ=new rJ;function rX(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function rZ(e){var t;let{appId:r,apiKey:n}=e,i={method:"GET",headers:rX(n)},o=rD.replace("{app-id}",r),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{let l=await s.json();(null===(t=l.error)||void 0===t?void 0:t.message)&&(a=l.error.message)}catch(u){}throw rW.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function r0(e,t=rQ,r){let{appId:n,apiKey:i,measurementId:o}=e.options;if(!n)throw rW.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:n};throw rW.create("no-api-key")}let s=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new r6;return setTimeout(async()=>{a.abort()},void 0!==r?r:rM),r1({appId:n,apiKey:i,measurementId:o},s,a,t)}async function r1(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=rQ){var o,s;let{appId:a,measurementId:l}=e;try{await r2(n,t)}catch(u){if(l)return rF.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(o=u)||void 0===o?void 0:o.message}]`),{appId:a,measurementId:l};throw u}try{let c=await rZ(e);return i.deleteThrottleMetadata(a),c}catch(p){let h=p;if(!r3(h)){if(i.deleteThrottleMetadata(a),l)return rF.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null==h?void 0:h.message}]`),{appId:a,measurementId:l};throw p}let f=503===Number(null===(s=null==h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?$(r,i.intervalMillis,r$):$(r,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:r+1};return i.setThrottleMetadata(a,d),rF.debug(`Calling attemptFetch again in ${f} millis`),r1(e,d,n,i)}}function r2(e,t){return new Promise((r,n)=>{let i=Math.max(t-Date.now(),0),o=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(o),n(rW.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function r3(e){if(!(e instanceof B)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class r6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function r4(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}{let o=await t,s=Object.assign(Object.assign({},n),{send_to:o});e("event",r,s)}}function r5(e){s=e}function r8(e){o=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function r7(){var e;if(!_())return rF.warn(rW.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await k()}catch(t){return rF.warn(rW.create("indexeddb-unavailable",{errorInfo:null===(e=t)||void 0===e?void 0:e.toString()}).message),!1}return!0}async function r9(e,t,r,n,i,a,l){var u;let c=r0(e);c.then(t=>{r[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&rF.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>rF.error(e)),t.push(c);let h=r7().then(e=>e?n.getId():void 0),[f,d]=await Promise.all([c,h]);rH(a)||rU(a,f.measurementId),s&&(i("consent","default",s),r5(void 0)),i("js",new Date);let p=null!==(u=null==l?void 0:l.config)&&void 0!==u?u:{};return p[rO]="firebase",p.update=!0,null!=d&&(p[rI]=d),i("config",f.measurementId,p),o&&(i("set",o),r8(void 0)),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ne{constructor(e){this.app=e}_delete(){return delete nt[this.app.options.appId],Promise.resolve()}}let nt={},nr=[],nn={},ni="dataLayer",no="gtag",ns=!1;function na(){let e=[];if(S()&&e.push("This is a browser extension environment."),T()||e.push("Cookies are not available."),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),r=rW.create("invalid-analytics-context",{errorInfo:t});rF.warn(r.message)}}function nl(e,t,r){na();let n=e.options.appId;if(!n)throw rW.create("no-app-id");if(!e.options.apiKey){if(e.options.measurementId)rF.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw rW.create("no-api-key")}if(null!=nt[n])throw rW.create("already-exists",{id:n});if(!ns){rj(ni);let{wrappedGtag:i,gtagCore:o}=rq(nt,nr,nn,ni,no);l=i,a=o,ns=!0}nt[n]=r9(e,nr,nn,t,a,ni,r);let s=new ne(e);return s}function nu(e=ta()){e=Y(e);let t=tt(e,rR);return t.isInitialized()?t.getImmediate():nc(e)}function nc(e,t={}){let r=tt(e,rR);if(r.isInitialized()){let n=r.getImmediate();if(G(t,r.getOptions()))return n;throw rW.create("already-initialized")}let i=r.initialize({options:t});return i}function nh(e,t,r,n){r4(l,nt[(e=Y(e)).app.options.appId],t,r,n).catch(e=>rF.error(e))}let nf="@firebase/analytics",nd="0.8.4";(function(){function e(e){try{let t=e.getProvider(rR).getImmediate();return{logEvent:(e,r,n)=>nh(t,e,r,n)}}catch(r){throw rW.create("interop-component-reg-failed",{reason:r})}}te(new J(rR,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),n=e.getProvider("installations-internal").getImmediate();return nl(r,n,t)},"PUBLIC")),te(new J("analytics-internal",e,"PRIVATE")),tl(nf,nd),tl(nf,nd,"esm2017")})(),/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ tl("firebase","9.13.0","app");var np,ng,nm,ny="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},nv={},nb=nb||{},nw=ny||self;function nE(){}function nA(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function nS(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function n_(e){return Object.prototype.hasOwnProperty.call(e,nk)&&e[nk]||(e[nk]=++nT)}var nk="closure_uid_"+(1e9*Math.random()>>>0),nT=0;function nN(e,t,r){return e.call.apply(e.bind,arguments)}function nx(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function nP(e,t,r){return(nP=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nN:nx).apply(null,arguments)}function nC(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function nR(e,t){function r(){}r.prototype=t.prototype,e.X=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Wb=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}}function nI(){this.s=this.s,this.o=this.o}var nO=0;nI.prototype.s=!1,nI.prototype.na=function(){this.s||(this.s=!0,this.M(),0==nO)||n_(this)},nI.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let nM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return -1};function nD(e){let t=e.length;if(0<t){let r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function nL(e,t){for(let r=1;r<arguments.length;r++){let n=arguments[r];if(nA(n)){let i=e.length||0,o=n.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=n[s]}else e.push(n)}}function nF(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}nF.prototype.h=function(){this.defaultPrevented=!0};var nB=function(){if(!nw.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{nw.addEventListener("test",nE,t),nw.removeEventListener("test",nE,t)}catch(r){}return e}();function nU(e){return/^[\s\xa0]*$/.test(e)}var nj=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function nV(e,t){return e<t?-1:e>t?1:0}function nG(){var e=nw.navigator;return e&&(e=e.userAgent)?e:""}function nz(e){return -1!=nG().indexOf(e)}function nq(e){return nq[" "](e),e}function nH(e){var t=n3;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}nq[" "]=nE;var nK=nz("Opera"),nW=nz("Trident")||nz("MSIE"),n$=nz("Edge"),nY=n$||nW,nJ=nz("Gecko")&&!(-1!=nG().toLowerCase().indexOf("webkit")&&!nz("Edge"))&&!(nz("Trident")||nz("MSIE"))&&!nz("Edge"),nQ=-1!=nG().toLowerCase().indexOf("webkit")&&!nz("Edge");function nX(){var e=nw.document;return e?e.documentMode:void 0}e:{var nZ,n0="",n1=(nZ=nG(),nJ?/rv:([^\);]+)(\)|;)/.exec(nZ):n$?/Edge\/([\d\.]+)/.exec(nZ):nW?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(nZ):nQ?/WebKit\/(\S+)/.exec(nZ):nK?/(?:Version)[ \/]?(\S+)/.exec(nZ):void 0);if(n1&&(n0=n1?n1[1]:""),nW){var n2=nX();if(null!=n2&&n2>parseFloat(n0)){c=String(n2);break e}}c=n0}var n3={};function n6(){return nH(function(){let e=0,t=nj(String(c)).split("."),r=nj("9").split("."),n=Math.max(t.length,r.length);for(let i=0;0==e&&i<n;i++){var o=t[i]||"",s=r[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=nV(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||nV(0==o[2].length,0==s[2].length)||nV(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e})}var n4=h=nw.document&&nW&&(nX()||parseInt(c,10))||void 0;function n5(e,t){if(nF.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nJ){e:{try{nq(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:n8[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&n5.X.h.call(this)}}nR(n5,nF);var n8={2:"touch",3:"pen",4:"mouse"};n5.prototype.h=function(){n5.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var n7="closure_listenable_"+(1e6*Math.random()|0),n9=0;function ie(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=i,this.key=++n9,this.ba=this.ea=!1}function it(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ir(e,t,r){for(let n in e)t.call(r,e[n],n,e)}function ii(e){let t={};for(let r in e)t[r]=e[r];return t}let io="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function is(e,t){let r,n;for(let i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(let o=0;o<io.length;o++)r=io[o],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function ia(e){this.src=e,this.g={},this.h=0}function il(e,t){var r=t.type;if(r in e.g){var n,i=e.g[r],o=nM(i,t);(n=0<=o)&&Array.prototype.splice.call(i,o,1),n&&(it(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function iu(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ba&&o.listener==t&&!!r==o.capture&&o.ha==n)return i}return -1}ia.prototype.add=function(e,t,r,n,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=iu(e,t,n,i);return -1<s?(t=e[s],r||(t.ea=!1)):((t=new ie(t,this.src,o,!!n,i)).ea=r,e.push(t)),t};var ic="closure_lm_"+(1e6*Math.random()|0),ih={};function id(e,t,r,n,i){if(n&&n.once)return im(e,t,r,n,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)id(e,t[o],r,n,i);return null}return r=iS(r),e&&e[n7]?e.N(t,r,nS(n)?!!n.capture:!!n,i):ip(e,t,r,!1,n,i)}function ip(e,t,r,n,i,o){if(!t)throw Error("Invalid event type");var s=nS(i)?!!i.capture:!!i,a=iE(e);if(a||(e[ic]=a=new ia(e)),(r=a.add(t,r,n,s,o)).proxy)return r;if(n=ig(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)nB||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(ib(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function ig(){function e(r){return t.call(e.src,e.listener,r)}let t=iw;return e}function im(e,t,r,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)im(e,t[o],r,n,i);return null}return r=iS(r),e&&e[n7]?e.O(t,r,nS(n)?!!n.capture:!!n,i):ip(e,t,r,!0,n,i)}function iy(e,t,r,n,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)iy(e,t[o],r,n,i);else(n=nS(n)?!!n.capture:!!n,r=iS(r),e&&e[n7])?(e=e.i,(t=String(t).toString())in e.g&&-1<(r=iu(o=e.g[t],r,n,i))&&(it(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=iE(e))&&(t=e.g[t.toString()],e=-1,t&&(e=iu(t,r,n,i)),(r=-1<e?t[e]:null)&&iv(r))}function iv(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[n7])il(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(ib(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=iE(t))?(il(r,e),0==r.h&&(r.src=null,t[ic]=null)):it(e)}}}function ib(e){return e in ih?ih[e]:ih[e]="on"+e}function iw(e,t){if(e.ba)e=!0;else{t=new n5(t,this);var r=e.listener,n=e.ha||e.src;e.ea&&iv(e),e=r.call(n,t)}return e}function iE(e){return(e=e[ic])instanceof ia?e:null}var iA="__closure_events_fn_"+(1e9*Math.random()>>>0);function iS(e){return"function"==typeof e?e:(e[iA]||(e[iA]=function(t){return e.handleEvent(t)}),e[iA])}function i_(){nI.call(this),this.i=new ia(this),this.P=this,this.I=null}function ik(e,t){var r,n=e.I;if(n)for(r=[];n;n=n.I)r.push(n);if(e=e.P,n=t.type||t,"string"==typeof t)t=new nF(t,e);else if(t instanceof nF)t.target=t.target||e;else{var i=t;is(t=new nF(n,e),i)}if(i=!0,r)for(var o=r.length-1;0<=o;o--){var s=t.g=r[o];i=iT(s,n,!0,t)&&i}if(i=iT(s=t.g=e,n,!0,t)&&i,i=iT(s,n,!1,t)&&i,r)for(o=0;o<r.length;o++)i=iT(s=t.g=r[o],n,!1,t)&&i}function iT(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ba&&s.capture==r){var a=s.listener,l=s.ha||s.src;s.ea&&il(e.i,s),i=!1!==a.call(l,n)&&i}}return i&&!n.defaultPrevented}nR(i_,nI),i_.prototype[n7]=!0,i_.prototype.removeEventListener=function(e,t,r,n){iy(this,e,t,r,n)},i_.prototype.M=function(){if(i_.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)it(r[n]);delete t.g[e],t.h--}}this.I=null},i_.prototype.N=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},i_.prototype.O=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};var iN=nw.JSON.stringify;function ix(){var e=iL;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class iP{constructor(){this.h=this.g=null}add(e,t){let r=iC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var iC=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new iR,e=>e.reset());class iR{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iI(e){nw.setTimeout(()=>{throw e},0)}function iO(e,t){f||iM(),iD||(f(),iD=!0),iL.add(e,t)}function iM(){var e=nw.Promise.resolve(void 0);f=function(){e.then(iF)}}var iD=!1,iL=new iP;function iF(){for(var e;e=ix();){try{e.h.call(e.g)}catch(t){iI(t)}var r=iC;r.j(e),100>r.h&&(r.h++,e.next=r.g,r.g=e)}iD=!1}function iB(e,t){i_.call(this),this.h=e||1,this.g=t||nw,this.j=nP(this.lb,this),this.l=Date.now()}function iU(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ij(e,t,r){if("function"==typeof e)r&&(e=nP(e,r));else if(e&&"function"==typeof e.handleEvent)e=nP(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:nw.setTimeout(e,t||0)}function iV(e){e.g=ij(()=>{e.g=null,e.i&&(e.i=!1,iV(e))},e.j);let t=e.h;e.h=null,e.m.apply(null,t)}nR(iB,i_),(nm=iB.prototype).ca=!1,nm.R=null,nm.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ik(this,"tick"),this.ca&&(iU(this),this.start()))}},nm.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nm.M=function(){iB.X.M.call(this),iU(this),delete this.g};class iG extends nI{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iV(this)}M(){super.M(),this.g&&(nw.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function iz(e){nI.call(this),this.h=e,this.g={}}nR(iz,nI);var iq=[];function iH(e,t,r,n){Array.isArray(r)||(r&&(iq[0]=r.toString()),r=iq);for(var i=0;i<r.length;i++){var o=id(t,r[i],n||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function iK(e){ir(e.g,function(e,t){this.g.hasOwnProperty(t)&&iv(e)},e),e.g={}}function iW(){this.g=!0}function i$(e,t,r,n,i,o){e.info(function(){if(e.g){if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null}else s=o;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+t+"\n"+r+"\n"+s})}function iY(e,t,r,n,i,o,s){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+t+"\n"+r+"\n"+o+" "+s})}function iJ(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+iX(e,r)+(n?" "+n:"")})}function iQ(e,t){e.info(function(){return"TIMEOUT: "+t})}function iX(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}}return iN(r)}catch(a){return t}}iz.prototype.M=function(){iz.X.M.call(this),iK(this)},iz.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iW.prototype.Aa=function(){this.g=!1},iW.prototype.info=function(){};var iZ={},i0=null;function i1(){return i0=i0||new i_}function i2(e){nF.call(this,iZ.Pa,e)}function i3(e){let t=i1();ik(t,new i2(t))}function i6(e,t){nF.call(this,iZ.STAT_EVENT,e),this.stat=t}function i4(e){let t=i1();ik(t,new i6(t,e))}function i5(e,t){nF.call(this,iZ.Qa,e),this.size=t}function i8(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return nw.setTimeout(function(){e()},t)}iZ.Pa="serverreachability",nR(i2,nF),iZ.STAT_EVENT="statevent",nR(i6,nF),iZ.Qa="timingevent",nR(i5,nF);var i7={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},i9={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function oe(){}function ot(e){return e.h||(e.h=e.i())}function or(){}oe.prototype.h=null;var on={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function oi(){nF.call(this,"d")}function oo(){nF.call(this,"c")}function os(){}function oa(e,t,r,n){this.l=e,this.j=t,this.m=r,this.U=n||1,this.S=new iz(this),this.O=ou,e=nY?125:void 0,this.T=new iB(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ol}function ol(){this.i=null,this.g="",this.h=!1}nR(oi,nF),nR(oo,nF),nR(os,oe),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},d=new os;var ou=45e3,oc={},oh={};function of(e,t,r){e.K=1,e.v=oM(oP(t)),e.s=r,e.P=!0,od(e,null)}function od(e,t){e.F=Date.now(),oy(e),e.A=oP(e.v);var r=e.A,n=e.U;Array.isArray(n)||(n=[String(n)]),oW(r.i,"t",n),e.C=0,r=e.l.H,e.h=new ol,e.g=sV(e.l,r?t:null,!e.s),0<e.N&&(e.L=new iG(nP(e.La,e,e.g),e.N)),iH(e.S,e.g,"readystatechange",e.ib),t=e.H?ii(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),i3(),i$(e.j,e.u,e.A,e.m,e.U,e.s)}function op(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Da}function og(e,t,r){let n=!0,i;for(;!e.I&&e.C<r.length;)if((i=om(e,r))==oh){4==t&&(e.o=4,i4(14),n=!1),iJ(e.j,e.m,null,"[Incomplete Response]");break}else if(i==oc){e.o=4,i4(15),iJ(e.j,e.m,r,"[Invalid Chunk]"),n=!1;break}else iJ(e.j,e.m,i,null),oA(e,i);op(e)&&i!=oh&&i!=oc&&(e.h.g="",e.C=0),4!=t||0!=r.length||e.h.h||(e.o=1,i4(16),n=!1),e.i=e.i&&n,n?0<r.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),sO(t),t.K=!0,i4(11))):(iJ(e.j,e.m,r,"[Invalid Chunked Response]"),oE(e),ow(e))}function om(e,t){var r=e.C,n=t.indexOf("\n",r);return -1==n?oh:isNaN(r=Number(t.substring(r,n)))?oc:(n+=1)+r>t.length?oh:(t=t.substr(n,r),e.C=n+r,t)}function oy(e){e.V=Date.now()+e.O,ov(e,e.O)}function ov(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=i8(nP(e.gb,e),t)}function ob(e){e.B&&(nw.clearTimeout(e.B),e.B=null)}function ow(e){0==e.l.G||e.I||sL(e.l,e)}function oE(e){ob(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,iU(e.T),iK(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function oA(e,t){try{var r=e.l;if(0!=r.G&&(r.g==e||o1(r.h,e))){if(!e.J&&o1(r.h,e)&&3==r.G){try{var n=r.Fa.g.parse(t)}catch(i){n=null}if(Array.isArray(n)&&3==n.length){var o=n;if(0==o[0]){e:if(!r.u){if(r.g){if(r.g.F+3e3<e.F)sD(r),s_(r);else break e}sI(r),i4(18)}}else r.Ba=o[1],0<r.Ba-r.T&&37500>o[2]&&r.L&&0==r.A&&!r.v&&(r.v=i8(nP(r.cb,r),6e3));if(1>=o0(r.h)&&r.ja){try{r.ja()}catch(s){}r.ja=void 0}}else sB(r,11)}else if((e.J||r.g==e)&&sD(r),!nU(t))for(o=r.Fa.g.parse(t),t=0;t<o.length;t++){let a=o[t];if(r.T=a[0],a=a[1],2==r.G){if("c"==a[0]){r.I=a[1],r.ka=a[2];let l=a[3];null!=l&&(r.ma=l,r.j.info("VER="+r.ma));let u=a[4];null!=u&&(r.Ca=u,r.j.info("SVER="+r.Ca));let c=a[5];null!=c&&"number"==typeof c&&0<c&&(n=1.5*c,r.J=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;let h=e.g;if(h){let f=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var d=n.h;d.g||-1==f.indexOf("spdy")&&-1==f.indexOf("quic")&&-1==f.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(o2(d,d.h),d.h=null))}if(n.D){let p=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(n.za=p,oO(n.F,n.D,p))}}r.G=3,r.l&&r.l.xa(),r.$&&(r.P=Date.now()-e.F,r.j.info("Handshake RTT: "+r.P+"ms")),n=r;var g=e;if(n.sa=sj(n,n.H?n.ka:null,n.V),g.J){o3(n.h,g);var m=g,y=n.J;y&&m.setTimeout(y),m.B&&(ob(m),oy(m)),n.g=g}else sR(n);0<r.i.length&&sT(r)}else"stop"!=a[0]&&"close"!=a[0]||sB(r,7)}else 3==r.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?sB(r,7):sS(r):"noop"!=a[0]&&r.l&&r.l.wa(a),r.A=0)}}i3(4)}catch(v){}}function oS(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(nA(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}function o_(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(nA(e)||"string"==typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}for(let n in t=[],r=0,e)t[r++]=n;return t}}}function ok(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nA(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=o_(e),n=oS(e),i=n.length,o=0;o<i;o++)t.call(void 0,n[o],r&&r[o],e)}(nm=oa.prototype).setTimeout=function(e){this.O=e},nm.ib=function(e){e=e.target;let t=this.L;t&&3==sy(e)?t.l():this.La(e)},nm.La=function(e){try{if(e==this.g)e:{let t=sy(this.g);var r=this.g.Ea();let n=this.g.aa();if(!(3>t)&&(3!=t||nY||this.g&&(this.h.h||this.g.fa()||sv(this.g)))){this.I||4!=t||7==r||(8==r||0>=n?i3(3):i3(2)),ob(this);var i=this.g.aa();this.Y=i;t:if(op(this)){var o=sv(this.g);e="";var s=o.length,a=4==sy(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){oE(this),ow(this);var l="";break t}this.h.i=new nw.TextDecoder}for(r=0;r<s;r++)this.h.h=!0,e+=this.h.i.decode(o[r],{stream:a&&r==s-1});o.splice(0,s),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==i,iY(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nU(u)){var h=u;break t}}h=null}if(i=h)iJ(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oA(this,i);else{this.i=!1,this.o=3,i4(12),oE(this),ow(this);break e}}this.P?(og(this,t,l),nY&&this.i&&3==t&&(iH(this.S,this.T,"tick",this.hb),this.T.start())):(iJ(this.j,this.m,l,null),oA(this,l)),4==t&&oE(this),this.i&&!this.I&&(4==t?sL(this.l,this):(this.i=!1,oy(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,i4(12)):(this.o=0,i4(13)),oE(this),ow(this)}}}catch(f){}finally{}},nm.hb=function(){if(this.g){var e=sy(this.g),t=this.g.fa();this.C<t.length&&(ob(this),og(this,e,t),this.i&&4!=e&&oy(this))}},nm.cancel=function(){this.I=!0,oE(this)},nm.gb=function(){this.B=null;let e=Date.now();0<=e-this.V?(iQ(this.j,this.A),2!=this.K&&(i3(),i4(17)),oE(this),this.o=2,ow(this)):ov(this,this.V-e)};var oT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oN(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),i=null;if(0<=n){var o=e[r].substring(0,n);i=e[r].substring(n+1)}else o=e[r];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ox(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ox){this.h=void 0!==t?t:e.h,oC(this,e.j),this.s=e.s,this.g=e.g,oR(this,e.m),this.l=e.l,t=e.i;var r=new oz;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),oI(this,r),this.o=e.o}else e&&(r=String(e).match(oT))?(this.h=!!t,oC(this,r[1]||"",!0),this.s=oD(r[2]||""),this.g=oD(r[3]||"",!0),oR(this,r[4]),this.l=oD(r[5]||"",!0),oI(this,r[6]||"",!0),this.o=oD(r[7]||"")):(this.h=!!t,this.i=new oz(null,this.h))}function oP(e){return new ox(e)}function oC(e,t,r){e.j=r?oD(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function oR(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function oI(e,t,r){t instanceof oz?(e.i=t,oY(e.i,e.h)):(r||(t=oL(t,oV)),e.i=new oz(t,e.h))}function oO(e,t,r){e.i.set(t,r)}function oM(e){return oO(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function oD(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function oL(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,oF),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function oF(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ox.prototype.toString=function(){var e=[],t=this.j;t&&e.push(oL(t,oB,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(oL(t,oB,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(oL(r,"/"==r.charAt(0)?oj:oU,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.o)&&e.push("#",oL(r,oG)),e.join("")};var oB=/[#\/\?@]/g,oU=/[#\?:]/g,oj=/[#\?]/g,oV=/[#\?@]/g,oG=/#/g;function oz(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function oq(e){e.g||(e.g=new Map,e.h=0,e.i&&oN(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function oH(e,t){oq(e),t=o$(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function oK(e,t){return oq(e),t=o$(e,t),e.g.has(t)}function oW(e,t,r){oH(e,t),0<r.length&&(e.i=null,e.g.set(o$(e,t),nD(r)),e.h+=r.length)}function o$(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function oY(e,t){t&&!e.j&&(oq(e),e.i=null,e.g.forEach(function(e,t){var r=t.toLowerCase();t!=r&&(oH(this,t),oW(this,r,e))},e)),e.j=t}(nm=oz.prototype).add=function(e,t){oq(this),this.i=null,e=o$(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},nm.forEach=function(e,t){oq(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},nm.oa=function(){oq(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){let i=e[n];for(let o=0;o<i.length;o++)r.push(t[n])}return r},nm.W=function(e){oq(this);let t=[];if("string"==typeof e)oK(this,e)&&(t=t.concat(this.g.get(o$(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},nm.set=function(e,t){return oq(this),this.i=null,oK(this,e=o$(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},nm.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},nm.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];let i=encodeURIComponent(String(n)),o=this.W(n);for(n=0;n<o.length;n++){var s=i;""!==o[n]&&(s+="="+encodeURIComponent(String(o[n]))),e.push(s)}}return this.i=e.join("&")};var oJ=class{constructor(e,t){this.h=e,this.g=t}};function oQ(e){this.l=e||oX,e=nw.PerformanceNavigationTiming?0<(e=nw.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(nw.g&&nw.g.Ga&&nw.g.Ga()&&nw.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oX=10;function oZ(e){return!!e.h||!!e.g&&e.g.size>=e.j}function o0(e){return e.h?1:e.g?e.g.size:0}function o1(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function o2(e,t){e.g?e.g.add(t):e.h=t}function o3(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function o6(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let r of e.g.values())t=t.concat(r.D);return t}return nD(e.i)}function o4(){}function o5(){this.g=new o4}function o8(e,t,r){let n=r||"";try{ok(e,function(e,r){let i=e;nS(e)&&(i=iN(e)),t.push(n+r+"="+encodeURIComponent(i))})}catch(i){throw t.push(n+"type="+encodeURIComponent("_badmap")),i}}function o7(e,t){let r=new iW;if(nw.Image){let n=new Image;n.onload=nC(o9,r,n,"TestLoadImage: loaded",!0,t),n.onerror=nC(o9,r,n,"TestLoadImage: error",!1,t),n.onabort=nC(o9,r,n,"TestLoadImage: abort",!1,t),n.ontimeout=nC(o9,r,n,"TestLoadImage: timeout",!1,t),nw.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}function o9(e,t,r,n,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(n)}catch(o){}}function se(e){this.l=e.ac||null,this.j=e.jb||!1}function st(e,t){i_.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oQ.prototype.cancel=function(){if(this.i=o6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}},o4.prototype.stringify=function(e){return nw.JSON.stringify(e,void 0)},o4.prototype.parse=function(e){return nw.JSON.parse(e,void 0)},nR(se,oe),se.prototype.g=function(){return new st(this.l,this.j)},se.prototype.i=(u={},function(){return u}),nR(st,i_);var sr=0;function sn(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function si(e){e.readyState=4,e.l=null,e.j=null,e.A=null,so(e)}function so(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(nm=st.prototype).open=function(e,t){if(this.readyState!=sr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,so(this)},nm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||nw).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},nm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,si(this)),this.readyState=sr},nm.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==nw.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sn(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))}},nm.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?si(this):so(this),3==this.readyState&&sn(this)}},nm.Va=function(e){this.g&&(this.response=this.responseText=e,si(this))},nm.Ua=function(e){this.g&&(this.response=e,si(this))},nm.ga=function(){this.g&&si(this)},nm.setRequestHeader=function(e,t){this.v.append(e,t)},nm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},nm.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var r=t.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(st.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ss=nw.JSON.parse;function sa(e){i_.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sl,this.K=this.L=!1}nR(sa,i_);var sl="",su=/^https?$/i,sc=["POST","PUT"];function sh(e){return nW&&n6()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function sf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sd(e),sg(e)}function sd(e){e.D||(e.D=!0,ik(e,"complete"),ik(e,"error"))}function sp(e){if(e.h&&void 0!==nb&&(!e.C[1]||4!=sy(e)||2!=e.aa())){if(e.v&&4==sy(e))ij(e.Ha,0,e);else if(ik(e,"readystatechange"),4==sy(e)){e.h=!1;try{let t=e.aa();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r,n,i=!0;break e;default:i=!1}if(!(r=i)){if(n=0===t){var o=String(e.H).match(oT)[1]||null;if(!o&&nw.self&&nw.self.location){var s=nw.self.location.protocol;o=s.substr(0,s.length-1)}n=!su.test(o?o.toLowerCase():"")}r=n}if(r)ik(e,"complete"),ik(e,"success");else{e.m=6;try{var a=2<sy(e)?e.g.statusText:""}catch(l){a=""}e.j=a+" ["+e.aa()+"]",sd(e)}}finally{sg(e)}}}}function sg(e,t){if(e.g){sm(e);let r=e.g,n=e.C[0]?nE:null;e.g=null,e.C=null,t||ik(e,"ready");try{r.onreadystatechange=n}catch(i){}}}function sm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(nw.clearTimeout(e.A),e.A=null)}function sy(e){return e.g?e.g.readyState:0}function sv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function sb(e){let t="";return ir(e,function(e,r){t=r+":"+e+"\r\n"}),t}function sw(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=sb(r),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):oO(e,t,r))}function sE(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function sA(e){this.Ca=0,this.i=[],this.j=new iW,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=sE("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=sE("baseRetryDelayMs",5e3,e),this.bb=sE("retryDelaySeedMs",1e4,e),this.$a=sE("forwardChannelMaxRetries",2,e),this.ta=sE("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new oQ(e&&e.concurrentRequestLimit),this.Fa=new o5,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function sS(e){if(sk(e),3==e.G){var t=e.U++,r=oP(e.F);oO(r,"SID",e.I),oO(r,"RID",t),oO(r,"TYPE","terminate"),sP(e,r),(t=new oa(e,e.j,t,void 0)).K=2,t.v=oM(oP(r)),r=!1,nw.navigator&&nw.navigator.sendBeacon&&(r=nw.navigator.sendBeacon(t.v.toString(),"")),!r&&nw.Image&&((new Image).src=t.v,r=!0),r||(t.g=sV(t.l,null),t.g.da(t.v)),t.F=Date.now(),oy(t)}sU(e)}function s_(e){e.g&&(sO(e),e.g.cancel(),e.g=null)}function sk(e){s_(e),e.u&&(nw.clearTimeout(e.u),e.u=null),sD(e),e.h.cancel(),e.m&&("number"==typeof e.m&&nw.clearTimeout(e.m),e.m=null)}function sT(e){oZ(e.h)||e.m||(e.m=!0,iO(e.Ja,e),e.C=0)}function sN(e,t){return!(o0(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.C>=(e.Za?0:e.$a))&&(e.m=i8(nP(e.Ja,e,t),sF(e,e.C)),e.C++,!0))}function sx(e,t){var r;r=t?t.m:e.U++;let n=oP(e.F);oO(n,"SID",e.I),oO(n,"RID",r),oO(n,"AID",e.T),sP(e,n),e.o&&e.s&&sw(n,e.o,e.s),r=new oa(e,e.j,r,e.C+1),null===e.o&&(r.H=e.s),t&&(e.i=t.D.concat(e.i)),t=sC(e,r,1e3),r.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),o2(e.h,r),of(r,n,t)}function sP(e,t){e.ia&&ir(e.ia,function(e,r){oO(t,r,e)}),e.l&&ok({},function(e,r){oO(t,r,e)})}function sC(e,t,r){r=Math.min(e.i.length,r);var n=e.l?nP(e.l.Ra,e.l,e):null;e:{var i=e.i;let o=-1;for(;;){let s=["count="+r];-1==o?0<r?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<r;l++){let u=i[l].h,c=i[l].g;if(0>(u-=o))o=Math.max(0,i[l].h-100),a=!1;else try{o8(c,s,"req"+u+"_")}catch(h){n&&n(c)}}if(a){n=s.join("&");break e}}}return e=e.i.splice(0,r),t.D=e,n}function sR(e){e.g||e.u||(e.Z=1,iO(e.Ia,e),e.A=0)}function sI(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.Z++,e.u=i8(nP(e.Ia,e),sF(e,e.A)),e.A++,!0)}function sO(e){null!=e.B&&(nw.clearTimeout(e.B),e.B=null)}function sM(e){e.g=new oa(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=oP(e.sa);oO(t,"RID","rpc"),oO(t,"SID",e.I),oO(t,"CI",e.L?"0":"1"),oO(t,"AID",e.T),oO(t,"TYPE","xmlhttp"),sP(e,t),e.o&&e.s&&sw(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var r=e.g;e=e.ka,r.K=1,r.v=oM(oP(t)),r.s=null,r.P=!0,od(r,e)}function sD(e){null!=e.v&&(nw.clearTimeout(e.v),e.v=null)}function sL(e,t){var r=null;if(e.g==t){sD(e),sO(e),e.g=null;var n=2}else{if(!o1(e.h,t))return;r=t.D,o3(e.h,t),n=1}if(0!=e.G){if(e.pa=t.Y,t.i){if(1==n){r=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ik(n=i1(),new i5(n,r)),sT(e)}else sR(e)}else if(3==(i=t.o)||0==i&&0<e.pa||!(1==n&&sN(e,t)||2==n&&sI(e)))switch(r&&0<r.length&&((t=e.h).i=t.i.concat(r)),i){case 1:sB(e,5);break;case 4:sB(e,10);break;case 3:sB(e,6);break;default:sB(e,2)}}}function sF(e,t){let r=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(r*=2),r*t}function sB(e,t){if(e.j.info("Error code "+t),2==t){var r=null;e.l&&(r=null);var n=nP(e.kb,e);r||(r=new ox("//www.google.com/images/cleardot.gif"),nw.location&&"http"==nw.location.protocol||oC(r,"https"),oM(r)),o7(r.toString(),n)}else i4(2);e.G=0,e.l&&e.l.va(t),sU(e),sk(e)}function sU(e){if(e.G=0,e.la=[],e.l){let t=o6(e.h);(0!=t.length||0!=e.i.length)&&(nL(e.la,t),nL(e.la,e.i),e.h.i.length=0,nD(e.i),e.i.length=0),e.l.ua()}}function sj(e,t,r){var n=r instanceof ox?oP(r):new ox(r,void 0);if(""!=n.g)t&&(n.g=t+"."+n.g),oR(n,n.m);else{var i=nw.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ox(null,void 0);n&&oC(o,n),t&&(o.g=t),i&&oR(o,i),r&&(o.l=r),n=o}return r=e.D,t=e.za,r&&t&&oO(n,r,t),oO(n,"VER",e.ma),sP(e,n),n}function sV(e,t,r){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new sa(r&&e.Da&&!e.ra?new se({jb:!0}):e.ra)).Ka(e.H),t}function sG(){}function sz(){if(nW&&!(10<=Number(n4)))throw Error("Environmental error: no available transport.")}function sq(e,t){i_.call(this),this.g=new sA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!nU(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nU(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new sW(this)}function sH(e){oi.call(this);var t=e.__sm__;if(t){e:{for(let r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sK(){oo.call(this),this.status=1}function sW(e){this.g=e}(nm=sa.prototype).Ka=function(e){this.L=e},nm.da=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():d.g(),this.C=this.u?ot(this.u):ot(d),this.g.onreadystatechange=nP(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){sf(this,i);return}if(e=r||"",r=new Map(this.headers),n){if(Object.getPrototypeOf(n)===Object.prototype)for(var o in n)r.set(o,n[o]);else if("function"==typeof n.keys&&"function"==typeof n.get)for(let s of n.keys())r.set(s,n.get(s));else throw Error("Unknown input type for opt_headers: "+String(n))}for(let[a,l]of(n=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),o=nw.FormData&&e instanceof nw.FormData,!(0<=nM(sc,t))||n||o||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sm(this),0<this.B&&((this.K=sh(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nP(this.qa,this)):this.A=ij(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){sf(this,u)}},nm.qa=function(){void 0!==nb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ik(this,"timeout"),this.abort(8))},nm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ik(this,"complete"),ik(this,"abort"),sg(this))},nm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sg(this,!0)),sa.X.M.call(this)},nm.Ha=function(){this.s||(this.F||this.v||this.l?sp(this):this.fb())},nm.fb=function(){sp(this)},nm.aa=function(){try{return 2<sy(this)?this.g.status:-1}catch(e){return -1}},nm.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},nm.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ss(t)}},nm.Ea=function(){return this.m},nm.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nm=sA.prototype).ma=8,nm.G=1,nm.Ja=function(e){if(this.m){if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let t=new oa(this,this.j,e,void 0),r=this.s;if(this.S&&(r?is(r=ii(r),this.S):r=this.S),null!==this.o||this.N||(t.H=r,r=null),this.O)e:{for(var n=0,i=0;i<this.i.length;i++){t:{var o=this.i[i];if("__data__"in o.g&&"string"==typeof(o=o.g.__data__)){o=o.length;break t}o=void 0}if(void 0===o)break;if(4096<(n+=o)){n=i;break e}if(4096===n||i===this.i.length-1){n=i+1;break e}}n=1e3}else n=1e3;n=sC(this,t,n),oO(i=oP(this.F),"RID",e),oO(i,"CVER",22),this.D&&oO(i,"X-HTTP-Session-Id",this.D),sP(this,i),r&&(this.N?n="headers="+encodeURIComponent(String(sb(r)))+"&"+n:this.o&&sw(i,this.o,r)),o2(this.h,t),this.Ya&&oO(i,"TYPE","init"),this.O?(oO(i,"$req",n),oO(i,"SID","null"),t.Z=!0,of(t,i,null)):of(t,i,n),this.G=2}}else 3==this.G&&(e?sx(this,e):0==this.i.length||oZ(this.h)||sx(this))}},nm.Ia=function(){if(this.u=null,sM(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=i8(nP(this.eb,this),e)}},nm.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,i4(10),s_(this),sM(this))},nm.cb=function(){null!=this.v&&(this.v=null,s_(this),sI(this),i4(19))},nm.kb=function(e){e?(this.j.info("Successfully pinged google.com"),i4(2)):(this.j.info("Failed to ping google.com"),i4(1))},(nm=sG.prototype).xa=function(){},nm.wa=function(){},nm.va=function(){},nm.ua=function(){},nm.Ra=function(){},sz.prototype.g=function(e,t){return new sq(e,t)},nR(sq,i_),sq.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,r=this.h||void 0;i4(0),e.V=t,e.ia=r||{},e.L=e.Y,e.F=sj(e,null,e.V),sT(e)},sq.prototype.close=function(){sS(this.g)},sq.prototype.u=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.v&&((r={}).__data__=iN(e),e=r);t.i.push(new oJ(t.ab++,e)),3==t.G&&sT(t)},sq.prototype.M=function(){this.g.l=null,delete this.j,sS(this.g),delete this.g,sq.X.M.call(this)},nR(sH,oi),nR(sK,oo),nR(sW,sG),sW.prototype.xa=function(){ik(this.g,"a")},sW.prototype.wa=function(e){ik(this.g,new sH(e))},sW.prototype.va=function(e){ik(this.g,new sK)},sW.prototype.ua=function(){ik(this.g,"b")},sz.prototype.createWebChannel=sz.prototype.g,sq.prototype.send=sq.prototype.u,sq.prototype.open=sq.prototype.m,sq.prototype.close=sq.prototype.close,i7.NO_ERROR=0,i7.TIMEOUT=8,i7.HTTP_ERROR=6,i9.COMPLETE="complete",or.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",i_.prototype.listen=i_.prototype.N,sa.prototype.listenOnce=sa.prototype.O,sa.prototype.getLastError=sa.prototype.Oa,sa.prototype.getLastErrorCode=sa.prototype.Ea,sa.prototype.getStatus=sa.prototype.aa,sa.prototype.getResponseJson=sa.prototype.Sa,sa.prototype.getResponseText=sa.prototype.fa,sa.prototype.send=sa.prototype.da,sa.prototype.setWithCredentials=sa.prototype.Ka;var s$=nv.createWebChannelTransport=function(){return new sz},sY=nv.getStatEventTarget=function(){return i1()},sJ=nv.ErrorCode=i7,sQ=nv.EventType=i9,sX=nv.Event=iZ,sZ=nv.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},s0=nv.FetchXmlHttpFactory=se,s1=nv.WebChannel=or,s2=nv.XhrIo=sa;r(3454);let s3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class s6{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}s6.UNAUTHENTICATED=new s6(null),s6.GOOGLE_CREDENTIALS=new s6("google-credentials-uid"),s6.FIRST_PARTY=new s6("first-party-uid"),s6.MOCK_USER=new s6("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let s4="9.13.0",s5=new ea("@firebase/firestore");function s8(){return s5.logLevel}function s7(e,...t){if(s5.logLevel<=ng.DEBUG){let r=t.map(at);s5.debug(`Firestore (${s4}): ${e}`,...r)}}function s9(e,...t){if(s5.logLevel<=ng.ERROR){let r=t.map(at);s5.error(`Firestore (${s4}): ${e}`,...r)}}function ae(e,...t){if(s5.logLevel<=ng.WARN){let r=t.map(at);s5.warn(`Firestore (${s4}): ${e}`,...r)}}function at(e){var t;if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(r){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ar(e="Unexpected state"){let t=`FIRESTORE (${s4}) INTERNAL ASSERTION FAILED: `+e;throw s9(t),Error(t)}function an(e,t){e||ar()}function ai(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let ao={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class as extends B{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class al{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class au{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(s6.UNAUTHENTICATED))}shutdown(){}}class ac{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ah{constructor(e){this.t=e,this.currentUser=s6.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve(),i=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new aa,e.enqueueRetryable(()=>n(this.currentUser))};let o=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},s=e=>{s7("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?s(e):(s7("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new aa)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(s7("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(an("string"==typeof t.accessToken),new al(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return an(null===e||"string"==typeof e),new s6(e)}}class af{constructor(e,t,r,n){this.h=e,this.l=t,this.m=r,this.g=n,this.type="FirstParty",this.user=s6.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(an(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ad{constructor(e,t,r,n){this.h=e,this.l=t,this.m=r,this.g=n}getToken(){return Promise.resolve(new af(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(s6.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ap{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ag{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){let r=e=>{null!=e.error&&s7("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.A;return this.A=e.token,s7("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};let n=e=>{s7("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.T.getImmediate({optional:!0});e?n(e):s7("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(an("string"==typeof e.token),this.A=e.token,new ap(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function am(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ay{static R(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let n=am(40);for(let i=0;i<n.length;++i)r.length<20&&n[i]<t&&(r+=e.charAt(n[i]%e.length))}return r}}function av(e,t){return e<t?-1:e>t?1:0}function ab(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aw{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new as(ao.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800||e>=253402300800)throw new as(ao.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return aw.fromMillis(Date.now())}static fromDate(e){return aw.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new aw(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?av(this.nanoseconds,e.nanoseconds):av(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aE{constructor(e){this.timestamp=e}static fromTimestamp(e){return new aE(e)}static min(){return new aE(new aw(0,0))}static max(){return new aE(new aw(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aA{constructor(e,t,r){void 0===t?t=0:t>e.length&&ar(),void 0===r?r=e.length-t:r>e.length-t&&ar(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===aA.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof aA?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.get(n),o=t.get(n);if(i<o)return -1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class aS extends aA{construct(e,t,r){return new aS(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new as(ao.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new aS(t)}static emptyPath(){return new aS([])}}let a_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ak extends aA{construct(e,t,r){return new ak(e,t,r)}static isValidIdentifier(e){return a_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ak.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ak(["__name__"])}static fromServerFormat(e){let t=[],r="",n=0,i=()=>{if(0===r.length)throw new as(ao.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;n<e.length;){let s=e[n];if("\\"===s){if(n+1===e.length)throw new as(ao.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let a=e[n+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new as(ao.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,n+=2}else"`"===s?(o=!o,n++):"."!==s||o?(r+=s,n++):(i(),n++)}if(i(),o)throw new as(ao.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ak(t)}static emptyPath(){return new ak([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aT{constructor(e){this.path=e}static fromPath(e){return new aT(aS.fromString(e))}static fromName(e){return new aT(aS.fromString(e).popFirst(5))}static empty(){return new aT(aS.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===aS.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return aS.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new aT(new aS(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aN{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}function ax(e,t){let r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=aE.fromTimestamp(1e9===n?new aw(r+1,0):new aw(r,n));return new aC(i,aT.empty(),t)}function aP(e){return new aC(e.readTime,e.key,-1)}aN.UNKNOWN_ID=-1;class aC{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new aC(aE.min(),aT.empty(),-1)}static max(){return new aC(aE.max(),aT.empty(),-1)}}function aR(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r?r:0!==(r=aT.comparator(e.documentKey,t.documentKey))?r:av(e.largestBatchId,t.largestBatchId)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let aI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function aM(e){if(e.code!==ao.FAILED_PRECONDITION||e.message!==aI)throw e;s7("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aD{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ar(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new aD((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof aD?t:aD.resolve(t)}catch(r){return aD.reject(r)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):aD.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):aD.reject(t)}static resolve(e){return new aD((t,r)=>{t(e)})}static reject(e){return new aD((t,r)=>{r(e)})}static waitFor(e){return new aD((t,r)=>{let n=0,i=0,o=!1;e.forEach(e=>{++n,e.next(()=>{++i,o&&i===n&&t()},e=>r(e))}),o=!0,i===n&&t()})}static or(e){let t=aD.resolve(!1);for(let r of e)t=t.next(e=>e?aD.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new aD((r,n)=>{let i=e.length,o=Array(i),s=0;for(let a=0;a<i;a++){let l=a;t(e[l]).next(e=>{o[l]=e,++s===i&&r(o)},e=>n(e))}})}static doWhile(e,t){return new aD((r,n)=>{let i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}function aL(e){return"IndexedDbTransactionError"===e.name}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aF{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function aB(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function aU(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function aj(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ aF.at=-1;class aV{constructor(e,t){this.comparator=e,this.root=t||az.EMPTY}insert(e,t){return new aV(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,az.BLACK,null,null))}remove(e){return new aV(this.comparator,this.root.remove(e,this.comparator).copy(null,null,az.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aG(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aG(this.root,e,this.comparator,!1)}getReverseIterator(){return new aG(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aG(this.root,e,this.comparator,!0)}}class aG{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class az{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:az.RED,this.left=null!=n?n:az.EMPTY,this.right=null!=i?i:az.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new az(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return az.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r,n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return az.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,az.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,az.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ar();let e=this.left.check();if(e!==this.right.check())throw ar();return e+(this.isRed()?0:1)}}az.EMPTY=null,az.RED=!0,az.BLACK=!1,az.EMPTY=new class{constructor(){this.size=0}get key(){throw ar()}get value(){throw ar()}get color(){throw ar()}get left(){throw ar()}get right(){throw ar()}copy(e,t,r,n,i){return this}insert(e,t,r){return new az(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aq{constructor(e){this.comparator=e,this.data=new aV(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aH(this.data.getIterator())}getIteratorFrom(e){return new aH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof aq)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let n=t.getNext().key,i=r.getNext().key;if(0!==this.comparator(n,i))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new aq(this.comparator);return t.data=e,t}}class aH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aK{constructor(e){this.fields=e,e.sort(ak.comparator)}static empty(){return new aK([])}unionWith(e){let t=new aq(ak.comparator);for(let r of this.fields)t=t.add(r);for(let n of e)t=t.add(n);return new aK(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ab(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class aW{constructor(e){this.binaryString=e}static fromBase64String(e){let t=atob(e);return new aW(t)}static fromUint8Array(e){let t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new aW(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return av(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}aW.EMPTY_BYTE_STRING=new aW("");let a$=RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aY(e){if(an(!!e),"string"==typeof e){let t=0,r=a$.exec(e);if(an(!!r),r[1]){let n=r[1];t=Number(n=(n+"000000000").substr(0,9))}let i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:aJ(e.seconds),nanos:aJ(e.nanos)}}function aJ(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function aQ(e){return"string"==typeof e?aW.fromBase64String(e):aW.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function aX(e){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function aZ(e){let t=e.mapValue.fields.__previous_value__;return aX(t)?aZ(t):t}function a0(e){let t=aY(e.mapValue.fields.__local_write_time__.timestampValue);return new aw(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class a1{constructor(e,t,r,n,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class a2{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new a2("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof a2&&e.projectId===this.projectId&&e.database===this.database}}function a3(e){return null==e}function a6(e){return 0===e&&1/e==-1/0}function a4(e){return"number"==typeof e&&Number.isInteger(e)&&!a6(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let a5={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function a8(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?aX(e)?4:lc(e)?9007199254740991:10:ar()}function a7(e,t){var r,n,i,o;if(e===t)return!0;let s=a8(e);if(s!==a8(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return a0(e).isEqual(a0(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=aY(e.timestampValue),n=aY(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=e,n=t,aQ(r.bytesValue).isEqual(aQ(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return i=e,o=t,aJ(i.geoPointValue.latitude)===aJ(o.geoPointValue.latitude)&&aJ(i.geoPointValue.longitude)===aJ(o.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return aJ(e.integerValue)===aJ(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=aJ(e.doubleValue),n=aJ(t.doubleValue);return r===n?a6(r)===a6(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return ab(e.arrayValue.values||[],t.arrayValue.values||[],a7);case 10:return function(e,t){let r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(aB(r)!==aB(n))return!1;for(let i in r)if(r.hasOwnProperty(i)&&(void 0===n[i]||!a7(r[i],n[i])))return!1;return!0}(e,t);default:return ar()}}function a9(e,t){return void 0!==(e.values||[]).find(e=>a7(e,t))}function le(e,t){if(e===t)return 0;let r=a8(e),n=a8(t);if(r!==n)return av(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return av(e.booleanValue,t.booleanValue);case 2:return function(e,t){let r=aJ(e.integerValue||e.doubleValue),n=aJ(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return lt(e.timestampValue,t.timestampValue);case 4:return lt(a0(e),a0(t));case 5:return av(e.stringValue,t.stringValue);case 6:return function(e,t){let r=aQ(e),n=aQ(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let r=e.split("/"),n=t.split("/");for(let i=0;i<r.length&&i<n.length;i++){let o=av(r[i],n[i]);if(0!==o)return o}return av(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let r=av(aJ(e.latitude),aJ(t.latitude));return 0!==r?r:av(aJ(e.longitude),aJ(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){let r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){let o=le(r[i],n[i]);if(o)return o}return av(r.length,n.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===a5.mapValue&&t===a5.mapValue)return 0;if(e===a5.mapValue)return 1;if(t===a5.mapValue)return -1;let r=e.fields||{},n=Object.keys(r),i=t.fields||{},o=Object.keys(i);n.sort(),o.sort();for(let s=0;s<n.length&&s<o.length;++s){let a=av(n[s],o[s]);if(0!==a)return a;let l=le(r[n[s]],i[o[s]]);if(0!==l)return l}return av(n.length,o.length)}(e.mapValue,t.mapValue);default:throw ar()}}function lt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return av(e,t);let r=aY(e),n=aY(t),i=av(r.seconds,n.seconds);return 0!==i?i:av(r.nanos,n.nanos)}function lr(e){return ln(e)}function ln(e){var t,r;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=aY(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?aQ(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,aT.fromName(r).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",r=!0;for(let n of e.values||[])r?r=!1:t+=",",t+=ln(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),r="{",n=!0;for(let i of t)n?n=!1:r+=",",r+=`${i}:${ln(e.fields[i])}`;return r+"}"}(e.mapValue):ar()}function li(e){return!!e&&"integerValue"in e}function lo(e){return!!e&&"arrayValue"in e}function ls(e){return!!e&&"nullValue"in e}function la(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ll(e){return!!e&&"mapValue"in e}function lu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return aU(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=lu(r)),t}if(e.arrayValue){let r={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)r.arrayValue.values[n]=lu(e.arrayValue.values[n]);return r}return Object.assign({},e)}function lc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lh{constructor(e){this.value=e}static empty(){return new lh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!ll(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=ak.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let o=this.getFieldsMap(t);this.applyChanges(o,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=lu(e):n.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){let t=this.field(e.popLast());ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return a7(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];ll(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){for(let n of(aU(t,(t,r)=>e[t]=r),r))delete e[n]}clone(){return new lh(lu(this.value))}}function lf(e){let t=[];return aU(e.fields,(e,r)=>{let n=new ak([e]);if(ll(r)){let i=lf(r.mapValue).fields;if(0===i.length)t.push(n);else for(let o of i)t.push(n.child(o))}else t.push(n)}),new aK(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ld{constructor(e,t,r,n,i,o){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.data=i,this.documentState=o}static newInvalidDocument(e){return new ld(e,0,aE.min(),aE.min(),lh.empty(),0)}static newFoundDocument(e,t,r){return new ld(e,1,t,aE.min(),r,0)}static newNoDocument(e,t){return new ld(e,2,t,aE.min(),lh.empty(),0)}static newUnknownDocument(e,t){return new ld(e,3,t,aE.min(),lh.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=aE.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ld&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ld(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lp{constructor(e,t=null,r=[],n=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=o,this.endAt=s,this.ht=null}}function lg(e,t=null,r=[],n=[],i=null,o=null,s=null){return new lp(e,t,r,n,i,o,s)}function lm(e){let t=ai(e);if(null===t.ht){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r="|f:"+t.filters.map(e=>{var t;return(t=e).field.canonicalString()+t.op.toString()+lr(t.value)}).join(",")+"|ob:"+t.orderBy.map(e=>{var t;return(t=e).field.canonicalString()+t.dir}).join(","),a3(t.limit)||(r="|l:"+t.limit),t.startAt&&(r="|lb:"+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>lr(e)).join(",")),t.endAt&&(r="|ub:"+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>lr(e)).join(",")),t.ht=r}return t.ht}function ly(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{var t;return`${(t=e).field.canonicalString()} ${t.op} ${lr(t.value)}`}).join(", ")}]`),a3(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{var t;return t=e,`${t.field.canonicalString()} (${t.dir})`}).join(", ")}]`),e.startAt&&(t=", startAt: "+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>lr(e)).join(",")),e.endAt&&(t=", endAt: "+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>lr(e)).join(",")),`Target(${t})`}function lv(e,t){var r,n;if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!lR(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let o=0;o<e.filters.length;o++)if(r=e.filters[o],n=t.filters[o],r.op!==n.op||!r.field.isEqual(n.field)||!a7(r.value,n.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lO(e.startAt,t.startAt)&&lO(e.endAt,t.endAt)}function lb(e){return aT.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class lw extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new lE(e,t,r):"array-contains"===t?new lk(e,r):"in"===t?new lT(e,r):"not-in"===t?new lN(e,r):"array-contains-any"===t?new lx(e,r):new lw(e,t,r)}static lt(e,t,r){return"in"===t?new lA(e,r):new lS(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(le(t,this.value)):null!==t&&a8(this.value)===a8(t)&&this.ft(le(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ar()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lE extends lw{constructor(e,t,r){super(e,t,r),this.key=aT.fromName(r.referenceValue)}matches(e){let t=aT.comparator(e.key,this.key);return this.ft(t)}}class lA extends lw{constructor(e,t){super(e,"in",t),this.keys=l_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lS extends lw{constructor(e,t){super(e,"not-in",t),this.keys=l_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function l_(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(e=>aT.fromName(e.referenceValue))}class lk extends lw{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return lo(t)&&a9(t.arrayValue,this.value)}}class lT extends lw{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&a9(this.value.arrayValue,t)}}class lN extends lw{constructor(e,t){super(e,"not-in",t)}matches(e){if(a9(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!a9(this.value.arrayValue,t)}}class lx extends lw{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!lo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>a9(this.value.arrayValue,e))}}class lP{constructor(e,t){this.position=e,this.inclusive=t}}class lC{constructor(e,t="asc"){this.field=e,this.dir=t}}function lR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function lI(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){let o=t[i],s=e.position[i];if(n=o.field.isKeyField()?aT.comparator(aT.fromName(s.referenceValue),r.key):le(s,r.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function lO(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!a7(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lM{constructor(e,t=null,r=[],n=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this._t=null,this.wt=null,this.startAt,this.endAt}}function lD(e,t,r,n,i,o,s,a){return new lM(e,t,r,n,i,o,s,a)}function lL(e){return new lM(e)}function lF(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lB(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function lU(e){for(let t of e.filters)if(t.dt())return t.field;return null}function lj(e){return null!==e.collectionGroup}function lV(e){let t=ai(e);if(null===t._t){t._t=[];let r=lU(t),n=lB(t);if(null!==r&&null===n)r.isKeyField()||t._t.push(new lC(r)),t._t.push(new lC(ak.keyField(),"asc"));else{let i=!1;for(let o of t.explicitOrderBy)t._t.push(o),o.field.isKeyField()&&(i=!0);if(!i){let s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new lC(ak.keyField(),s))}}}return t._t}function lG(e){let t=ai(e);if(!t.wt){if("F"===t.limitType)t.wt=lg(t.path,t.collectionGroup,lV(t),t.filters,t.limit,t.startAt,t.endAt);else{let r=[];for(let n of lV(t)){let i="desc"===n.dir?"asc":"desc";r.push(new lC(n.field,i))}let o=t.endAt?new lP(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new lP(t.startAt.position,t.startAt.inclusive):null;t.wt=lg(t.path,t.collectionGroup,r,t.filters,t.limit,o,s)}}return t.wt}function lz(e,t,r){return new lM(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function lq(e,t){return lv(lG(e),lG(t))&&e.limitType===t.limitType}function lH(e){return`${lm(lG(e))}|lt:${e.limitType}`}function lK(e){return`Query(target=${ly(lG(e))}; limitType=${e.limitType})`}function lW(e,t){var r,n;return t.isFoundDocument()&&function(e,t){let r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):aT.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){for(let r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&(r=e,n=t,(!r.startAt||!!function(e,t,r){let n=lI(e,t,r);return e.inclusive?n<=0:n<0}(r.startAt,lV(r),n))&&(!r.endAt||!!function(e,t,r){let n=lI(e,t,r);return e.inclusive?n>=0:n>0}(r.endAt,lV(r),n)))}function l$(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lY(e){return(t,r)=>{let n=!1;for(let i of lV(e)){let o=lJ(i,t,r);if(0!==o)return o;n=n||i.field.isKeyField()}return 0}}function lJ(e,t,r){let n=e.field.isKeyField()?aT.comparator(t.key,r.key):function(e,t,r){let n=t.data.field(e),i=r.data.field(e);return null!==n&&null!==i?le(n,i):ar()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return -1*n;default:return ar()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function lQ(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a6(t)?"-0":t}}function lX(e){return{integerValue:""+e}}function lZ(e,t){return a4(t)?lX(t):lQ(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class l0{constructor(){this._=void 0}}function l1(e,t,r){return e instanceof l6?function(e,t){let r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(r.fields.__previous_value__=t),{mapValue:r}}(r,t):e instanceof l4?l5(e,t):e instanceof l8?l7(e,t):function(e,t){let r=l3(e,t),n=ue(r)+ue(e.yt);return li(r)&&li(e.yt)?lX(n):lQ(e.It,n)}(e,t)}function l2(e,t,r){return e instanceof l4?l5(e,t):e instanceof l8?l7(e,t):r}function l3(e,t){var r,n;return e instanceof l9?li(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null}class l6 extends l0{}class l4 extends l0{constructor(e){super(),this.elements=e}}function l5(e,t){let r=ut(t);for(let n of e.elements)r.some(e=>a7(e,n))||r.push(n);return{arrayValue:{values:r}}}class l8 extends l0{constructor(e){super(),this.elements=e}}function l7(e,t){let r=ut(t);for(let n of e.elements)r=r.filter(e=>!a7(e,n));return{arrayValue:{values:r}}}class l9 extends l0{constructor(e,t){super(),this.It=e,this.yt=t}}function ue(e){return aJ(e.integerValue||e.doubleValue)}function ut(e){return lo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ur(e,t){var r,n;return e.field.isEqual(t.field)&&(r=e.transform,n=t.transform,r instanceof l4&&n instanceof l4||r instanceof l8&&n instanceof l8?ab(r.elements,n.elements,a7):r instanceof l9&&n instanceof l9?a7(r.yt,n.yt):r instanceof l6&&n instanceof l6)}class un{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class us{}function ua(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new uy(e.key,ui.none()):new uf(e.key,e.data,ui.none());{let r=e.data,n=lh.empty(),i=new aq(ak.comparator);for(let o of t.fields)if(!i.has(o)){let s=r.field(o);null===s&&o.length>1&&(o=o.popLast(),s=r.field(o)),null===s?n.delete(o):n.set(o,s),i=i.add(o)}return new ud(e.key,n,new aK(i.toArray()),ui.none())}}function ul(e,t,r){e instanceof uf?function(e,t,r){let n=e.value.clone(),i=ug(e.fieldTransforms,t,r.transformResults);n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(e,t,r):e instanceof ud?function(e,t,r){if(!uo(e.precondition,t))return void t.convertToUnknownDocument(r.version);let n=ug(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(up(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(e,t,r):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,r)}function uu(e,t,r,n){var i,o,s;return e instanceof uf?function(e,t,r,n){if(!uo(e.precondition,t))return r;let i=e.value.clone(),o=um(e.fieldTransforms,n,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,r,n):e instanceof ud?function(e,t,r,n){if(!uo(e.precondition,t))return r;let i=um(e.fieldTransforms,n,t),o=t.data;return(o.setAll(up(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,r,n):(i=e,o=t,s=r,uo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s)}function uc(e,t){let r=null;for(let n of e.fieldTransforms){let i=t.data.field(n.field),o=l3(n.transform,i||null);null!=o&&(null===r&&(r=lh.empty()),r.set(n.field,o))}return r||null}function uh(e,t){var r,n;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=e.fieldTransforms,n=t.fieldTransforms,!!(void 0===r&&void 0===n||!(!r||!n)&&ab(r,n,(e,t)=>ur(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uf extends us{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class ud extends us{constructor(e,t,r,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function up(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let n=e.data.field(r);t.set(r,n)}}),t}function ug(e,t,r){let n=new Map;an(e.length===r.length);for(let i=0;i<r.length;i++){let o=e[i],s=o.transform,a=t.data.field(o.field);n.set(o.field,l2(s,a,r[i]))}return n}function um(e,t,r){let n=new Map;for(let i of e){let o=i.transform,s=r.data.field(i.field);n.set(i.field,l1(o,s,t))}return n}class uy extends us{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uv extends us{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ub{constructor(e){this.count=e}}function uw(e){switch(e){default:return ar();case ao.CANCELLED:case ao.UNKNOWN:case ao.DEADLINE_EXCEEDED:case ao.RESOURCE_EXHAUSTED:case ao.INTERNAL:case ao.UNAVAILABLE:case ao.UNAUTHENTICATED:return!1;case ao.INVALID_ARGUMENT:case ao.NOT_FOUND:case ao.ALREADY_EXISTS:case ao.PERMISSION_DENIED:case ao.FAILED_PRECONDITION:case ao.ABORTED:case ao.OUT_OF_RANGE:case ao.UNIMPLEMENTED:case ao.DATA_LOSS:return!0}}function uE(e){if(void 0===e)return s9("GRPC error has no .code"),ao.UNKNOWN;switch(e){case p.OK:return ao.OK;case p.CANCELLED:return ao.CANCELLED;case p.UNKNOWN:return ao.UNKNOWN;case p.DEADLINE_EXCEEDED:return ao.DEADLINE_EXCEEDED;case p.RESOURCE_EXHAUSTED:return ao.RESOURCE_EXHAUSTED;case p.INTERNAL:return ao.INTERNAL;case p.UNAVAILABLE:return ao.UNAVAILABLE;case p.UNAUTHENTICATED:return ao.UNAUTHENTICATED;case p.INVALID_ARGUMENT:return ao.INVALID_ARGUMENT;case p.NOT_FOUND:return ao.NOT_FOUND;case p.ALREADY_EXISTS:return ao.ALREADY_EXISTS;case p.PERMISSION_DENIED:return ao.PERMISSION_DENIED;case p.FAILED_PRECONDITION:return ao.FAILED_PRECONDITION;case p.ABORTED:return ao.ABORTED;case p.OUT_OF_RANGE:return ao.OUT_OF_RANGE;case p.UNIMPLEMENTED:return ao.UNIMPLEMENTED;case p.DATA_LOSS:return ao.DATA_LOSS;default:return ar()}}(g=p||(p={}))[g.OK=0]="OK",g[g.CANCELLED=1]="CANCELLED",g[g.UNKNOWN=2]="UNKNOWN",g[g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",g[g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",g[g.NOT_FOUND=5]="NOT_FOUND",g[g.ALREADY_EXISTS=6]="ALREADY_EXISTS",g[g.PERMISSION_DENIED=7]="PERMISSION_DENIED",g[g.UNAUTHENTICATED=16]="UNAUTHENTICATED",g[g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",g[g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",g[g.ABORTED=10]="ABORTED",g[g.OUT_OF_RANGE=11]="OUT_OF_RANGE",g[g.UNIMPLEMENTED=12]="UNIMPLEMENTED",g[g.INTERNAL=13]="INTERNAL",g[g.UNAVAILABLE=14]="UNAVAILABLE",g[g.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class uA{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[n,i]of r)if(this.equalsFn(n,e))return i}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return void(n[i]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){aU(this.inner,(t,r)=>{for(let[n,i]of r)e(n,i)})}isEmpty(){return aj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let uS=new aV(aT.comparator);function u_(){return uS}let uk=new aV(aT.comparator);function uT(...e){let t=uk;for(let r of e)t=t.insert(r.key,r);return t}function uN(e){let t=uk;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function ux(){return uC()}function uP(){return uC()}function uC(){return new uA(e=>e.toString(),(e,t)=>e.isEqual(t))}let uR=new aV(aT.comparator),uI=new aq(aT.comparator);function uO(...e){let t=uI;for(let r of e)t=t.add(r);return t}let uM=new aq(av);function uD(){return uM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class uL{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let n=new Map;return n.set(e,uF.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new uL(aE.min(),n,uD(),u_(),uO())}}class uF{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uF(r,t,uO(),uO(),uO())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class uB{constructor(e,t,r,n){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=n}}class uU{constructor(e,t){this.targetId=e,this.At=t}}class uj{constructor(e,t,r=aW.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class uV{constructor(){this.Rt=0,this.bt=uq(),this.Pt=aW.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=uO(),t=uO(),r=uO();return this.bt.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:ar()}}),new uF(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=uq()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class uG{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=u_(),this.qt=uz(),this.Kt=new aq(av)}Gt(e){for(let t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(let r of e.removedTargetIds)this.jt(r,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{let r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ar()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((e,r)=>{this.Ht(r)&&t(r)})}Yt(e){let t=e.targetId,r=e.At.count,n=this.Xt(t);if(n){let i=n.target;if(lb(i)){if(0===r){let o=new aT(i.path);this.jt(t,o,ld.newNoDocument(o,aE.min()))}else an(1===r)}else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){let t=new Map;this.Lt.forEach((r,n)=>{let i=this.Xt(n);if(i){if(r.current&&lb(i.target)){let o=new aT(i.target.path);null!==this.Ut.get(o)||this.ee(n,o)||this.jt(n,o,ld.newNoDocument(o,e))}r.Dt&&(t.set(n,r.xt()),r.Nt())}});let r=uO();this.qt.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.Xt(e);return!t||2===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.Ut.forEach((t,r)=>r.setReadTime(e));let n=new uL(e,t,this.Kt,this.Ut,r);return this.Ut=u_(),this.qt=uz(),this.Kt=new aq(av),n}Qt(e,t){if(!this.Ht(e))return;let r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;let n=this.zt(e);this.ee(e,t)?n.kt(t,1):n.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){let t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new uV,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new aq(av),this.qt=this.qt.insert(e,t)),t}Ht(e){let t=null!==this.Xt(e);return t||s7("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){let t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new uV),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function uz(){return new aV(aT.comparator)}function uq(){return new aV(aT.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let uH=(()=>{let e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),uK=(()=>{let e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})();class uW{constructor(e,t){this.databaseId=e,this.gt=t}}function u$(e,t){return e.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uY(e,t){return e.gt?t.toBase64():t.toUint8Array()}function uJ(e,t){return u$(e,t.toTimestamp())}function uQ(e){return an(!!e),aE.fromTimestamp(function(e){let t=aY(e);return new aw(t.seconds,t.nanos)}(e))}function uX(e,t){var r;return(r=e,new aS(["projects",r.projectId,"databases",r.database])).child("documents").child(t).canonicalString()}function uZ(e){let t=aS.fromString(e);return an(cf(t)),t}function u0(e,t){return uX(e.databaseId,t.path)}function u1(e,t){let r=uZ(t);if(r.get(1)!==e.databaseId.projectId)throw new as(ao.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new as(ao.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new aT(u4(r))}function u2(e,t){return uX(e.databaseId,t)}function u3(e){let t=uZ(e);return 4===t.length?aS.emptyPath():u4(t)}function u6(e){return new aS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function u4(e){return an(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function u5(e,t,r){return{name:u0(e,t),fields:r.value.mapValue.fields}}function u8(e,t){let r;if("targetChange"in t){var n,i,o;t.targetChange;let s="NO_CHANGE"===(n=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===n?1:"REMOVE"===n?2:"CURRENT"===n?3:"RESET"===n?4:ar(),a=t.targetChange.targetIds||[],l=(i=e,o=t.targetChange.resumeToken,i.gt?(an(void 0===o||"string"==typeof o),aW.fromBase64String(o||"")):(an(void 0===o||o instanceof Uint8Array),aW.fromUint8Array(o||new Uint8Array))),u=t.targetChange.cause,c=u&&function(e){let t=void 0===e.code?ao.UNKNOWN:uE(e.code);return new as(t,e.message||"")}(u);r=new uj(s,a,l,c||null)}else if("documentChange"in t){t.documentChange;let h=t.documentChange;h.document,h.document.name,h.document.updateTime;let f=u1(e,h.document.name),d=uQ(h.document.updateTime),p=new lh({mapValue:{fields:h.document.fields}}),g=ld.newFoundDocument(f,d,p),m=h.targetIds||[],y=h.removedTargetIds||[];r=new uB(m,y,g.key,g)}else if("documentDelete"in t){t.documentDelete;let v=t.documentDelete;v.document;let b=u1(e,v.document),w=v.readTime?uQ(v.readTime):aE.min(),E=ld.newNoDocument(b,w),A=v.removedTargetIds||[];r=new uB([],A,E.key,E)}else if("documentRemove"in t){t.documentRemove;let S=t.documentRemove;S.document;let _=u1(e,S.document),k=S.removedTargetIds||[];r=new uB([],k,_,null)}else{if(!("filter"in t))return ar();{t.filter;let T=t.filter;T.targetId;let N=T.count||0,x=new ub(N),P=T.targetId;r=new uU(P,x)}}return r}function u7(e,t){var r,n;let i;if(t instanceof uf)i={update:u5(e,t.key,t.value)};else if(t instanceof uy)i={delete:u0(e,t.key)};else if(t instanceof ud)i={update:u5(e,t.key,t.data),updateMask:ch(t.fieldMask)};else{if(!(t instanceof uv))return ar();i={verify:u0(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let r=t.transform;if(r instanceof l6)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof l4)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof l8)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof l9)return{fieldPath:t.field.canonicalString(),increment:r.yt};throw ar()})(0,e))),t.precondition.isNone||(i.currentDocument=(r=e,void 0!==(n=t.precondition).updateTime?{updateTime:uJ(r,n.updateTime)}:void 0!==n.exists?{exists:n.exists}:ar())),i}function u9(e,t){return e&&e.length>0?(an(void 0!==t),e.map(e=>{var r,n;let i;return r=e,n=t,(i=r.updateTime?uQ(r.updateTime):uQ(n)).isEqual(aE.min())&&(i=uQ(n)),new un(i,r.transformResults||[])})):[]}function ce(e,t){return{documents:[u2(e,t.path)]}}function ct(e,t){var r,n,i,o;let s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(s.parent=u2(e,a),s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s.parent=u2(e,a.popLast()),s.structuredQuery.from=[{collectionId:a.lastSegment()}]);let l=function(e){if(0===e.length)return;let t=e.map(e=>(function(e){if("=="===e.op){if(la(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NAN"}};if(ls(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(la(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NOT_NAN"}};if(ls(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(e.field),op:cs(e.op),value:e.value}}})(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);l&&(s.structuredQuery.where=l);let u=function(e){if(0!==e.length)return e.map(e=>{var t;return{field:ca((t=e).field),direction:co(t.dir)}})}(t.orderBy);u&&(s.structuredQuery.orderBy=u);let c=(n=e,i=t.limit,n.gt||a3(i)?i:{value:i});return null!==c&&(s.structuredQuery.limit=c),t.startAt&&(s.structuredQuery.startAt={before:(r=t.startAt).inclusive,values:r.position}),t.endAt&&(s.structuredQuery.endAt={before:!(o=t.endAt).inclusive,values:o.position}),s}function cr(e){var t;let r,n=u3(e.parent),i=e.structuredQuery,o=i.from?i.from.length:0,s=null;if(o>0){an(1===o);let a=i.from[0];a.allDescendants?s=a.collectionId:n=n.child(a.collectionId)}let l=[];i.where&&(l=ci(i.where));let u=[];i.orderBy&&(u=i.orderBy.map(e=>{var t;return t=e,new lC(cl(t.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}));let c=null;i.limit&&(c=a3(r="object"==typeof(t=i.limit)?t.value:t)?null:r);let h=null;i.startAt&&(h=function(e){let t=!!e.before,r=e.values||[];return new lP(r,t)}(i.startAt));let f=null;return i.endAt&&(f=function(e){let t=!e.before,r=e.values||[];return new lP(r,t)}(i.endAt)),lD(n,s,u,l,c,"F",h,f)}function cn(e,t){let r=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ar()}}(0,t.purpose);return null==r?null:{"goog-listen-tags":r}}function ci(e){return e?void 0!==e.unaryFilter?[cc(e)]:void 0!==e.fieldFilter?[cu(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>ci(e)).reduce((e,t)=>e.concat(t)):ar():[]}function co(e){return uH[e]}function cs(e){return uK[e]}function ca(e){return{fieldPath:e.canonicalString()}}function cl(e){return ak.fromServerFormat(e.fieldPath)}function cu(e){return lw.create(cl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ar()}}(e.fieldFilter.op),e.fieldFilter.value)}function cc(e){switch(e.unaryFilter.op){case"IS_NAN":let t=cl(e.unaryFilter.field);return lw.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=cl(e.unaryFilter.field);return lw.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=cl(e.unaryFilter.field);return lw.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=cl(e.unaryFilter.field);return lw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ar()}}function ch(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function cf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}let cd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cp=([...cd],["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),cg=cp;[...cg];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cm{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let n=0;n<this.mutations.length;n++){let i=this.mutations[n];i.key.isEqual(e.key)&&ul(i,e,r[n])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=uu(r,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=uu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=uP();return this.mutations.forEach(n=>{let i=e.get(n.key),o=i.overlayedDocument,s=this.applyToLocalView(o,i.mutatedFields);s=t.has(n.key)?null:s;let a=ua(o,s);null!==a&&r.set(n.key,a),o.isValidDocument()||o.convertToNoDocument(aE.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),uO())}isEqual(e){return this.batchId===e.batchId&&ab(this.mutations,e.mutations,(e,t)=>uh(e,t))&&ab(this.baseMutations,e.baseMutations,(e,t)=>uh(e,t))}}class cy{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){an(e.mutations.length===r.length);let n=uR,i=e.mutations;for(let o=0;o<i.length;o++)n=n.insert(i[o].key,r[o].version);return new cy(e,t,r,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cb{constructor(e,t,r,n,i=aE.min(),o=aE.min(),s=aW.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new cb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new cb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new cb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cw{constructor(e){this.re=e}}function cE(e){let t=cr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lz(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cA{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(aJ(e.integerValue));else if("doubleValue"in e){let r=aJ(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),a6(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){let n=e.timestampValue;this.le(t,20),"string"==typeof n?t.de(n):(t.de(`${n.seconds||""}`),t.fe(n.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(aQ(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?lc(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ar()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){let r=e.fields||{};for(let n of(this.le(t,55),Object.keys(r)))this._e(n,t),this.ae(r[n],t)}pe(e,t){let r=e.values||[];for(let n of(this.le(t,50),r))this.ae(n,t)}ge(e,t){this.le(t,37),aT.fromName(e).path.forEach(e=>{this.le(t,60),this.Ie(e,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}cA.Te=new cA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cS{constructor(){this.Ye=new c_}addToCollectionParentIndex(e,t){return this.Ye.add(t),aD.resolve()}getCollectionParents(e,t){return aD.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return aD.resolve()}deleteFieldIndex(e,t){return aD.resolve()}getDocumentsMatchingTarget(e,t){return aD.resolve(null)}getIndexType(e,t){return aD.resolve(0)}getFieldIndexes(e,t){return aD.resolve([])}getNextCollectionGroupToUpdate(e){return aD.resolve(null)}getMinOffset(e,t){return aD.resolve(aC.min())}getMinOffsetFromCollectionGroup(e,t){return aD.resolve(aC.min())}updateCollectionGroup(e,t,r){return aD.resolve()}updateIndexEntries(e,t){return aD.resolve()}}class c_{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new aq(aS.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new aq(aS.comparator)).toArray()}}new Uint8Array(0);class ck{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ck(e,ck.DEFAULT_COLLECTION_PERCENTILE,ck.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ ck.DEFAULT_COLLECTION_PERCENTILE=10,ck.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ck.DEFAULT=new ck(41943040,ck.DEFAULT_COLLECTION_PERCENTILE,ck.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ck.DISABLED=new ck(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cT{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new cT(0)}static vn(){return new cT(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cN{constructor(){this.changes=new uA(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ld.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return void 0!==r?aD.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cP{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.getBaseDocument(e,t,r))).next(e=>(null!==r&&uu(r.mutation,e,aK.empty(),aw.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,uO()).next(()=>t))}getLocalViewOfDocuments(e,t,r=uO()){let n=ux();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=uT();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=ux();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,uO()))}populateOverlays(e,t,r){let n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=u_(),o=uC(),s=uC();return t.forEach((e,t)=>{let s=r.get(t.key);n.has(t.key)&&(void 0===s||s.mutation instanceof ud)?i=i.insert(t.key,t):void 0!==s&&(o.set(t.key,s.mutation.getFieldMask()),uu(s.mutation,t,s.mutation.getFieldMask(),aw.now()))}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var r;return s.set(e,new cx(t,null!==(r=o.get(e))&&void 0!==r?r:null))}),s))}recalculateAndSaveOverlays(e,t){let r=uC(),n=new aV((e,t)=>e-t),i=uO();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let o=t.get(e);if(null===o)return;let s=r.get(e)||aK.empty();s=i.applyToLocalView(o,s),r.set(e,s);let a=(n.get(i.batchId)||uO()).add(e);n=n.insert(i.batchId,a)})}).next(()=>{let o=[],s=n.getReverseIterator();for(;s.hasNext();){let a=s.getNext(),l=a.key,u=a.value,c=uP();u.forEach(e=>{if(!i.has(e)){let n=ua(t.get(e),r.get(e));null!==n&&c.set(e,n),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,c))}return aD.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r){var n;return(n=t,aT.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length)?this.getDocumentsMatchingDocumentQuery(e,t.path):lj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{let o=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):aD.resolve(ux()),s=-1,a=i;return o.next(t=>aD.forEach(t,(t,r)=>(s<r.largestBatchId&&(s=r.largestBatchId),i.get(t)?aD.resolve():this.getBaseDocument(e,t,r).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,uO())).next(e=>({batchId:s,changes:uN(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new aT(t)).next(e=>{let t=uT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r){let n=t.collectionGroup,i=uT();return this.indexManager.getCollectionParents(e,n).next(o=>aD.forEach(o,o=>{var s,a;let l=(s=t,a=o.child(n),new lM(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,r){let n;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(i=>(n=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(e=>{e.forEach((e,t)=>{let r=t.getKey();null===n.get(r)&&(n=n.insert(r,ld.newInvalidDocument(r)))});let r=uT();return n.forEach((n,i)=>{let o=e.get(n);void 0!==o&&uu(o.mutation,i,aK.empty(),aw.now()),lW(t,i)&&(r=r.insert(n,i))}),r})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):aD.resolve(ld.newInvalidDocument(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cC{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return aD.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:uQ(r.createTime)}),aD.resolve()}getNamedQuery(e,t){return aD.resolve(this.ts.get(t))}saveNamedQuery(e,t){var r;return this.ts.set(t.name,{name:(r=t).name,query:cE(r.bundledQuery),readTime:uQ(r.readTime)}),aD.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cR{constructor(){this.overlays=new aV(aT.comparator),this.es=new Map}getOverlay(e,t){return aD.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ux();return aD.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.ue(e,t,n)}),aD.resolve()}removeOverlaysForBatchId(e,t,r){let n=this.es.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.es.delete(r)),aD.resolve()}getOverlaysForCollection(e,t,r){let n=ux(),i=t.length+1,o=new aT(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){let a=s.getNext().value,l=a.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===i&&a.largestBatchId>r&&n.set(a.getKey(),a)}return aD.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new aV((e,t)=>e-t),o=this.overlays.getIterator();for(;o.hasNext();){let s=o.getNext().value;if(s.getKey().getCollectionGroup()===t&&s.largestBatchId>r){let a=i.get(s.largestBatchId);null===a&&(a=ux(),i=i.insert(s.largestBatchId,a)),a.set(s.getKey(),s)}}let l=ux(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((e,t)=>l.set(e,t)),!(l.size()>=n)););return aD.resolve(l)}ue(e,t,r){let n=this.overlays.get(r.key);if(null!==n){let i=this.es.get(n.largestBatchId).delete(r.key);this.es.set(n.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new cv(t,r));let o=this.es.get(t);void 0===o&&(o=uO(),this.es.set(t,o)),this.es.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cI{constructor(){this.ns=new aq(cO.ss),this.rs=new aq(cO.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){let r=new cO(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.cs(new cO(e,t))}hs(e,t){e.forEach(e=>this.removeReference(e,t))}ls(e){let t=new aT(new aS([])),r=new cO(t,e),n=new cO(t,e+1),i=[];return this.rs.forEachInRange([r,n],e=>{this.cs(e),i.push(e.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){let t=new aT(new aS([])),r=new cO(t,e),n=new cO(t,e+1),i=uO();return this.rs.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new cO(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class cO{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return aT.comparator(e.key,t.key)||av(e._s,t._s)}static os(e,t){return av(e._s,t._s)||aT.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new aq(cO.ss)}checkEmpty(e){return aD.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){let i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new cm(i,t,r,n);for(let s of(this.mutationQueue.push(o),n))this.gs=this.gs.add(new cO(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return aD.resolve(o)}lookupMutationBatch(e,t){return aD.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=this.ps(r),i=n<0?0:n;return aD.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return aD.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return aD.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new cO(t,0),n=new cO(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([r,n],e=>{let t=this.ys(e._s);i.push(t)}),aD.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new aq(av);return t.forEach(e=>{let t=new cO(e,0),n=new cO(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,n],e=>{r=r.add(e._s)})}),aD.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=r;aT.isDocumentKey(i)||(i=i.child(""));let o=new cO(new aT(i),0),s=new aq(av);return this.gs.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(s=s.add(e._s)),!0)},o),aD.resolve(this.Is(s))}Is(e){let t=[];return e.forEach(e=>{let r=this.ys(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){an(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return aD.forEach(t.mutations,n=>{let i=new cO(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){let r=new cO(t,0),n=this.gs.firstAfterOrEqual(r);return aD.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,aD.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){let t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cD{constructor(e){this.Es=e,this.docs=new aV(aT.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,n=this.docs.get(r),i=n?n.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return aD.resolve(r?r.document.mutableCopy():ld.newInvalidDocument(t))}getEntries(e,t){let r=u_();return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ld.newInvalidDocument(e))}),aD.resolve(r)}getAllFromCollection(e,t,r){let n=u_(),i=new aT(t.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){let{key:s,value:{document:a}}=o.getNext();if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||0>=aR(aP(a),r)||(n=n.insert(a.key,a.mutableCopy()))}return aD.resolve(n)}getAllFromCollectionGroup(e,t,r,n){ar()}As(e,t){return aD.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new cL(this)}getSize(e){return aD.resolve(this.size)}}class cL extends cN{constructor(e){super(),this.Yn=e}applyChanges(e){let t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.Yn.addEntry(e,n)):this.Yn.removeEntry(r)}),aD.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cF{constructor(e){this.persistence=e,this.Rs=new uA(e=>lm(e),lv),this.lastRemoteSnapshotVersion=aE.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cI,this.targetCount=0,this.vs=cT.Pn()}forEachTarget(e,t){return this.Rs.forEach((e,r)=>t(r)),aD.resolve()}getLastRemoteSnapshotVersion(e){return aD.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return aD.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),aD.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),aD.resolve()}Dn(e){this.Rs.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.vs=new cT(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,aD.resolve()}updateTargetData(e,t){return this.Dn(t),aD.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,aD.resolve()}removeTargets(e,t,r){let n=0,i=[];return this.Rs.forEach((o,s)=>{s.sequenceNumber<=t&&null===r.get(s.targetId)&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),n++)}),aD.waitFor(i).next(()=>n)}getTargetCount(e){return aD.resolve(this.targetCount)}getTargetData(e,t){let r=this.Rs.get(t)||null;return aD.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),aD.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);let n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),aD.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),aD.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ps.ds(t);return aD.resolve(r)}containsKey(e,t){return aD.resolve(this.Ps.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cB{constructor(e,t){var r;this.Vs={},this.overlays={},this.Ss=new aF(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new cF(this),this.indexManager=new cS,this.remoteDocumentCache=(r=e=>this.referenceDelegate.xs(e),new cD(r)),this.It=new cw(t),this.Ns=new cC(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new cM(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){s7("MemoryPersistence","Starting transaction:",e);let n=new cU(this.Ss.next());return this.referenceDelegate.ks(),r(n).next(e=>this.referenceDelegate.Os(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ms(e,t){return aD.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class cU extends aO{constructor(e){super(),this.currentSequenceNumber=e}}class cj{constructor(e){this.persistence=e,this.Fs=new cI,this.$s=null}static Bs(e){return new cj(e)}get Ls(){if(this.$s)return this.$s;throw ar()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),aD.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),aD.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),aD.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(e=>this.Ls.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ls.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return aD.forEach(this.Ls,r=>{let n=aT.fromPath(r);return this.Us(e,n).next(e=>{e||t.removeEntry(n,aE.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return aD.or([()=>aD.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cV{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=n}static Ci(e,t){let r=uO(),n=uO();for(let i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:n=n.add(i.doc.key)}return new cV(e,t.fromCache,r,n)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cG{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,n){return this.ki(e,t).next(i=>i||this.Oi(e,t,n,r)).next(r=>r||this.Mi(e,t))}ki(e,t){if(lF(t))return aD.resolve(null);let r=lG(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(r=lG(t=lz(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{let i=uO(...n);return this.Ni.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{let o=this.Fi(t,n);return this.$i(t,o,i,r.readTime)?this.ki(e,lz(t,null,"F")):this.Bi(e,o,t,r)}))})))}Oi(e,t,r,n){return lF(t)||n.isEqual(aE.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(i=>{let o=this.Fi(t,i);return this.$i(t,o,r,n)?this.Mi(e,t):(s8()<=ng.DEBUG&&s7("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),lK(t)),this.Bi(e,o,t,ax(n,-1)))})}Fi(e,t){let r=new aq(lY(e));return t.forEach((t,n)=>{lW(e,n)&&(r=r.add(n))}),r}$i(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}Mi(e,t){return s8()<=ng.DEBUG&&s7("QueryEngine","Using full collection scan to execute query:",lK(t)),this.Ni.getDocumentsMatchingQuery(e,t,aC.min())}Bi(e,t,r,n){return this.Ni.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cz{constructor(e,t,r,n){this.persistence=e,this.Li=t,this.It=n,this.Ui=new aV(av),this.qi=new uA(e=>lm(e),lv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cP(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function cq(e,t,r,n){return new cz(e,t,r,n)}async function cH(e,t){let r=ai(e);return await r.persistence.runTransaction("Handle user change","readonly",e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next(i=>(n=i,r.Qi(t),r.mutationQueue.getAllMutationBatches(e))).next(t=>{let i=[],o=[],s=uO();for(let a of n)for(let l of(i.push(a.batchId),a.mutations))s=s.add(l.key);for(let u of t)for(let c of(o.push(u.batchId),u.mutations))s=s.add(c.key);return r.localDocuments.getDocuments(e,s).next(e=>({ji:e,removedBatchIds:i,addedBatchIds:o}))})})}function cK(e,t){let r=ai(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let n=t.batch.keys(),i=r.Gi.newChangeBuffer({trackRemovals:!0});return(function(e,t,r,n){let i=r.batch,o=i.keys(),s=aD.resolve();return o.forEach(e=>{s=s.next(()=>n.getEntry(t,e)).next(t=>{let o=r.docVersions.get(e);an(null!==o),0>t.version.compareTo(o)&&(i.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(r,e,t,i).next(()=>i.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=uO();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t))).next(()=>r.localDocuments.getDocuments(e,n))})}function cW(e){let t=ai(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function c$(e,t){let r=ai(e),n=t.snapshotVersion,i=r.Ui;return r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{let o=r.Gi.newChangeBuffer({trackRemovals:!0});i=r.Ui;let s=[];t.targetChanges.forEach((o,a)=>{var l,u,c;let h=i.get(a);if(!h)return;s.push(r.Cs.removeMatchingKeys(e,o.removedDocuments,a).next(()=>r.Cs.addMatchingKeys(e,o.addedDocuments,a)));let f=h.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?f=f.withResumeToken(aW.EMPTY_BYTE_STRING,aE.min()).withLastLimboFreeSnapshotVersion(aE.min()):o.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(o.resumeToken,n)),i=i.insert(a,f),l=h,u=f,c=o,(0===l.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(r.Cs.updateTargetData(e,f))});let a=u_(),l=uO();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),s.push(cY(e,o,t.documentUpdates).next(e=>{a=e.Wi,l=e.zi})),!n.isEqual(aE.min())){let u=r.Cs.getLastRemoteSnapshotVersion(e).next(t=>r.Cs.setTargetsMetadata(e,e.currentSequenceNumber,n));s.push(u)}return aD.waitFor(s).next(()=>o.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(r.Ui=i,e))}function cY(e,t,r){let n=uO(),i=uO();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=u_();return r.forEach((r,o)=>{let s=e.get(r);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(r)),o.isNoDocument()&&o.version.isEqual(aE.min())?(t.removeEntry(r,o.readTime),n=n.insert(r,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),n=n.insert(r,o)):s7("LocalStore","Ignoring outdated watch update for ",r,". Current version:",s.version," Watch version:",o.version)}),{Wi:n,zi:i}})}function cJ(e,t){let r=ai(e);return r.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function cQ(e,t){let r=ai(e);return r.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return r.Cs.getTargetData(e,t).next(i=>i?(n=i,aD.resolve(n)):r.Cs.allocateTargetId(e).next(i=>(n=new cb(t,i,0,e.currentSequenceNumber),r.Cs.addTargetData(e,n).next(()=>n))))}).then(e=>{let n=r.Ui.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.Ui=r.Ui.insert(e.targetId,e),r.qi.set(t,e.targetId)),e})}async function cX(e,t,r){let n=ai(e),i=n.Ui.get(t),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,e=>n.persistence.referenceDelegate.removeTarget(e,i))}catch(s){if(!aL(s))throw s;s7("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ui=n.Ui.remove(t),n.qi.delete(i.target)}function cZ(e,t,r){let n=ai(e),i=aE.min(),o=uO();return n.persistence.runTransaction("Execute query","readonly",e=>(function(e,t,r){let n=ai(e),i=n.qi.get(r);return void 0!==i?aD.resolve(n.Ui.get(i)):n.Cs.getTargetData(t,r)})(n,e,lG(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>n.Li.getDocumentsMatchingQuery(e,t,r?i:aE.min(),r?o:uO())).next(e=>(c0(n,l$(t),e),{documents:e,Hi:o})))}function c0(e,t,r){let n=e.Ki.get(t)||aE.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.Ki.set(t,n)}class c1{constructor(){this.activeTargetIds=uD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c2{constructor(){this.Lr=new c1,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new c1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class c3{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class c6{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){for(let e of(s7("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.Wr))e(0)}jr(){for(let e of(s7("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.Wr))e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let c4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class c5{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class c8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,n,i){let o=this.ho(e,t);s7("RestConnection","Sending: ",o,r);let s={};return this.lo(s,n,i),this.fo(e,o,s,r).then(e=>(s7("RestConnection","Received: ",e),e),t=>{throw ae("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",r),t})}_o(e,t,r,n,i,o){return this.ao(e,t,r,n,i)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+s4,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}ho(e,t){let r=c4[e];return`${this.oo}/v1/${t}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,n){return new Promise((i,o)=>{let s=new s2;s.setWithCredentials(!0),s.listenOnce(sQ.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case sJ.NO_ERROR:let t=s.getResponseJson();s7("Connection","XHR received:",JSON.stringify(t)),i(t);break;case sJ.TIMEOUT:s7("Connection",'RPC "'+e+'" timed out'),o(new as(ao.DEADLINE_EXCEEDED,"Request time out"));break;case sJ.HTTP_ERROR:let r=s.getStatus();if(s7("Connection",'RPC "'+e+'" failed with status:',r,"response text:",s.getResponseText()),r>0){let n=s.getResponseJson().error;if(n&&n.status&&n.message){let a=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(ao).indexOf(t)>=0?t:ao.UNKNOWN}(n.status);o(new as(a,n.message))}else o(new as(ao.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new as(ao.UNAVAILABLE,"Connection failed."));break;default:ar()}}finally{s7("Connection",'RPC "'+e+'" completed.')}});let a=JSON.stringify(n);s.send(t,"POST",a,r,15)})}wo(e,t,r){let n=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=s$(),o=sY(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new s0({})),this.lo(s.initMessageHeaders,t,r),s.encodeInitMessageHeaders=!0;let a=n.join("");s7("Connection","Creating WebChannel: "+a,s);let l=i.createWebChannel(a,s),u=!1,c=!1,h=new c5({Hr(e){c?s7("Connection","Not sending because WebChannel is closed:",e):(u||(s7("Connection","Opening WebChannel transport."),l.open(),u=!0),s7("Connection","WebChannel sending:",e),l.send(e))},Jr:()=>l.close()}),f=(e,t,r)=>{e.listen(t,e=>{try{r(e)}catch(t){setTimeout(()=>{throw t},0)}})};return f(l,s1.EventType.OPEN,()=>{c||s7("Connection","WebChannel transport opened.")}),f(l,s1.EventType.CLOSE,()=>{c||(c=!0,s7("Connection","WebChannel transport closed"),h.io())}),f(l,s1.EventType.ERROR,e=>{c||(c=!0,ae("Connection","WebChannel transport errored:",e),h.io(new as(ao.UNAVAILABLE,"The operation could not be completed")))}),f(l,s1.EventType.MESSAGE,e=>{var t;if(!c){let r=e.data[0];an(!!r);let n=r,i=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(i){s7("Connection","WebChannel received error:",i);let o=i.status,s=function(e){let t=p[e];if(void 0!==t)return uE(t)}(o),a=i.message;void 0===s&&(s=ao.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),c=!0,h.io(new as(s,a)),l.close()}else s7("Connection","WebChannel received:",r),h.ro(r)}}),f(o,sX.STAT_EVENT,e=>{e.stat===sZ.PROXY?s7("Connection","Detected buffering proxy"):e.stat===sZ.NOPROXY&&s7("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function c7(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function c9(e){return new uW(e,!0)}class he{constructor(e,t,r=1e3,n=1.5,i=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=n,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();let t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),n=Math.max(0,t-r);n>0&&s7("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,n,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ht{constructor(e,t,r,n,i,o,s,a){this.Hs=e,this.vo=r,this.Vo=n,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new he(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===ao.RESOURCE_EXHAUSTED?(s9(t.toString()),s9("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===ao.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}qo(){}auth(){this.state=1;let e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.So===t&&this.Go(e,r)},t=>{e(()=>{let e=new as(ao.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)})})}Go(e,t){let r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(e=>{r(()=>this.Qo(e))}),this.stream.onMessage(e=>{r(()=>this.onMessage(e))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return s7("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(s7("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hr extends ht{constructor(e,t,r,n,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,o),this.It=i}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();let t=u8(this.It,e),r=function(e){if(!("targetChange"in e))return aE.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?aE.min():t.readTime?uQ(t.readTime):aE.min()}(e);return this.listener.Wo(t,r)}zo(e){let t={};t.database=u6(this.It),t.addTarget=function(e,t){let r;let n=t.target;return(r=lb(n)?{documents:ce(e,n)}:{query:ct(e,n)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?r.resumeToken=uY(e,t.resumeToken):t.snapshotVersion.compareTo(aE.min())>0&&(r.readTime=u$(e,t.snapshotVersion.toTimestamp())),r}(this.It,e);let r=cn(this.It,e);r&&(t.labels=r),this.Bo(t)}Ho(e){let t={};t.database=u6(this.It),t.removeTarget=e,this.Bo(t)}}class hn extends ht{constructor(e,t,r,n,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,o),this.It=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();let t=u9(e.writeResults,e.commitTime),r=uQ(e.commitTime);return this.listener.Zo(r,t)}return an(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){let e={};e.database=u6(this.It),this.Bo(e)}Xo(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>u7(this.It,e))};this.Bo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class hi extends class{}{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=n,this.nu=!1}su(){if(this.nu)throw new as(ao.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([n,i])=>this.connection.ao(e,t,r,n,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===ao.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new as(ao.UNKNOWN,e.toString())})}_o(e,t,r,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection._o(e,t,r,i,o,n)).catch(e=>{throw"FirebaseError"===e.name?(e.code===ao.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new as(ao.UNKNOWN,e.toString())})}terminate(){this.nu=!0}}class ho{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(s9(t),this.ou=!1):s7("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class hs{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.qr(e=>{r.enqueueAndForget(async()=>{hg(this)&&(s7("RemoteStore","Restarting streams for network reachability change."),await async function(e){let t=ai(e);t._u.add(4),await hl(t),t.gu.set("Unknown"),t._u.delete(4),await ha(t)}(this))})}),this.gu=new ho(r,n)}}async function ha(e){if(hg(e))for(let t of e.wu)await t(!0)}async function hl(e){for(let t of e.wu)await t(!1)}function hu(e,t){let r=ai(e);r.du.has(t.targetId)||(r.du.set(t.targetId,t),hp(r)?hd(r):hO(r).ko()&&hh(r,t))}function hc(e,t){let r=ai(e),n=hO(r);r.du.delete(t),n.ko()&&hf(r,t),0===r.du.size&&(n.ko()?n.Fo():hg(r)&&r.gu.set("Unknown"))}function hh(e,t){e.yu.Mt(t.targetId),hO(e).zo(t)}function hf(e,t){e.yu.Mt(t),hO(e).Ho(t)}function hd(e){e.yu=new uG({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),se:t=>e.du.get(t)||null}),hO(e).start(),e.gu.uu()}function hp(e){return hg(e)&&!hO(e).No()&&e.du.size>0}function hg(e){return 0===ai(e)._u.size}function hm(e){e.yu=void 0}async function hy(e){e.du.forEach((t,r)=>{hh(e,t)})}async function hv(e,t){hm(e),hp(e)?(e.gu.hu(t),hd(e)):e.gu.set("Unknown")}async function hb(e,t,r){if(e.gu.set("Online"),t instanceof uj&&2===t.state&&t.cause)try{await async function(e,t){let r=t.cause;for(let n of t.targetIds)e.du.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.du.delete(n),e.yu.removeTarget(n))}(e,t)}catch(n){s7("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hw(e,n)}else if(t instanceof uB?e.yu.Gt(t):t instanceof uU?e.yu.Yt(t):e.yu.Wt(t),!r.isEqual(aE.min()))try{let i=await cW(e.localStore);r.compareTo(i)>=0&&await function(e,t){let r=e.yu.te(t);return r.targetChanges.forEach((r,n)=>{if(r.resumeToken.approximateByteSize()>0){let i=e.du.get(n);i&&e.du.set(n,i.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach(t=>{let r=e.du.get(t);if(!r)return;e.du.set(t,r.withResumeToken(aW.EMPTY_BYTE_STRING,r.snapshotVersion)),hf(e,t);let n=new cb(r.target,t,1,r.sequenceNumber);hh(e,n)}),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(o){s7("RemoteStore","Failed to raise snapshot:",o),await hw(e,o)}}async function hw(e,t,r){if(!aL(t))throw t;e._u.add(1),await hl(e),e.gu.set("Offline"),r||(r=()=>cW(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{s7("RemoteStore","Retrying IndexedDB access"),await r(),e._u.delete(1),await ha(e)})}function hE(e,t){return t().catch(r=>hw(e,r,t))}async function hA(e){let t=ai(e),r=hM(t),n=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;hS(t);)try{let i=await cJ(t.localStore,n);if(null===i){0===t.fu.length&&r.Fo();break}n=i.batchId,h_(t,i)}catch(o){await hw(t,o)}hk(t)&&hT(t)}function hS(e){return hg(e)&&e.fu.length<10}function h_(e,t){e.fu.push(t);let r=hM(e);r.ko()&&r.Yo&&r.Xo(t.mutations)}function hk(e){return hg(e)&&!hM(e).No()&&e.fu.length>0}function hT(e){hM(e).start()}async function hN(e){hM(e).eu()}async function hx(e){let t=hM(e);for(let r of e.fu)t.Xo(r.mutations)}async function hP(e,t,r){let n=e.fu.shift(),i=cy.from(n,t,r);await hE(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await hA(e)}async function hC(e,t){t&&hM(e).Yo&&await async function(e,t){var r;if(uw(r=t.code)&&r!==ao.ABORTED){let n=e.fu.shift();hM(e).Mo(),await hE(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await hA(e)}}(e,t),hk(e)&&hT(e)}async function hR(e,t){let r=ai(e);r.asyncQueue.verifyOperationInProgress(),s7("RemoteStore","RemoteStore received new credentials");let n=hg(r);r._u.add(3),await hl(r),n&&r.gu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r._u.delete(3),await ha(r)}async function hI(e,t){let r=ai(e);t?(r._u.delete(2),await ha(r)):t||(r._u.add(2),await hl(r),r.gu.set("Unknown"))}function hO(e){return e.pu||(e.pu=function(e,t,r){let n=ai(e);return n.su(),new hr(t,n.connection,n.authCredentials,n.appCheckCredentials,n.It,r)}(e.datastore,e.asyncQueue,{Yr:hy.bind(null,e),Zr:hv.bind(null,e),Wo:hb.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Mo(),hp(e)?hd(e):e.gu.set("Unknown")):(await e.pu.stop(),hm(e))})),e.pu}function hM(e){return e.Iu||(e.Iu=function(e,t,r){let n=ai(e);return n.su(),new hn(t,n.connection,n.authCredentials,n.appCheckCredentials,n.It,r)}(e.datastore,e.asyncQueue,{Yr:hN.bind(null,e),Zr:hC.bind(null,e),tu:hx.bind(null,e),Zo:hP.bind(null,e)}),e.wu.push(async t=>{t?(e.Iu.Mo(),await hA(e)):(await e.Iu.stop(),e.fu.length>0&&(s7("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class hD{constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,r,n,i){let o=Date.now()+r,s=new hD(e,t,o,n,i);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new as(ao.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hL(e,t){if(s9("AsyncQueue",`${t}: ${e}`),aL(e))return new as(ao.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class hF{constructor(e){this.comparator=e?(t,r)=>e(t,r)||aT.comparator(t.key,r.key):(e,t)=>aT.comparator(e.key,t.key),this.keyedMap=uT(),this.sortedSet=new aV(this.comparator)}static emptySet(e){return new hF(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hF)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let n=t.getNext().key,i=r.getNext().key;if(!n.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new hF;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class hB{constructor(){this.Tu=new aV(aT.comparator)}track(e){let t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ar():this.Tu=this.Tu.insert(t,e)}Eu(){let e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class hU{constructor(e,t,r,n,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,i){let o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new hU(e,t,hF.emptySet(t),o,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lq(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n].type!==r[n].type||!t[n].doc.isEqual(r[n].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class hj{constructor(){this.Au=void 0,this.listeners=[]}}class hV{constructor(){this.queries=new uA(e=>lH(e),lq),this.onlineState="Unknown",this.Ru=new Set}}async function hG(e,t){let r=ai(e),n=t.query,i=!1,o=r.queries.get(n);if(o||(i=!0,o=new hj),i)try{o.Au=await r.onListen(n)}catch(a){let s=hL(a,`Initialization of query '${lK(t.query)}' failed`);return void t.onError(s)}r.queries.set(n,o),o.listeners.push(t),t.bu(r.onlineState),o.Au&&t.Pu(o.Au)&&hK(r)}async function hz(e,t){let r=ai(e),n=t.query,i=!1,o=r.queries.get(n);if(o){let s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return r.queries.delete(n),r.onUnlisten(n)}function hq(e,t){let r=ai(e),n=!1;for(let i of t){let o=i.query,s=r.queries.get(o);if(s){for(let a of s.listeners)a.Pu(i)&&(n=!0);s.Au=i}}n&&hK(r)}function hH(e,t,r){let n=ai(e),i=n.queries.get(t);if(i)for(let o of i.listeners)o.onError(r);n.queries.delete(t)}function hK(e){e.Ru.forEach(e=>{e.next()})}class hW{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)3!==r.type&&t.push(r);e=new hU(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;let r="Offline"!==t;return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;let t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=hU.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class h${constructor(e){this.key=e}}class hY{constructor(e){this.key=e}}class hJ{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=uO(),this.mutatedKeys=uO(),this.Gu=lY(e),this.Qu=new hF(this.Gu)}get ju(){return this.Uu}Wu(e,t){let r=t?t.zu:new hB,n=t?t.Qu:this.Qu,i=t?t.mutatedKeys:this.mutatedKeys,o=n,s=!1,a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let u=n.get(e),c=lW(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(r.track({type:3,doc:c}),d=!0):this.Hu(u,c)||(r.track({type:2,doc:c}),d=!0,(a&&this.Gu(c,a)>0||l&&0>this.Gu(c,l))&&(s=!0)):!u&&c?(r.track({type:0,doc:c}),d=!0):u&&!c&&(r.track({type:1,doc:u}),d=!0,(a||l)&&(s=!0)),d&&(c?(o=o.add(c),i=f?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){let u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:s,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){let n=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;let i=e.zu.Eu();i.sort((e,t)=>(function(e,t){let r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ar()}};return r(e)-r(t)})(e.type,t.type)||this.Gu(e.doc,t.doc)),this.Ju(r);let o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,a=s!==this.qu;return(this.qu=s,0!==i.length||a)?{snapshot:new hU(this.query,e.Qu,n,i,e.mutatedKeys,0===s,a,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new hB,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=e.current)}Yu(){if(!this.current)return[];let e=this.Ku;this.Ku=uO(),this.Qu.forEach(e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))});let t=[];return e.forEach(e=>{this.Ku.has(e)||t.push(new hY(e))}),this.Ku.forEach(r=>{e.has(r)||t.push(new h$(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=uO();let t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return hU.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class hQ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hX{constructor(e){this.key=e,this.nc=!1}}class hZ{constructor(e,t,r,n,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new uA(e=>lH(e),lq),this.rc=new Map,this.oc=new Set,this.uc=new aV(aT.comparator),this.cc=new Map,this.ac=new cI,this.hc={},this.lc=new Map,this.fc=cT.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function h0(e,t){let r,n;let i=fu(e),o=i.ic.get(t);if(o)r=o.targetId,i.sharedClientState.addLocalQueryTarget(r),n=o.view.ec();else{let s=await cQ(i.localStore,lG(t));i.isPrimaryClient&&hu(i.remoteStore,s);let a=i.sharedClientState.addLocalQueryTarget(s.targetId);n=await h1(i,t,r=s.targetId,"current"===a,s.resumeToken)}return n}async function h1(e,t,r,n,i){e._c=(t,r,n)=>(async function(e,t,r,n){let i=t.view.Wu(r);i.$i&&(i=await cZ(e.localStore,t.query,!1).then(({documents:e})=>t.view.Wu(e,i)));let o=n&&n.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return fn(e,t.targetId,s.Xu),s.snapshot})(e,t,r,n);let o=await cZ(e.localStore,t,!0),s=new hJ(t,o.Hi),a=s.Wu(o.documents),l=uF.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);fn(e,r,u.Xu);let c=new hQ(t,r,s);return e.ic.set(t,c),e.rc.has(r)?e.rc.get(r).push(t):e.rc.set(r,[t]),u.snapshot}async function h2(e,t){let r=ai(e),n=r.ic.get(t),i=r.rc.get(n.targetId);if(i.length>1)return r.rc.set(n.targetId,i.filter(e=>!lq(e,t))),void r.ic.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await cX(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),hc(r.remoteStore,n.targetId),ft(r,n.targetId)}).catch(aM)):(ft(r,n.targetId),await cX(r.localStore,n.targetId,!0))}async function h3(e,t,r){let n=fc(e);try{var i,o,s;let a;let l=await function(e,t){let r,n;let i=ai(e),o=aw.now(),s=t.reduce((e,t)=>e.add(t.key),uO());return i.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=u_(),l=uO();return i.Gi.getEntries(e,s).next(e=>{(a=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>i.localDocuments.getOverlayedDocuments(e,a)).next(n=>{r=n;let s=[];for(let a of t){let l=uc(a,r.get(a.key).overlayedDocument);null!=l&&s.push(new ud(a.key,l,lf(l.value.mapValue),ui.exists(!0)))}return i.mutationQueue.addMutationBatch(e,o,s,t)}).next(t=>{n=t;let o=t.applyToLocalDocumentSet(r,l);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)})}).then(()=>({batchId:n.batchId,changes:uN(r)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(l.batchId),i=n,o=l.batchId,s=r,(a=i.hc[i.currentUser.toKey()])||(a=new aV(av)),a=a.insert(o,s),i.hc[i.currentUser.toKey()]=a,await fs(n,l.changes),await hA(n.remoteStore)}catch(c){let u=hL(c,"Failed to persist write");r.reject(u)}}async function h6(e,t){let r=ai(e);try{let n=await c$(r.localStore,t);t.targetChanges.forEach((e,t)=>{let n=r.cc.get(t);n&&(an(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?an(n.nc):e.removedDocuments.size>0&&(an(n.nc),n.nc=!1))}),await fs(r,n,t)}catch(i){await aM(i)}}function h4(e,t,r){let n=ai(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){let i=[];n.ic.forEach((e,r)=>{let n=r.view.bu(t);n.snapshot&&i.push(n.snapshot)}),function(e,t){let r=ai(e);r.onlineState=t;let n=!1;r.queries.forEach((e,r)=>{for(let i of r.listeners)i.bu(t)&&(n=!0)}),n&&hK(r)}(n.eventManager,t),i.length&&n.sc.Wo(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function h5(e,t,r){let n=ai(e);n.sharedClientState.updateQueryState(t,"rejected",r);let i=n.cc.get(t),o=i&&i.key;if(o){let s=new aV(aT.comparator);s=s.insert(o,ld.newNoDocument(o,aE.min()));let a=uO().add(o),l=new uL(aE.min(),new Map,new aq(av),s,a);await h6(n,l),n.uc=n.uc.remove(o),n.cc.delete(t),fo(n)}else await cX(n.localStore,t,!1).then(()=>ft(n,t,r)).catch(aM)}async function h8(e,t){let r=ai(e),n=t.batch.batchId;try{let i=await cK(r.localStore,t);fe(r,n,null),h9(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await fs(r,i)}catch(o){await aM(o)}}async function h7(e,t,r){let n=ai(e);try{let i=await function(e,t){let r=ai(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(an(null!==t),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))})}(n.localStore,t);fe(n,t,r),h9(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await fs(n,i)}catch(o){await aM(o)}}function h9(e,t){(e.lc.get(t)||[]).forEach(e=>{e.resolve()}),e.lc.delete(t)}function fe(e,t,r){let n=ai(e),i=n.hc[n.currentUser.toKey()];if(i){let o=i.get(t);o&&(r?o.reject(r):o.resolve(),i=i.remove(t)),n.hc[n.currentUser.toKey()]=i}}function ft(e,t,r=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.rc.get(t)))e.ic.delete(n),r&&e.sc.wc(n,r);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(t=>{e.ac.containsKey(t)||fr(e,t)})}function fr(e,t){e.oc.delete(t.path.canonicalString());let r=e.uc.get(t);null!==r&&(hc(e.remoteStore,r),e.uc=e.uc.remove(t),e.cc.delete(r),fo(e))}function fn(e,t,r){for(let n of r)n instanceof h$?(e.ac.addReference(n.key,t),fi(e,n)):n instanceof hY?(s7("SyncEngine","Document no longer in limbo: "+n.key),e.ac.removeReference(n.key,t),e.ac.containsKey(n.key)||fr(e,n.key)):ar()}function fi(e,t){let r=t.key,n=r.path.canonicalString();e.uc.get(r)||e.oc.has(n)||(s7("SyncEngine","New document in limbo: "+r),e.oc.add(n),fo(e))}function fo(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){let t=e.oc.values().next().value;e.oc.delete(t);let r=new aT(aS.fromString(t)),n=e.fc.next();e.cc.set(n,new hX(r)),e.uc=e.uc.insert(r,n),hu(e.remoteStore,new cb(lG(lL(r.path)),n,2,aF.at))}}async function fs(e,t,r){let n=ai(e),i=[],o=[],s=[];n.ic.isEmpty()||(n.ic.forEach((e,a)=>{s.push(n._c(a,t,r).then(e=>{if((e||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);let t=cV.Ci(a.targetId,e);o.push(t)}}))}),await Promise.all(s),n.sc.Wo(i),await async function(e,t){let r=ai(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>aD.forEach(t,t=>aD.forEach(t.Si,n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>aD.forEach(t.Di,n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(n){if(!aL(n))throw n;s7("LocalStore","Failed to update sequence numbers: "+n)}for(let i of t){let o=i.targetId;if(!i.fromCache){let s=r.Ui.get(o),a=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(a);r.Ui=r.Ui.insert(o,l)}}}(n.localStore,o))}async function fa(e,t){let r=ai(e);if(!r.currentUser.isEqual(t)){var n;s7("SyncEngine","User change. New user:",t.toKey());let i=await cH(r.localStore,t);r.currentUser=t,(n=r).lc.forEach(e=>{e.forEach(e=>{e.reject(new as(ao.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),n.lc.clear(),r.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await fs(r,i.ji)}}function fl(e,t){let r=ai(e),n=r.cc.get(t);if(n&&n.nc)return uO().add(n.key);{let i=uO(),o=r.rc.get(t);if(!o)return i;for(let s of o){let a=r.ic.get(s);i=i.unionWith(a.view.ju)}return i}}function fu(e){let t=ai(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=h6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h5.bind(null,t),t.sc.Wo=hq.bind(null,t.eventManager),t.sc.wc=hH.bind(null,t.eventManager),t}function fc(e){let t=ai(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=h8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h7.bind(null,t),t}class fh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=c9(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return cq(this.persistence,new cG,e.initialUser,this.It)}yc(e){return new cB(cj.Bs,this.It)}gc(e){return new c2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ff{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>h4(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=fa.bind(null,this.syncEngine),await hI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hV}createDatastore(e){var t,r,n,i,o;let s=c9(e.databaseInfo.databaseId),a=(t=e.databaseInfo,new c8(t));return r=e.authCredentials,n=e.appCheckCredentials,i=a,o=s,new hi(r,n,i,o)}createRemoteStore(e){var t,r,n,i,o;return t=this.localStore,r=this.datastore,n=e.asyncQueue,i=e=>h4(this.syncEngine,e,0),o=c6.C()?new c6:new c3,new hs(t,r,n,i,o)}createSyncEngine(e,t){return function(e,t,r,n,i,o,s){let a=new hZ(e,t,r,n,i,o);return s&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){let t=ai(e);s7("RemoteStore","RemoteStore shutting down."),t._u.add(5),await hl(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function fd(e,t,r){if(!r)throw new as(ao.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fp(e,t,r,n){if(!0===t&&!0===n)throw new as(ao.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function fg(e){if(!aT.isDocumentKey(e))throw new as(ao.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function fm(e){if(aT.isDocumentKey(e))throw new as(ao.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function fy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let r=(t=e).constructor?t.constructor.name:null;return r?`a custom ${r} object`:"an object"}}return"function"==typeof e?"a function":ar()}function fv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new as(ao.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=fy(e);throw new as(ao.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let fb=new Map;class fw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new as(ao.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new as(ao.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,fp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fE{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new as(ao.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new as(ao.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new au;switch(e.type){case"gapi":let t=e.client;return new ad(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new as(ao.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=fb.get(e);t&&(s7("ComponentProvider","Removing Datastore"),fb.delete(e),t.terminate())}(this),Promise.resolve()}}function fA(e,t,r,n={}){var i;let o=(e=fv(e,fE))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ae("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${r}`,ssl:!1})),n.mockUserToken){let s,a;if("string"==typeof n.mockUserToken)s=n.mockUserToken,a=s6.MOCK_USER;else{s=L(n.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new as(ao.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new s6(l)}e._authCredentials=new ac(new al(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fS{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fS(this.firestore,e,this._key)}}class f_{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new f_(this.firestore,e,this._query)}}class fk extends f_{constructor(e,t,r){super(e,t,lL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new fS(this.firestore,null,new aT(e))}withConverter(e){return new fk(this.firestore,e,this._path)}}function fT(e,t,...r){if(e=Y(e),fd("collection","path",t),e instanceof fE){let n=aS.fromString(t,...r);return fm(n),new fk(e,null,n)}{if(!(e instanceof fS||e instanceof fk))throw new as(ao.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=e._path.child(aS.fromString(t,...r));return fm(i),new fk(e.firestore,null,i)}}function fN(e,t,...r){if(e=Y(e),1==arguments.length&&(t=ay.R()),fd("doc","path",t),e instanceof fE){let n=aS.fromString(t,...r);return fg(n),new fS(e,null,new aT(n))}{if(!(e instanceof fS||e instanceof fk))throw new as(ao.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=e._path.child(aS.fromString(t,...r));return fg(i),new fS(e.firestore,e instanceof fk?e.converter:null,new aT(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):s9("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fP{constructor(e,t,r,n){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=s6.UNAUTHENTICATED,this.clientId=ay.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async e=>{s7("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(s7("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new as(ao.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=hL(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function fC(e,t){e.asyncQueue.verifyOperationInProgress(),s7("FirestoreClient","Initializing OfflineComponentProvider");let r=await e.getConfiguration();await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await cH(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function fR(e,t){e.asyncQueue.verifyOperationInProgress();let r=await fI(e);s7("FirestoreClient","Initializing OnlineComponentProvider");let n=await e.getConfiguration();await t.initialize(r,n),e.setCredentialChangeListener(e=>hR(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>hR(t.remoteStore,r)),e.onlineComponents=t}async function fI(e){return e.offlineComponents||(s7("FirestoreClient","Using default OfflineComponentProvider"),await fC(e,new fh)),e.offlineComponents}async function fO(e){return e.onlineComponents||(s7("FirestoreClient","Using default OnlineComponentProvider"),await fR(e,new ff)),e.onlineComponents}function fM(e){return fO(e).then(e=>e.syncEngine)}async function fD(e){let t=await fO(e),r=t.eventManager;return r.onListen=h0.bind(null,t.syncEngine),r.onUnlisten=h2.bind(null,t.syncEngine),r}function fL(e,t,r={}){let n=new aa;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,r,n,i){let o=new fx({next(o){t.enqueueAndForget(()=>hz(e,s));let a=o.docs.has(r);!a&&o.fromCache?i.reject(new as(ao.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&n&&"server"===n.source?i.reject(new as(ao.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new hW(lL(r.path),o,{includeMetadataChanges:!0,Nu:!0});return hG(e,s)})(await fD(e),e.asyncQueue,t,r,n)),n.promise}class fF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new he(this,"async_queue_retry"),this.Wc=()=>{let e=c7();e&&s7("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};let e=c7();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;let t=c7();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});let t=new aa;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!aL(e))throw e;s7("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){let t=this.Bc.then(()=>(this.Gc=!0,e().catch(e=>{var t;let r;this.Kc=e,this.Gc=!1;let n=(r=(t=e).message||"",t.stack&&(r=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),r);throw s9("INTERNAL UNHANDLED ERROR: ",n),e}).then(e=>(this.Gc=!1,e))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);let n=hD.createAndSchedule(this,e,t,r,e=>this.Yc(e));return this.qc.push(n),n}zc(){this.Kc&&ar()}verifyOperationInProgress(){}async Xc(){let e;do await (e=this.Bc);while(e!==this.Bc)}Zc(e){for(let t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{for(let t of(this.qc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.qc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){let t=this.qc.indexOf(e);this.qc.splice(t,1)}}class fB extends fE{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new fF,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fV(this),this._firestoreClient.terminate()}}function fU(e,t){let r="object"==typeof e?e:ta(),n="string"==typeof e?e:t||"(default)",i=tt(r,"firestore").getImmediate({identifier:n});if(!i._initialized){let o=O("firestore");o&&fA(i,...o)}return i}function fj(e){return e._firestoreClient||fV(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fV(e){var t,r,n,i,o;let s=e._freezeSettings(),a=(r=e._databaseId,n=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",i=e._persistenceKey,o=s,new a1(r,n,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));e._firestoreClient=new fP(e._authCredentials,e._appCheckCredentials,e._queue,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fG{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fG(aW.fromBase64String(e))}catch(t){throw new as(ao.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fG(aW.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fz{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new as(ao.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ak(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fq{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fH{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new as(ao.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new as(ao.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return av(this._lat,e._lat)||av(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let fK=/^__.*__$/;class fW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ud(e,this.data,this.fieldMask,t,this.fieldTransforms):new uf(e,this.data,t,this.fieldTransforms)}}function f$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ar()}}class fY{constructor(e,t,r,n,i,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=n,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new fY(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ia({path:r,oa:!1});return n.ua(e),n}ca(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ia({path:r,oa:!1});return n.na(),n}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return f5(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(f$(this.sa)&&fK.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class fJ{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||c9(e)}da(e,t,r,n=!1){return new fY({sa:e,methodName:t,fa:r,path:ak.emptyPath(),oa:!1,la:n},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function fQ(e){let t=e._freezeSettings(),r=c9(e._databaseId);return new fJ(e._databaseId,!!t.ignoreUndefinedProperties,r)}function fX(e,t,r,n,i,o={}){let s,a;let l=e.da(o.merge||o.mergeFields?2:0,t,r,i);f2("Data must be an object, but it was:",l,n);let u=f0(n,l);if(o.merge)s=new aK(l.fieldMask),a=l.fieldTransforms;else if(o.mergeFields){let c=[];for(let h of o.mergeFields){let f=f3(t,h,r);if(!l.contains(f))throw new as(ao.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);f8(c,f)||c.push(f)}s=new aK(c),a=l.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,a=l.fieldTransforms;return new fW(new lh(u),s,a)}function fZ(e,t){if(f1(e=Y(e)))return f2("Unsupported field value:",t,e),f0(e,t);if(e instanceof fq)return function(e,t){if(!f$(t.sa))throw t.ha(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ha(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){let r=[],n=0;for(let i of e){let o=fZ(i,t.aa(n));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Y(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lZ(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=aw.fromDate(e);return{timestampValue:u$(t.It,r)}}if(e instanceof aw){let n=new aw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:u$(t.It,n)}}if(e instanceof fH)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fG)return{bytesValue:uY(t.It,e._byteString)};if(e instanceof fS){let i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uX(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha(`Unsupported field value: ${fy(e)}`)}(e,t)}function f0(e,t){let r={};return aj(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aU(e,(e,n)=>{let i=fZ(n,t.ra(e));null!=i&&(r[e]=i)}),{mapValue:{fields:r}}}function f1(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof aw||e instanceof fH||e instanceof fG||e instanceof fS||e instanceof fq)}function f2(e,t,r){var n;if(!f1(r)||!("object"==typeof(n=r)&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){let i=fy(r);throw"an object"===i?t.ha(e+" a custom object"):t.ha(e+" "+i)}}function f3(e,t,r){if((t=Y(t))instanceof fz)return t._internalPath;if("string"==typeof t)return f4(e,t);throw f5("Field path arguments must be of type string or ",e,!1,void 0,r)}let f6=RegExp("[~\\*/\\[\\]]");function f4(e,t,r){if(t.search(f6)>=0)throw f5(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new fz(...t.split("."))._internalPath}catch(n){throw f5(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function f5(e,t,r,n,i){let o=n&&!n.isEmpty(),s=void 0!==i,a=`Function ${t}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new as(ao.INVALID_ARGUMENT,a+e+l)}function f8(e,t){return e.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class f7{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new f9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(de("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class f9 extends f7{data(){return super.data()}}function de(e,t){return"string"==typeof t?f4(e,t):t instanceof fz?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class dt{convertValue(e,t="none"){switch(a8(e)){case 0:return null;case 1:return e.booleanValue;case 2:return aJ(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(aQ(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ar()}}convertObject(e,t){let r={};return aU(e.fields,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertGeoPoint(e){return new fH(aJ(e.latitude),aJ(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=aZ(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(a0(e));default:return null}}convertTimestamp(e){let t=aY(e);return new aw(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=aS.fromString(e);an(cf(r));let n=new a2(r.get(1),r.get(3)),i=new aT(r.popFirst(5));return n.isEqual(t)||s9(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function dr(e,t,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class dn{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class di extends f7{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(de("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ds extends di{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function da(e){e=fv(e,fS);let t=fv(e.firestore,fB);return fL(fj(t),e._key).then(r=>dh(t,e,r))}class dl extends dt{constructor(e){super(),this.firestore=e}convertBytes(e){return new fG(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new fS(this.firestore,null,t)}}function du(e,t){let r=fv(e.firestore,fB),n=fN(e),i=dr(e.converter,t);return dc(r,[fX(fQ(e.firestore),"addDoc",n._key,i,null!==e.converter,{}).toMutation(n._key,ui.exists(!1))]).then(()=>n)}function dc(e,t){return function(e,t){let r=new aa;return e.asyncQueue.enqueueAndForget(async()=>h3(await fM(e),t,r)),r.promise}(fj(e),t)}function dh(e,t,r){let n=r.docs.get(t._key),i=new dl(e);return new di(e,i,t._key,n,new dn(r.hasPendingWrites,r.fromCache),t.converter)}!function(e,t=!0){s4=to,te(new J("firestore",(e,{instanceIdentifier:r,options:n})=>{let i=e.getProvider("app").getImmediate(),o=new fB(new ah(e.getProvider("auth-internal")),new ag(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new as(ao.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new a2(e.options.projectId,t)}(i,r),i);return n=Object.assign({useFetchStreams:t},n),o._setSettings(n),o},"PUBLIC").setMultipleInstances(!0)),tl(s3,"3.7.2",void 0),tl(s3,"3.7.2","esm2017")}();let df={apiKey:"AIzaSyAxXYkN06iWRs6yS_2sl3_5FpMkQAN0YDg",authDomain:"master-panel-845d7.firebaseapp.com",projectId:"master-panel-845d7",storageBucket:"master-panel-845d7.appspot.com",messagingSenderId:"851907703336",appId:"1:851907703336:web:942eedc84f61c57831fb1d",measurementId:"G-Q7G6V5D1M3"},dd=ts(df),dp=fU(dd);nu(dd);var dg=r(3553),dm=r(6441),dy=r(9485);let dv=["0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc","0xa3f0ad74e5423aebfd80d3ef4346578335a9a72aeaee59ff6cb3582b35133d50","0x7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c3"],db=async(e,t)=>{for(let r of dv){let n=await e.getStorageAt(t,r),i=dm.hexDataSlice(n,12);if(dy.isAddress(i))return i}return null},dw=async function(e,t){let{backProxy:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r&&await db(e,t)||t,i=await e.getCode(n),o=new dg.whatsabi.loaders.SamczunSignatureLookup,s=dg.whatsabi.abiFromBytecode(i),a=await Promise.all(s.map(e=>"function"===e.type?o.loadFunctions(e.selector).then(t=>t[0]?"function ".concat(t[0]," ").concat(e.payable?"payable":""):""):o.loadEvents(e.hash).then(e=>e[0]?"event ".concat(e[0]):""))),l=JSON.stringify(a.filter(e=>e),null,"	");return l};var dE=r(4480),dA=r(9291),dS=r(9613),d_=r(9067);let dk=()=>{let e=(0,dE._8)(e=>{let{set:t,snapshot:r}=e;return async e=>{let n=r.getLoadable(dA.A),i=r.getLoadable(dS.hF),o=n.getValue();if(!e.abi&&!o)return;e.abi||(e.fuzzy=!0);let s=e.abi||await dw(o,e.address,{backProxy:e.backProxy});t(dS.hF,{...i.getValue(),[e.tag||""]:{...e,abi:s}}),t(dS.xn,e.tag)}},[]);return{loadContract:e}},dT=()=>{let e=(0,dE._8)(e=>{let{set:t,snapshot:r}=e;return e=>{let n=r.getLoadable(dS.hF),i=n.getValue(),{[e]:o,...s}=i;t(dS.hF,{...s}),t(dS.xn,null)}},[]);return{removeContract:e}},dN=()=>{let[e,t]=(0,dE.FV)(d_.Q),r=r=>t({...e,script:r}),n=r=>t({...e,byteCode:r});return{toolData:e,setToolData:t,setScript:r,setByteCode:n}},dx=()=>{let e=(0,dE._8)(e=>{let{snapshot:t}=e;return()=>{let e=t.getLoadable(dS.hF),r=e.getValue(),n=Object.keys(r).reduce((e,r)=>(e[r]=t.getLoadable((0,dS.z3)(r)).getValue(),e),{});return{contractDataList:r,contractToolDataList:n}}}),t=()=>{let t=e(),r=new Blob([JSON.stringify(t)],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.setAttribute("download","space.json"),document.body.appendChild(i),i.click(),document.body.removeChild(i)};return{getSpaceData:e,saveSpace:t}},dP=()=>{let e=(0,dE._8)(e=>{let{set:t}=e;return e=>{t(dS.hF,e.contractDataList),Object.keys(e.contractToolDataList).forEach(r=>{t((0,dS.z3)(r),e.contractToolDataList[r])})}},[]),t=t=>{let r=new FileReader;r.onload=()=>{let t=JSON.parse(r.result);e(t)},r.readAsText(t)};return{loadSpace:e,loadSpaceFromFile:t}},dC=()=>{let{getSpaceData:e}=dx(),t=async()=>{let t=e(),{id:r}=await du(fT(dp,"ctester"),t);return r};return{shareSpace:t}},dR=()=>{let{loadSpace:e}=dP(),t=async t=>{let r=await da(fN(dp,"ctester",t)),n=r.data();e(n)};return{loadSpaceFromShare:t}}},9067:function(e,t,r){"use strict";r.d(t,{Q:function(){return l},g:function(){return a}});var n=r(4146),i=r(4480),o=r(9291),s=r(9613);let a=(0,i.nZ)({key:"ContractSelector",get(e){let{get:t}=e,r=t(o.A),i=t(s.xn),a=t(s.hF),l=i&&a[i],u=l&&new n.CH(l.address,l.abi||[],null==r?void 0:r.getSigner());return u},dangerouslyAllowMutability:!0}),l=(0,i.nZ)({key:"ToolSelector",get(e){let{get:t}=e,r=t(s.xn)||"_default_",n=t((0,s.z3)(r));return n},set(e,t){let{get:r,set:n}=e,i=r(s.xn)||"_default_";n((0,s.z3)(i),t)}})},9291:function(e,t,r){"use strict";r.d(t,{A:function(){return i},O:function(){return s}});var n=r(4480);let i=(0,n.cn)({key:"ProviderState",default:null,dangerouslyAllowMutability:!0});var o=r(241);let s=()=>{let e=(0,n._8)(e=>{let{set:t}=e;return async()=>{let e=window.ethereum;if(!e)return alert("No web3 provider found");e.request&&await e.request({method:"eth_requestAccounts"});let r=new o.Q(e);t(i,r)}});return{connectWallet:e}}},4703:function(){},7663:function(e){var t="/";!function(){var r={229:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function l(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(n){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(n){r=s}}();var u=[],c=!1,h=-1;function f(){c&&n&&(c=!1,n.length?u=n.concat(u):h=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(n=u,u=[];++h<t;)n&&n[h].run();h=-1,t=u.length}n=null,c=!1,l(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}},s=!0;try{r[e](o,o.exports,i),s=!1}finally{s&&delete n[e]}return o.exports}i.ab=t+"/";var o=i(229);e.exports=o}()},5152:function(e,t,r){e.exports=r(7645)},2703:function(e,t,r){"use strict";var n=r(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,s){if(s!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},5697:function(e,t,r){e.exports=r(2703)()},414:function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},6983:function(e,t){"use strict";t.J=void 0;let r=(e={})=>{if("undefined"==typeof window)return{persistAtom(){}};let{key:t="recoil-persist",storage:r=localStorage}=e,n=({onSet:e,node:t,trigger:r,setSelf:n})=>{if("get"===r){let s=o();"function"==typeof s.then&&s.then(e=>{e.hasOwnProperty(t.key)&&n(e[t.key])}),s.hasOwnProperty(t.key)&&n(s[t.key])}e(async(e,r,n)=>{let s=o();"function"==typeof s.then?s.then(r=>i(e,r,t.key,n)):i(e,s,t.key,n)})},i=(e,t,r,n)=>{n?delete t[r]:t[r]=e,a(t)},o=()=>{let e=r.getItem(t);return null==e?{}:"string"==typeof e?s(e):"function"==typeof e.then?e.then(s):{}},s=e=>{if(void 0===e)return{};try{return JSON.parse(e)}catch(t){return console.error(t),{}}},a=e=>{try{"function"==typeof r.mergeItem?r.mergeItem(t,JSON.stringify(e)):r.setItem(t,JSON.stringify(e))}catch(n){console.error(n)}};return{persistAtom:n}};t.J=r},4480:function(e,t,r){"use strict";let n;r.d(t,{FV:function(){return ad},Wh:function(){return al},_8:function(){return ap},cn:function(){return au},nZ:function(){return ac},sJ:function(){return af},xu:function(){return ah}});var i,o,s,a,l=r(7294),u=r(3935),c=function(e){let t=Error(e);if(void 0===t.stack)try{throw t}catch(r){}return t},h=function(e){return!!e&&"function"==typeof e.then},f=function(e,t){if(null!=e)return e;throw c(null!=t?t:"Got unexpected null or undefined")};function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p{getValue(){throw c("BaseLoadable")}toPromise(){throw c("BaseLoadable")}valueMaybe(){throw c("BaseLoadable")}valueOrThrow(){throw c(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw c("BaseLoadable")}promiseOrThrow(){throw c(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw c("BaseLoadable")}errorOrThrow(){throw c(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw c("BaseLoadable")}}class g extends p{constructor(e){super(),d(this,"state","hasValue"),d(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{let t=e(this.contents);return h(t)?w(t):_(t)?t:v(t)}catch(r){return h(r)?w(r.next(()=>this.map(e))):b(r)}}}class m extends p{constructor(e){super(),d(this,"state","hasError"),d(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class y extends p{constructor(e){super(),d(this,"state","loading"),d(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return w(this.contents.then(t=>{let r=e(t);if(_(r)){let n=r;switch(n.state){case"hasValue":case"loading":return n.contents;case"hasError":throw n.contents}}return r}).catch(t=>{if(h(t))return t.then(()=>this.map(e).contents);throw t}))}}function v(e){return Object.freeze(new g(e))}function b(e){return Object.freeze(new m(e))}function w(e){return Object.freeze(new y(e))}function E(){return Object.freeze(new y(new Promise(()=>{})))}function A(e){return e.every(e=>"hasValue"===e.state)?v(e.map(e=>e.contents)):e.some(e=>"hasError"===e.state)?b(f(e.find(e=>"hasError"===e.state),"Invalid loadable passed to loadableAll").contents):w(Promise.all(e.map(e=>e.contents)))}function S(e){let t=Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t]),r=t.map(e=>_(e)?e:h(e)?w(e):v(e)),n=A(r);return Array.isArray(e)?n:n.map(t=>Object.getOwnPropertyNames(e).reduce((e,r,n)=>({...e,[r]:t[n]}),{}))}function _(e){return e instanceof p}let k={of:e=>h(e)?w(e):_(e)?e:v(e),error:e=>b(e),loading:()=>E(),all:S,isLoadable:_};var T={loadableWithValue:v,loadableWithError:b,loadableWithPromise:w,loadableLoading:E,loadableAll:S,isLoadable:_,RecoilLoadable:k},N=Object.freeze({__proto__:null,loadableWithValue:T.loadableWithValue,loadableWithError:T.loadableWithError,loadableWithPromise:T.loadableWithPromise,loadableLoading:T.loadableLoading,loadableAll:T.loadableAll,isLoadable:T.isLoadable,RecoilLoadable:T.RecoilLoadable});let x=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function P(e){var t;return null!==(t=x.get(e))&&void 0!==t&&t}P.setPass=e=>{x.set(e,!0)},P.setFail=e=>{x.set(e,!1)},P.clear=()=>{x.clear()};var C=P;let R=null!==(o=l.createMutableSource)&&void 0!==o?o:l.unstable_createMutableSource,I=null!==(s=l.useMutableSource)&&void 0!==s?s:l.unstable_useMutableSource,O=null!==(a=l.useSyncExternalStore)&&void 0!==a?a:l.unstable_useSyncExternalStore;function M(){return C("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:C("recoil_sync_external_store")&&null!=O?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:C("recoil_mutable_source")&&null!=I&&"undefined"!=typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?C("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:C("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function D(){return!1}var L={createMutableSource:R,useMutableSource:I,useSyncExternalStore:O,reactMode:M,isFastRefreshEnabled:D};class F{constructor(e){d(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class B extends F{}class U extends F{}function j(e){return e instanceof B||e instanceof U}var V={AbstractRecoilValue:F,RecoilState:B,RecoilValueReadOnly:U,isRecoilValue:j},G=Object.freeze({__proto__:null,AbstractRecoilValue:V.AbstractRecoilValue,RecoilState:V.RecoilState,RecoilValueReadOnly:V.RecoilValueReadOnly,isRecoilValue:V.isRecoilValue}),z=function(e,...t){},q=function(e,t){return function*(){let r=0;for(let n of e)yield t(n,r++)}()},H=function(e,t,{error:r}={}){return null};let{isFastRefreshEnabled:K}=L;class W{}let $=new W,Y=new Map,J=new Map;function Q(e){return q(e,e=>f(J.get(e)))}function X(e){if(Y.has(e.key)){let t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(t)}Y.set(e.key,e);let r=null==e.set?new G.RecoilValueReadOnly(e.key):new G.RecoilState(e.key);return J.set(e.key,r),r}class Z extends Error{}function ee(e){let t=Y.get(e);if(null==t)throw new Z(`Missing definition for RecoilValue: "${e}""`);return t}function et(e){return Y.get(e)}let er=new Map;function en(e){var t,r;if(!C("recoil_memory_managament_2020"))return;let n=Y.get(e);null!=n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(Y.delete(e),null===(r=eo(e))||void 0===r||r(),er.delete(e))}function ei(e,t){C("recoil_memory_managament_2020")&&(void 0===t?er.delete(e):er.set(e,t))}function eo(e){return er.get(e)}var es={nodes:Y,recoilValues:J,registerNode:X,getNode:ee,getNodeMaybe:et,deleteNodeConfigIfPossible:en,setConfigDeletionHandler:ei,getConfigDeletionHandler:eo,recoilValuesForKeys:Q,NodeMissingError:Z,DefaultValue:W,DEFAULT_VALUE:$};function ea(e,t){t()}var el={enqueueExecution:ea},eu=(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={},n=5,i=31,o=16,s=8,a={},l=function(e){return function(){return e}},u=r.hash=function(e){var r=void 0===e?"undefined":t(e);if("number"===r)return e;"string"!==r&&(e+="");for(var n=0,i=0,o=e.length;i<o;++i)n=(n<<5)-n+e.charCodeAt(i)|0;return n},c=function(e){return e-=e>>1&1431655765,e=(e=(858993459&e)+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)},h=function(e,t){return t>>>e&i},f=function(e){return 1<<e},d=function(e,t){return c(e&t-1)},p=function(e,t,r,n){var i=n;if(!e){var o=n.length;i=Array(o);for(var s=0;s<o;++s)i[s]=n[s]}return i[t]=r,i},g=function(e,t,r){var n=r.length-1,i=0,o=0,s=r;if(e)i=o=t;else for(s=Array(n);i<t;)s[o++]=r[i++];for(++i;i<=n;)s[o++]=r[i++];return e&&(s.length=n),s},m=function(e,t,r,n){var i=n.length;if(e){for(var o=i;o>=t;)n[o--]=n[o];return n[t]=r,n}for(var s=0,a=0,l=Array(i+1);s<t;)l[a++]=n[s++];for(l[t]=r;s<i;)l[++a]=n[s++];return l},y=1,v=2,b=3,w=4,E={__hamt_isEmpty:!0},A=function(e){return e===E||e&&e.__hamt_isEmpty},S=function(e,t,r,n){return{type:y,edit:e,hash:t,key:r,value:n,_modify:O}},_=function(e,t,r){return{type:v,edit:e,hash:t,children:r,_modify:M}},k=function(e,t,r){return{type:b,edit:e,mask:t,children:r,_modify:D}},T=function(e,t,r){return{type:w,edit:e,size:t,children:r,_modify:L}},N=function(e){return e===E||e.type===y||e.type===v},x=function(e,t,r,n,i){for(var o=[],s=n,a=0,l=0;s;++l)1&s&&(o[l]=i[a++]),s>>>=1;return o[t]=r,T(e,a+1,o)},P=function(e,t,r,n){for(var i=Array(t-1),o=0,s=0,a=0,l=n.length;a<l;++a)if(a!==r){var u=n[a];u&&!A(u)&&(i[o++]=u,s|=1<<a)}return k(e,s,i)},C=function e(t,r,i,o,s,a){if(i===s)return _(t,i,[a,o]);var l=h(r,i),u=h(r,s);return k(t,f(l)|f(u),l===u?[e(t,r+n,i,o,s,a)]:l<u?[o,a]:[a,o])},R=function(e,t,r,n,i,o,s,l){for(var u=i.length,c=0;c<u;++c){var h=i[c];if(r(s,h.key)){var f=h.value,d=o(f);if(d===f)return i;if(d===a)return--l.value,g(e,c,i);return p(e,c,S(t,n,s,d),i)}}var m=o();return m===a?i:(++l.value,p(e,u,S(t,n,s,m),i))},I=function(e,t){return e===t.edit},O=function(e,t,r,n,i,o,s){if(t(o,this.key)){var l=n(this.value);return l===this.value?this:l===a?(--s.value,E):I(e,this)?(this.value=l,this):S(e,i,o,l)}var u=n();return u===a?this:(++s.value,C(e,r,this.hash,this,i,S(e,i,o,u)))},M=function(e,t,r,n,i,o,s){if(i===this.hash){var l=R(I(e,this),e,t,this.hash,this.children,n,o,s);return l===this.children?this:l.length>1?_(e,this.hash,l):l[0]}var u=n();return u===a?this:(++s.value,C(e,r,this.hash,this,i,S(e,i,o,u)))},D=function(e,t,r,i,s,a,l){var u=this.mask,c=this.children,y=h(r,s),v=f(y),b=d(u,v),w=u&v,S=w?c[b]:E,_=S._modify(e,t,r+n,i,s,a,l);if(S===_)return this;var T=I(e,this),P=u,C=void 0;if(w&&A(_)){if(!(P&=~v))return E;if(c.length<=2&&N(c[1^b]))return c[1^b];C=g(T,b,c)}else if(w||A(_))C=p(T,b,_,c);else{if(c.length>=o)return x(e,y,_,u,c);P|=v,C=m(T,b,_,c)}return T?(this.mask=P,this.children=C,this):k(e,P,C)},L=function(e,t,r,i,o,a,l){var u=this.size,c=this.children,f=h(r,o),d=c[f],g=(d||E)._modify(e,t,r+n,i,o,a,l);if(d===g)return this;var m=I(e,this),y=void 0;if(A(d)&&!A(g))++u,y=p(m,f,g,c);else if(!A(d)&&A(g)){if(--u<=s)return P(e,u,f,c);y=p(m,f,E,c)}else y=p(m,f,g,c);return m?(this.size=u,this.children=y,this):T(e,u,y)};function F(e,t,r,n,i){this._editable=e,this._edit=t,this._config=r,this._root=n,this._size=i}E._modify=function(e,t,r,n,i,o,s){var l=n();return l===a?E:(++s.value,S(e,i,o,l))},F.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new F(this._editable,this._edit,this._config,e,t)};var B=r.tryGetHash=function(e,t,r,i){for(var o=i._root,s=0,a=i._config.keyEq;;)switch(o.type){case y:return a(r,o.key)?o.value:e;case v:if(t===o.hash)for(var l=o.children,u=0,c=l.length;u<c;++u){var p=l[u];if(a(r,p.key))return p.value}return e;case b:var g=f(h(s,t));if(o.mask&g){o=o.children[d(o.mask,g)],s+=n;break}return e;case w:if(o=o.children[h(s,t)]){s+=n;break}return e;default:return e}};F.prototype.tryGetHash=function(e,t,r){return B(e,t,r,this)};var U=r.tryGet=function(e,t,r){return B(e,r._config.hash(t),t,r)};F.prototype.tryGet=function(e,t){return U(e,t,this)};var j=r.getHash=function(e,t,r){return B(void 0,e,t,r)};F.prototype.getHash=function(e,t){return j(e,t,this)},r.get=function(e,t){return B(void 0,t._config.hash(e),e,t)},F.prototype.get=function(e,t){return U(t,e,this)};var V=r.has=function(e,t,r){return B(a,e,t,r)!==a};F.prototype.hasHash=function(e,t){return V(e,t,this)};var G=r.has=function(e,t){return V(t._config.hash(e),e,t)};F.prototype.has=function(e){return G(e,this)};var z=function(e,t){return e===t};r.make=function(e){return new F(0,0,{keyEq:e&&e.keyEq||z,hash:e&&e.hash||u},E,0)},r.empty=r.make();var q=r.isEmpty=function(e){return e&&!!A(e._root)};F.prototype.isEmpty=function(){return q(this)};var H=r.modifyHash=function(e,t,r,n){var i={value:n._size},o=n._root._modify(n._editable?n._edit:NaN,n._config.keyEq,0,e,t,r,i);return n.setTree(o,i.value)};F.prototype.modifyHash=function(e,t,r){return H(r,e,t,this)};var K=r.modify=function(e,t,r){return H(e,r._config.hash(t),t,r)};F.prototype.modify=function(e,t){return K(t,e,this)};var W=r.setHash=function(e,t,r,n){return H(l(r),e,t,n)};F.prototype.setHash=function(e,t,r){return W(e,t,r,this)};var $=r.set=function(e,t,r){return W(r._config.hash(e),e,t,r)};F.prototype.set=function(e,t){return $(e,t,this)};var Y=l(a),J=r.removeHash=function(e,t,r){return H(Y,e,t,r)};F.prototype.removeHash=F.prototype.deleteHash=function(e,t){return J(e,t,this)};var Q=r.remove=function(e,t){return J(t._config.hash(e),e,t)};F.prototype.remove=F.prototype.delete=function(e){return Q(e,this)};var X=r.beginMutation=function(e){return new F(e._editable+1,e._edit+1,e._config,e._root,e._size)};F.prototype.beginMutation=function(){return X(this)};var Z=r.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};F.prototype.endMutation=function(){return Z(this)};var ee=r.mutate=function(e,t){var r=X(t);return e(r),Z(r)};F.prototype.mutate=function(e){return ee(e,this)};var et=function(e){return e&&er(e[0],e[1],e[2],e[3],e[4])},er=function(e,t,r,n,i){for(;r<e;){var o=t[r++];if(o&&!A(o))return en(o,n,[e,t,r,n,i])}return et(i)},en=function(e,t,r){switch(e.type){case y:return{value:t(e),rest:r};case v:case w:case b:var n=e.children;return er(n.length,n,0,t,r);default:return et(r)}},ei={done:!0};function eo(e){this.v=e}eo.prototype.next=function(){if(!this.v)return ei;var e=this.v;return this.v=et(e.rest),e},eo.prototype[Symbol.iterator]=function(){return this};var es=function(e,t){return new eo(en(e._root,t))},ea=function(e){return[e.key,e.value]},el=r.entries=function(e){return es(e,ea)};F.prototype.entries=F.prototype[Symbol.iterator]=function(){return el(this)};var eu=function(e){return e.key},ec=r.keys=function(e){return es(e,eu)};F.prototype.keys=function(){return ec(this)};var eh=function(e){return e.value},ef=r.values=F.prototype.values=function(e){return es(e,eh)};F.prototype.values=function(){return ef(this)};var ed=r.fold=function(e,t,r){var n=r._root;if(n.type===y)return e(t,n.value,n.key);for(var i=[n.children],o=void 0;o=i.pop();)for(var s=0,a=o.length;s<a;){var l=o[s++];l&&l.type&&(l.type===y?t=e(t,l.value,l.key):i.push(l.children))}return t};F.prototype.fold=function(e,t){return ed(e,t,this)};var ep=r.forEach=function(e,t){return ed(function(r,n,i){return e(n,i,t)},null,t)};F.prototype.forEach=function(e){return ep(e,this)};var eg=r.count=function(e){return e._size};F.prototype.count=function(){return eg(this)},Object.defineProperty(F.prototype,"size",{get:F.prototype.count}),e.exports?e.exports=r:undefined.hamt=r}(i={exports:{}},i.exports),i.exports);class ec{constructor(e){d(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return ef(this)}toMap(){return new Map(this._map)}}class eh{constructor(e){if(d(this,"_hamt",eu.empty.beginMutation()),e instanceof eh){let t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(let[r,n]of e.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return ef(this)}toMap(){return new Map(this._hamt)}}function ef(e){return C("recoil_hamt_2020")?new eh(e):new ec(e)}var ed=Object.freeze({__proto__:null,persistentMap:{persistentMap:ef}.persistentMap}),ep=function(e,...t){let r=new Set;r:for(let n of e){for(let i of t)if(i.has(n))continue r;r.add(n)}return r},eg=function(e,t){let r=new Map;return e.forEach((e,n)=>{r.set(n,t(e,n))}),r};function em(e){return{nodeDeps:eg(e.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:eg(e.nodeToNodeSubscriptions,e=>new Set(e))}}function ey(e,t,r,n){let{nodeDeps:i,nodeToNodeSubscriptions:o}=r,s=i.get(e);if(s&&n&&s!==n.nodeDeps.get(e))return;i.set(e,t);let a=null==s?t:ep(t,s);for(let l of a){o.has(l)||o.set(l,new Set);let u=f(o.get(l));u.add(e)}if(s){let c=ep(s,t);for(let h of c){if(!o.has(h))return;let d=f(o.get(h));d.delete(e),0===d.size&&o.delete(h)}}}function ev(e,t,r,n){var i,o,s,a,l;let u=r.getState();n===u.currentTree.version||n===(null===(i=u.nextTree)||void 0===i?void 0:i.version)||n===(null===(o=u.previousTree)||void 0===o?void 0:o.version)||H("Tried to save dependencies to a discarded tree");let c=r.getGraph(n);if(ey(e,t,c),n===(null===(s=u.previousTree)||void 0===s?void 0:s.version)){let h=r.getGraph(u.currentTree.version);ey(e,t,h,c)}if(n===(null===(a=u.previousTree)||void 0===a?void 0:a.version)||n===u.currentTree.version){let f=null===(l=u.nextTree)||void 0===l?void 0:l.version;if(void 0!==f){let d=r.getGraph(f);ey(e,t,d,c)}}}var eb={cloneGraph:em,graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:ev};let ew=0,eE=()=>ew++,eA=0,eS=()=>eA++,e_=0,ek=()=>e_++;var eT={getNextTreeStateVersion:eE,getNextStoreID:eS,getNextComponentID:ek};let{persistentMap:eN}=ed,{graph:ex}=eb,{getNextTreeStateVersion:eP}=eT;function eC(){let e=eP();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:eN(),nonvalidatedAtoms:eN()}}function eR(){let e=eC();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,ex()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var eI={makeEmptyTreeState:eC,makeEmptyStoreState:eR,getNextTreeStateVersion:eP};class eO{}function eM(){return new eO}var eD={RetentionZone:eO,retentionZone:eM};function eL(e,t){let r=new Set(e);return r.add(t),r}function eF(e,t){let r=new Set(e);return r.delete(t),r}function eB(e,t,r){let n=new Map(e);return n.set(t,r),n}function eU(e,t,r){let n=new Map(e);return n.set(t,r(n.get(t))),n}function ej(e,t){let r=new Map(e);return r.delete(t),r}function eV(e,t){let r=new Map(e);return t.forEach(e=>r.delete(e)),r}var eG={setByAddingToSet:eL,setByDeletingFromSet:eF,mapBySettingInMap:eB,mapByUpdatingInMap:eU,mapByDeletingFromMap:ej,mapByDeletingMultipleFromMap:eV},ez=function*(e,t){let r=0;for(let n of e)t(n,r++)&&(yield n)},eq=function(e,t){let r=new Proxy(e,{get:(e,r)=>(!(r in e)&&r in t&&(e[r]=t[r]()),e[r]),ownKeys:e=>Object.keys(e)});return r};let{getNode:eH,getNodeMaybe:eK,recoilValuesForKeys:eW}=es,{RetentionZone:e$}=eD,{setByAddingToSet:eY}=eG,eJ=Object.freeze(new Set);class eQ extends Error{}function eX(e,t,r){if(!C("recoil_memory_managament_2020"))return()=>void 0;let{nodesRetainedByZone:n}=e.getState().retention;function i(e){let r=n.get(e);r||n.set(e,r=new Set),r.add(t)}if(r instanceof e$)i(r);else if(Array.isArray(r))for(let o of r)i(o);return()=>{if(!C("recoil_memory_managament_2020"))return;let{retention:n}=e.getState();function i(e){let r=n.nodesRetainedByZone.get(e);null==r||r.delete(t),r&&0===r.size&&n.nodesRetainedByZone.delete(e)}if(r instanceof e$)i(r);else if(Array.isArray(r))for(let o of r)i(o)}}function eZ(e,t,r,n){let i=e.getState();if(i.nodeCleanupFunctions.has(r))return;let o=eH(r),s=eX(e,r,o.retainedBy),a=o.init(e,t,n);i.nodeCleanupFunctions.set(r,()=>{a(),s()})}function e0(e,t,r){eZ(e,e.getState().currentTree,t,r)}function e1(e,t){var r;let n=e.getState();null===(r=n.nodeCleanupFunctions.get(t))||void 0===r||r(),n.nodeCleanupFunctions.delete(t)}function e2(e,t,r){return eZ(e,t,r,"get"),eH(r).get(e,t)}function e3(e,t,r){return eH(r).peek(e,t)}function e6(e,t,r){var n;let i=eK(t);return null==i||null===(n=i.invalidate)||void 0===n||n.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,r),dirtyAtoms:eY(e.dirtyAtoms,t)}}function e4(e,t,r,n){let i=eH(r);if(null==i.set)throw new eQ(`Attempt to set read-only RecoilValue: ${r}`);let o=i.set;return eZ(e,t,r,"set"),o(e,t,n)}function e5(e,t,r){let n=e.getState(),i=e.getGraph(t.version),o=eH(r).nodeType;return eq({type:o},{loadable:()=>e3(e,t,r),isActive:()=>n.knownAtoms.has(r)||n.knownSelectors.has(r),isSet:()=>"selector"!==o&&t.atomValues.has(r),isModified:()=>t.dirtyAtoms.has(r),deps(){var e;return eW(null!==(e=i.nodeDeps.get(r))&&void 0!==e?e:[])},subscribers(){var i,o;return{nodes:eW(ez(e8(e,t,new Set([r])),e=>e!==r)),components:q(null!==(i=null===(o=n.nodeToComponentSubscriptions.get(r))||void 0===o?void 0:o.values())&&void 0!==i?i:[],([e])=>({name:e}))}}})}function e8(e,t,r){let n=new Set,i=Array.from(r),o=e.getGraph(t.version);for(let s=i.pop();s;s=i.pop()){var a;n.add(s);let l=null!==(a=o.nodeToNodeSubscriptions.get(s))&&void 0!==a?a:eJ;for(let u of l)n.has(u)||i.push(u)}return n}var e7={getNodeLoadable:e2,peekNodeLoadable:e3,setNodeValue:e4,initializeNode:e0,cleanUpNode:e1,setUnvalidatedAtomValue_DEPRECATED:e6,peekNodeInfo:e5,getDownstreamNodes:e8};let e9=null;function te(e){e9=e}function tt(){var e;null===(e=e9)||void 0===e||e()}var tr={setInvalidateMemoizedSnapshot:te,invalidateMemoizedSnapshot:tt};let{getDownstreamNodes:tn,getNodeLoadable:ti,setNodeValue:to}=e7,{getNextComponentID:ts}=eT,{getNode:ta,getNodeMaybe:tl}=es,{DefaultValue:tu}=es,{reactMode:tc}=L,{AbstractRecoilValue:th,RecoilState:tf,RecoilValueReadOnly:td,isRecoilValue:tp}=G,{invalidateMemoizedSnapshot:tg}=tr;function tm(e,{key:t},r=e.getState().currentTree){var n,i;let o=e.getState();r.version===o.currentTree.version||r.version===(null===(n=o.nextTree)||void 0===n?void 0:n.version)||r.version===(null===(i=o.previousTree)||void 0===i?void 0:i.version)||H("Tried to read from a discarded tree");let s=ti(e,r,t);return"loading"===s.state&&s.contents.catch(()=>{}),s}function ty(e,t){let r=e.clone();return t.forEach((e,t)=>{"hasValue"===e.state&&e.contents instanceof tu?r.delete(t):r.set(t,e)}),r}function tv(e,t,{key:r},n){if("function"!=typeof n)return n;{let i=ti(e,t,r);if("loading"===i.state){let o=`Tried to set atom or selector "${r}" using an updater function while the current state is pending, this is not currently supported.`;throw H(o),c(o)}if("hasError"===i.state)throw i.contents;return n(i.contents)}}function tb(e,t,r){if("set"===r.type){let{recoilValue:n,valueOrUpdater:i}=r,o=tv(e,t,n,i),s=to(e,t,n.key,o);for(let[a,l]of s.entries())tw(t,a,l)}else if("setLoadable"===r.type){let{recoilValue:{key:u},loadable:c}=r;tw(t,u,c)}else if("markModified"===r.type){let{recoilValue:{key:h}}=r;t.dirtyAtoms.add(h)}else if("setUnvalidated"===r.type){var f;let{recoilValue:{key:d},unvalidatedValue:p}=r,g=tl(d);null==g||null===(f=g.invalidate)||void 0===f||f.call(g,t),t.atomValues.delete(d),t.nonvalidatedAtoms.set(d,p),t.dirtyAtoms.add(d)}else H(`Unknown action ${r.type}`)}function tw(e,t,r){"hasValue"===r.state&&r.contents instanceof tu?e.atomValues.delete(t):e.atomValues.set(t,r),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function tE(e,t){e.replaceState(r=>{let n=tk(r);for(let i of t)tb(e,n,i);return tT(e,n),tg(),n})}function tA(e,t){if(tS.length){let r=tS[tS.length-1],n=r.get(e);n||r.set(e,n=[]),n.push(t)}else tE(e,[t])}let tS=[];function t_(){let e=new Map;return tS.push(e),()=>{for(let[t,r]of e)tE(t,r);let n=tS.pop();n!==e&&H("Incorrect order of batch popping")}}function tk(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function tT(e,t){let r=tn(e,t,t.dirtyAtoms);for(let n of r){var i,o;null===(i=tl(n))||void 0===i||null===(o=i.invalidate)||void 0===o||o.call(i,t)}}function tN(e,t,r){tA(e,{type:"set",recoilValue:t,valueOrUpdater:r})}function tx(e,t,r){if(r instanceof tu)return tN(e,t,r);tA(e,{type:"setLoadable",recoilValue:t,loadable:r})}function tP(e,t){tA(e,{type:"markModified",recoilValue:t})}function tC(e,t,r){tA(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:r})}function tR(e,{key:t},r,n=null){let i=ts(),o=e.getState();o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),f(o.nodeToComponentSubscriptions.get(t)).set(i,[null!=n?n:"<not captured>",r]);let s=tc();if(s.early&&("LEGACY"===s.mode||"MUTABLE_SOURCE"===s.mode)){let a=e.getState().nextTree;a&&a.dirtyAtoms.has(t)&&r(a)}return{release(){let r=e.getState(),n=r.nodeToComponentSubscriptions.get(t);if(void 0===n||!n.has(i)){H(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}n.delete(i),0===n.size&&r.nodeToComponentSubscriptions.delete(t)}}}function tI(e,t){var r;let{currentTree:n}=e.getState(),i=ta(t.key);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}var tO={RecoilValueReadOnly:td,AbstractRecoilValue:th,RecoilState:tf,getRecoilValueAsLoadable:tm,setRecoilValue:tN,setRecoilValueLoadable:tx,markRecoilValueModified:tP,setUnvalidatedRecoilValue:tC,subscribeToRecoilValue:tR,isRecoilValue:tp,applyAtomValueWrites:ty,batchStart:t_,writeLoadableToTreeState:tw,invalidateDownstreams:tT,copyTreeState:tk,refreshRecoilValue:tI},tM=function(e,t,r){let n=e.entries(),i=n.next();for(;!i.done;){let o=i.value;if(t.call(r,o[1],o[0],e))return!0;i=n.next()}return!1};let{cleanUpNode:tD}=e7,{deleteNodeConfigIfPossible:tL,getNode:tF}=es,{RetentionZone:tB}=eD,tU=12e4,tj=new Set;function tV(e,t){let r=e.getState(),n=r.currentTree;if(r.nextTree){H("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let i=new Set;for(let o of t)if(o instanceof tB)for(let s of tH(r,o))i.add(s);else i.add(o);let a=tG(e,i);for(let l of a)tq(e,n,l)}function tG(e,t){let r=e.getState(),n=r.currentTree,i=e.getGraph(n.version),o=new Set,s=new Set;return a(t),o;function a(t){var l,u;let c=new Set,h=tz(e,n,t,o,s);for(let f of h){if("recoilRoot"===tF(f).retainedBy||(null!==(l=r.retention.referenceCounts.get(f))&&void 0!==l?l:0)>0||tK(f).some(e=>r.retention.referenceCounts.get(e))){s.add(f);continue}let d=i.nodeToNodeSubscriptions.get(f);if(d&&tM(d,e=>s.has(e))){s.add(f);continue}o.add(f),c.add(f)}let p=new Set;for(let g of c)for(let m of null!==(u=i.nodeDeps.get(g))&&void 0!==u?u:tj)o.has(m)||p.add(m);p.size&&a(p)}}function tz(e,t,r,n,i){let o=e.getGraph(t.version),s=[],a=new Set;for(;r.size>0;)l(f(r.values().next().value));return s;function l(e){if(n.has(e)||i.has(e)){r.delete(e);return}if(a.has(e))return;let t=o.nodeToNodeSubscriptions.get(e);if(t)for(let u of t)l(u);a.add(e),r.delete(e),s.push(e)}}function tq(e,t,r){var n,i;if(!C("recoil_memory_managament_2020"))return;tD(e,r);let o=e.getState();o.knownAtoms.delete(r),o.knownSelectors.delete(r),o.nodeTransactionSubscriptions.delete(r),o.retention.referenceCounts.delete(r);let s=tK(r);for(let a of s)null===(n=o.retention.nodesRetainedByZone.get(a))||void 0===n||n.delete(r);t.atomValues.delete(r),t.dirtyAtoms.delete(r),t.nonvalidatedAtoms.delete(r);let l=o.graphsByVersion.get(t.version);if(l){let u=l.nodeDeps.get(r);if(void 0!==u)for(let c of(l.nodeDeps.delete(r),u))null===(i=l.nodeToNodeSubscriptions.get(c))||void 0===i||i.delete(r);l.nodeToNodeSubscriptions.delete(r)}tL(r)}function tH(e,t){var r;return null!==(r=e.retention.nodesRetainedByZone.get(t))&&void 0!==r?r:tj}function tK(e){let t=tF(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof tB?[t]:t}function tW(e,t){let r=e.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(t):tV(e,new Set([t]))}function t$(e,t,r){var n;if(!C("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=(null!==(n=i.get(t))&&void 0!==n?n:0)+r;0===o?tY(e,t):i.set(t,o)}function tY(e,t){if(!C("recoil_memory_managament_2020"))return;let r=e.getState().retention.referenceCounts;r.delete(t),tW(e,t)}function tJ(e){if(!C("recoil_memory_managament_2020"))return;let t=e.getState();tV(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function tQ(e){return void 0===e?"recoilRoot":e}var tX={SUSPENSE_TIMEOUT_MS:tU,updateRetainCount:t$,updateRetainCountToZero:tY,releaseScheduledRetainablesNow:tJ,retainedByOptionWithDefault:tQ};let{unstable_batchedUpdates:tZ}=u;var t0={unstable_batchedUpdates:tZ};let{unstable_batchedUpdates:t1}=t0;var t2={unstable_batchedUpdates:t1};let{batchStart:t3}=tO,{unstable_batchedUpdates:t6}=t2,t4=t6,t5=e=>{t4=e},t8=()=>t4,t7=e=>{t4(()=>{let t=()=>void 0;try{t=t3(),e()}finally{t()}})};var t9={getBatcher:t8,setBatcher:t5,batchUpdates:t7},re=function*(e){for(let t of e)for(let r of t)yield r};let rt="undefined"==typeof Window||"undefined"==typeof window,rr=e=>!rt&&(e===window||e instanceof Window),rn="undefined"!=typeof navigator&&"ReactNative"===navigator.product;var ri={isSSR:rt,isReactNative:rn,isWindow:rr};function ro(e,t){let r;let n=(...n)=>{r||(r={});let i=t(...n);return Object.hasOwnProperty.call(r,i)||(r[i]=e(...n)),r[i]};return n}function rs(e,t){let r,n;let i=(...i)=>{let o=t(...i);return r===o?n:(r=o,n=e(...i))};return i}function ra(e,t){let r,n;let i=(...i)=>{let o=t(...i);return r===o?n:(r=o,n=e(...i))},o=()=>{r=null};return[i,o]}var rl={memoizeWithArgsHash:ro,memoizeOneWithArgsHash:rs,memoizeOneWithArgsHashAndInvalidation:ra};let{batchUpdates:ru}=t9,{initializeNode:rc,peekNodeInfo:rh}=e7,{graph:rf}=eb,{getNextStoreID:rd}=eT,{DEFAULT_VALUE:rp,recoilValues:rg,recoilValuesForKeys:rm}=es,{AbstractRecoilValue:ry,getRecoilValueAsLoadable:rv,setRecoilValue:rb,setUnvalidatedRecoilValue:rw}=tO,{updateRetainCount:rE}=tX,{setInvalidateMemoizedSnapshot:rA}=tr,{getNextTreeStateVersion:rS,makeEmptyStoreState:r_}=eI,{isSSR:rk}=ri,{memoizeOneWithArgsHashAndInvalidation:rT}=rl;class rN{constructor(e,t){for(let r of(d(this,"_store",void 0),d(this,"_refCount",1),d(this,"getLoadable",e=>(this.checkRefCount_INTERNAL(),rv(this._store,e))),d(this,"getPromise",e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise())),d(this,"getNodes_UNSTABLE",e=>{if(this.checkRefCount_INTERNAL(),(null==e?void 0:e.isModified)===!0){if((null==e?void 0:e.isInitialized)===!1)return[];let t=this._store.getState().currentTree;return rm(t.dirtyAtoms)}let r=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return(null==e?void 0:e.isInitialized)==null?rg.values():!0===e.isInitialized?rm(re([r,n])):ez(rg.values(),({key:e})=>!r.has(e)&&!n.has(e))}),d(this,"getInfo_UNSTABLE",({key:e})=>(this.checkRefCount_INTERNAL(),rh(this._store,this._store.getState().currentTree,e))),d(this,"map",e=>{this.checkRefCount_INTERNAL();let t=new rO(this,ru);return e(t),t}),d(this,"asyncMap",async e=>{this.checkRefCount_INTERNAL();let t=new rO(this,ru);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t}),this._store={storeID:rd(),parentStoreID:t,getState:()=>e,replaceState(t){e.currentTree=t(e.currentTree)},getGraph(t){let r=e.graphsByVersion;if(r.has(t))return f(r.get(t));let n=rf();return r.set(t,n),n},subscribeToTransactions:()=>({release(){}}),addTransactionMetadata(){throw c("Cannot subscribe to Snapshots")}},this._store.getState().knownAtoms))rc(this._store,r,"get"),rE(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&H("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){rk||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!C("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){C("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function rx(e,t,r=!1){let n=e.getState(),i=r?rS():t.version;return{currentTree:{version:r?i:t.version,stateID:r?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(q(n.nodeCleanupFunctions.entries(),([e])=>[e,()=>{}]))}}function rP(e){let t=new rN(r_());return null!=e?t.map(e):t}let[rC,rR]=rT((e,t)=>{var r;let n=e.getState(),i="latest"===t?null!==(r=n.nextTree)&&void 0!==r?r:n.currentTree:f(n.previousTree);return new rN(rx(e,i),e.storeID)},(e,t)=>{var r,n;return String(t)+String(e.storeID)+String(null===(r=e.getState().nextTree)||void 0===r?void 0:r.version)+String(e.getState().currentTree.version)+String(null===(n=e.getState().previousTree)||void 0===n?void 0:n.version)});function rI(e,t="latest"){let r=rC(e,t);return r.isRetained()?r:(rR(),rC(e,t))}rA(rR);class rO extends rN{constructor(e,t){super(rx(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),d(this,"_batch",void 0),d(this,"set",(e,t)=>{this.checkRefCount_INTERNAL();let r=this.getStore_INTERNAL();this._batch(()=>{rE(r,e.key,1),rb(this.getStore_INTERNAL(),e,t)})}),d(this,"reset",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();this._batch(()=>{rE(t,e.key,1),rb(this.getStore_INTERNAL(),e,rp)})}),d(this,"setUnvalidatedAtomValues_DEPRECATED",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();ru(()=>{for(let[r,n]of e.entries())rE(t,r,1),rw(t,new ry(r),n)})}),this._batch=t}}var rM={Snapshot:rN,MutableSnapshot:rO,freshSnapshot:rP,cloneSnapshot:rI},rD=Object.freeze({__proto__:null,Snapshot:rM.Snapshot,MutableSnapshot:rM.MutableSnapshot,freshSnapshot:rM.freshSnapshot,cloneSnapshot:rM.cloneSnapshot}),rL=function(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t};let{useRef:rF}=l;var rB=function(e){let t=rF(e);return t.current===e&&"function"==typeof e&&(t.current=e()),t};let{getNextTreeStateVersion:rU,makeEmptyStoreState:rj}=eI,{cleanUpNode:rV,getDownstreamNodes:rG,initializeNode:rz,setNodeValue:rq,setUnvalidatedAtomValue_DEPRECATED:rH}=e7,{graph:rK}=eb,{cloneGraph:rW}=eb,{getNextStoreID:r$}=eT,{createMutableSource:rY,reactMode:rJ}=L,{applyAtomValueWrites:rQ}=tO,{releaseScheduledRetainablesNow:rX}=tX,{freshSnapshot:rZ}=rD,{useCallback:r0,useContext:r1,useEffect:r2,useMemo:r3,useRef:r6,useState:r4}=l;function r5(){throw c("This component must be used inside a <RecoilRoot> component.")}let r8=Object.freeze({storeID:r$(),getState:r5,replaceState:r5,getGraph:r5,subscribeToTransactions:r5,addTransactionMetadata:r5}),r7=!1;function r9(e){if(r7)throw c("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(null===t.nextTree){C("recoil_memory_managament_2020")&&C("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&rX(e);let r=t.currentTree.version,n=rU();t.nextTree={...t.currentTree,version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(n,rW(f(t.graphsByVersion.get(r))))}}let ne=l.createContext({current:r8}),nt=()=>r1(ne),nr=l.createContext(null);function nn(){let e=r1(nr);return null==e&&z("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e}function ni(e,t,r){let n=rG(e,r,r.dirtyAtoms);for(let i of n){let o=t.nodeToComponentSubscriptions.get(i);if(o)for(let[s,[a,l]]of o)l(r)}}function no(e){let t=e.getState(),r=t.currentTree,n=r.dirtyAtoms;if(n.size){for(let[i,o]of t.nodeTransactionSubscriptions)if(n.has(i))for(let[s,a]of o)a(e);for(let[l,u]of t.transactionSubscriptions)u(e);(!rJ().early||t.suspendedComponentResolvers.size>0)&&(ni(e,t,r),t.suspendedComponentResolvers.forEach(e=>e()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(e=>e(r)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function ns(e){let t=e.getState();t.commitDepth++;try{let{nextTree:r}=t;if(null==r)return;t.previousTree=t.currentTree,t.currentTree=r,t.nextTree=null,no(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):H("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,C("recoil_memory_managament_2020")&&null==r&&rX(e)}finally{t.commitDepth--}}function na({setNotifyBatcherOfChange:e}){let t=nt(),[,r]=r4([]);return e(()=>r({})),r2(()=>(e(()=>r({})),()=>{e(()=>{})}),[e]),r2(()=>{el.enqueueExecution("Batcher",()=>{ns(t.current)})}),null}function nl(e,t){let r=rj();return t({set(t,n){let i=r.currentTree,o=rq(e,i,t.key,n),s=new Set(o.keys()),a=i.nonvalidatedAtoms.clone();for(let l of s)a.delete(l);r.currentTree={...i,dirtyAtoms:rL(i.dirtyAtoms,s),atomValues:rQ(i.atomValues,o),nonvalidatedAtoms:a}},setUnvalidatedAtomValues(e){e.forEach((e,t)=>{r.currentTree=rH(r.currentTree,t,e)})}}),r}function nu(e){let t=rZ(e),r=t.getStore_INTERNAL().getState();return t.retain(),r.nodeCleanupFunctions.forEach(e=>e()),r.nodeCleanupFunctions.clear(),r}let nc=0;function nh({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:r,children:n}){let i;let o=e=>{let t=i.current.graphsByVersion;if(t.has(e))return f(t.get(e));let r=rK();return t.set(e,r),r},s=(e,t)=>{if(null==t){let{transactionSubscriptions:r}=d.current.getState(),n=nc++;return r.set(n,e),{release(){r.delete(n)}}}{let{nodeTransactionSubscriptions:i}=d.current.getState();i.has(t)||i.set(t,new Map);let o=nc++;return f(i.get(t)).set(o,e),{release(){let e=i.get(t);e&&(e.delete(o),0===e.size&&i.delete(t))}}}},a=e=>{for(let t of(r9(d.current),Object.keys(e)))f(d.current.getState().nextTree).transactionMetadata[t]=e[t]},u=e=>{let t;r9(d.current);let r=f(i.current.nextTree);try{r7=!0,t=e(r)}finally{r7=!1}t!==r&&(i.current.nextTree=t,rJ().early&&ni(d.current,i.current,t),f(c.current)())},c=r6(null),h=r0(e=>{c.current=e},[c]),d=rB(()=>null!=r?r:{storeID:r$(),getState:()=>i.current,replaceState:u,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});null!=r&&(d.current=r),i=rB(()=>null!=e?nl(d.current,e):null!=t?nu(t):rj());let p=r3(()=>null==rY?void 0:rY(i,()=>i.current.currentTree.version),[i]);return r2(()=>{let e=d.current;for(let t of new Set(e.getState().knownAtoms))rz(e,t,"get");return()=>{for(let t of e.getState().knownAtoms)rV(e,t)}},[d]),l.createElement(ne.Provider,{value:d},l.createElement(nr.Provider,{value:p},l.createElement(na,{setNotifyBatcherOfChange:h}),n))}function nf(e){let{override:t,...r}=e,n=nt();return!1===t&&n.current!==r8?e.children:l.createElement(nh,r)}function nd(){return nt().current.storeID}var np={RecoilRoot:nf,useStoreRef:nt,useRecoilMutableSource:nn,useRecoilStoreID:nd,notifyComponents_FOR_TESTING:ni,sendEndOfBatchNotifications_FOR_TESTING:no},ng=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0};let{useEffect:nm,useRef:ny}=l;var nv=function(e){let t=ny();return nm(()=>{t.current=e}),t.current};let{useStoreRef:nb}=np,{SUSPENSE_TIMEOUT_MS:nw}=tX,{updateRetainCount:nE}=tX,{RetentionZone:nA}=eD,{useEffect:nS,useRef:n_}=l,{isSSR:nk}=ri;function nT(e){let t=Array.isArray(e)?e:[e],r=t.map(e=>e instanceof nA?e:e.key),n=nb();nS(()=>{if(!C("recoil_memory_managament_2020"))return;let e=n.current;if(i.current&&!nk)window.clearTimeout(i.current),i.current=null;else for(let t of r)nE(e,t,1);return()=>{for(let t of r)nE(e,t,-1)}},[n,...r]);let i=n_(),o=nv(r);if(!nk&&(void 0===o||!ng(o,r))){let s=n.current;for(let a of r)nE(s,a,1);if(o)for(let l of o)nE(s,l,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{for(let e of(i.current=null,r))nE(s,e,-1)},nw)}}var nN=function(e){if(C("recoil_memory_managament_2020"))return nT(e)},nx=function(){return"<component name not available>"};let{batchUpdates:nP}=t9,{DEFAULT_VALUE:nC}=es,{reactMode:nR,useMutableSource:nI,useSyncExternalStore:nO}=L,{useRecoilMutableSource:nM,useStoreRef:nD}=np,{isRecoilValue:nL}=G,{AbstractRecoilValue:nF,getRecoilValueAsLoadable:nB,setRecoilValue:nU,setUnvalidatedRecoilValue:nj,subscribeToRecoilValue:nV}=tO,{useCallback:nG,useEffect:nz,useMemo:nq,useRef:nH,useState:nK}=l,{setByAddingToSet:nW}=eG;function n$(e,t,r){if("hasValue"===e.state)return e.contents;if("loading"===e.state){let n=new Promise(e=>{r.current.getState().suspendedComponentResolvers.add(e)});throw n}if("hasError"===e.state)throw e.contents;throw c(`Invalid value of loadable atom "${t.key}"`)}function nY(){let e=nx(),t=nD(),[,r]=nK([]),n=nH(new Set);n.current=new Set;let i=nH(new Set),o=nH(new Map),s=nG(e=>{let t=o.current.get(e);t&&(t.release(),o.current.delete(e))},[o]),a=nG((e,t)=>{o.current.has(t)&&r([])},[]);return nz(()=>{let r=t.current;ep(n.current,i.current).forEach(t=>{if(o.current.has(t)){z(`Double subscription to RecoilValue "${t}"`);return}let n=nV(r,new nF(t),e=>a(e,t),e);o.current.set(t,n);let i=r.getState();i.nextTree?r.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(r.getState(),t)}):a(r.getState(),t)}),ep(i.current,n.current).forEach(e=>{s(e)}),i.current=n.current}),nz(()=>{let r=o.current;return ep(n.current,new Set(r.keys())).forEach(n=>{let i=nV(t.current,new nF(n),e=>a(e,n),e);r.set(n,i)}),()=>r.forEach((e,t)=>s(t))},[e,t,s,a]),nq(()=>{function e(e){return r=>{nU(t.current,e,r)}}function r(e){var r;n.current.has(e.key)||(n.current=nW(n.current,e.key));let i=t.current.getState();return nB(t.current,e,nR().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree)}function i(e){let n=r(e);return n$(n,e,t)}function o(t){return[i(t),e(t)]}function s(t){return[r(t),e(t)]}return{getRecoilValue:i,getRecoilValueLoadable:r,getRecoilState:o,getRecoilStateLoadable:s,getSetRecoilState:e,getResetRecoilState:function(e){return()=>nU(t.current,e,nC)}}},[n,t])}let nJ={current:0};function nQ(e){let t=nD(),r=nx(),n=nG(()=>{var r;let n=t.current,i=n.getState(),o=nR().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree,s=nB(n,e,o);return{loadable:s,key:e.key}},[t,e]),i=nG(e=>{let t;return()=>{var r,n;let i=e();return null!==(r=t)&&void 0!==r&&r.loadable.is(i.loadable)&&(null===(n=t)||void 0===n?void 0:n.key)===i.key?t:(t=i,i)}},[]),o=nq(()=>i(n),[n,i]),s=nG(n=>{let i=t.current,o=nV(i,e,n,r);return o.release},[t,e,r]);return nO(s,o,o).loadable}function nX(e){let t=nD(),r=nG(()=>{var r;let n=t.current,i=n.getState(),o=nR().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree;return nB(n,e,o)},[t,e]),n=nG(()=>r(),[r]),i=nx(),o=nG((n,o)=>{let s=t.current,a=nV(s,e,()=>{if(!C("recoil_suppress_rerender_in_callback"))return o();let e=r();l.current.is(e)||o(),l.current=e},i);return a.release},[t,e,i,r]),s=nM();if(null==s)throw c("Recoil hooks must be used in components contained within a <RecoilRoot> component.");let a=nI(s,n,o),l=nH(a);return nz(()=>{l.current=a}),a}function nZ(e){let t=nD(),r=nx(),n=nG(()=>{var r;let n=t.current,i=n.getState(),o=nR().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree;return nB(n,e,o)},[t,e]),i=nG(()=>({loadable:n(),key:e.key}),[n,e.key]),o=nG(e=>{let t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t},[i]);nz(()=>{let n=nV(t.current,e,e=>{a(o)},r);return a(o),n.release},[r,e,t,o]);let[s,a]=nK(i);return s.key!==e.key?i().loadable:s.loadable}function n0(e){let t=nD(),[,r]=nK([]),n=nx(),i=nG(()=>{var r;let n=t.current,i=n.getState(),o=nR().early&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree;return nB(n,e,o)},[t,e]),o=i(),s=nH(o);return nz(()=>{s.current=o}),nz(()=>{let o=t.current,a=o.getState(),l=nV(o,e,e=>{var t;if(!C("recoil_suppress_rerender_in_callback"))return r([]);let n=i();null!==(t=s.current)&&void 0!==t&&t.is(n)||r(n),s.current=n},n);if(a.nextTree)o.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,r([])});else{var u;if(!C("recoil_suppress_rerender_in_callback"))return r([]);let c=i();null!==(u=s.current)&&void 0!==u&&u.is(c)||r(c),s.current=c}return l.release},[n,i,e,t]),o}function n1(e){return C("recoil_memory_managament_2020")&&nN(e),({TRANSITION_SUPPORT:nZ,SYNC_EXTERNAL_STORE:nQ,MUTABLE_SOURCE:nX,LEGACY:n0})[nR().mode](e)}function n2(e){let t=nD(),r=n1(e);return n$(r,e,t)}function n3(e){let t=nD();return nG(r=>{nU(t.current,e,r)},[t,e])}function n6(e){let t=nD();return nG(()=>{nU(t.current,e,nC)},[t,e])}function n4(e){return[n2(e),n3(e)]}function n5(e){return[n1(e),n3(e)]}function n8(){let e=nD();return(t,r={})=>{nP(()=>{e.current.addTransactionMetadata(r),t.forEach((t,r)=>nj(e.current,new nF(r),t))})}}function n7(e){return C("recoil_memory_managament_2020")&&nN(e),nZ(e)}function n9(e){let t=nD(),r=n7(e);return n$(r,e,t)}function ie(e){return[n9(e),n3(e)]}var it={recoilComponentGetRecoilValueCount_FOR_TESTING:nJ,useRecoilInterface:nY,useRecoilState:n4,useRecoilStateLoadable:n5,useRecoilValue:n2,useRecoilValueLoadable:n1,useResetRecoilState:n6,useSetRecoilState:n3,useSetUnvalidatedAtomValues:n8,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:n7,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:n9,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:ie},ir=function(e,t){let r=new Map;for(let[n,i]of e)t(i,n)&&r.set(n,i);return r},ii=function(e,t){let r=new Set;for(let n of e)t(n)&&r.add(n);return r},io=function(...e){let t=new Map;for(let r=0;r<e.length;r++){let n;let i=e[r].keys();for(;!(n=i.next()).done;)t.set(n.value,e[r].get(n.value))}return t};let{batchUpdates:is}=t9,{DEFAULT_VALUE:ia,getNode:il,nodes:iu}=es,{useStoreRef:ic}=np,{AbstractRecoilValue:ih,setRecoilValueLoadable:id}=tO,{SUSPENSE_TIMEOUT_MS:ip}=tX,{cloneSnapshot:ig}=rD,{useCallback:im,useEffect:iy,useRef:iv,useState:ib}=l,{isSSR:iw}=ri;function iE(e){let t=ic();iy(()=>{let r=t.current.subscribeToTransactions(e);return r.release},[e,t])}function iA(e){let t=e.atomValues.toMap(),r=eg(ir(t,(e,t)=>{let r=il(t),n=r.persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state}),e=>e.contents);return io(e.nonvalidatedAtoms.toMap(),r)}function iS(e){iE(im(t=>{let r=t.getState().previousTree,n=t.getState().currentTree;r||(H("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),r=t.getState().currentTree);let i=iA(n),o=iA(r),s=eg(iu,e=>{var t,r,n,i;return{persistence_UNSTABLE:{type:null!==(t=null===(r=e.persistence_UNSTABLE)||void 0===r?void 0:r.type)&&void 0!==t?t:"none",backButton:null!==(n=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==n&&n}}}),a=ii(n.dirtyAtoms,e=>i.has(e)||o.has(e));e({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...n.transactionMetadata}})},[e]))}function i_(e){iE(im(t=>{let r=ig(t,"latest"),n=ig(t,"previous");e({snapshot:r,previousSnapshot:n})},[e]))}function ik(){let e=ic(),[t,r]=ib(()=>ig(e.current)),n=nv(t),i=iv(),o=iv();if(iE(im(e=>r(ig(e)),[])),iy(()=>{let e=t.retain();if(i.current&&!iw){var r;window.clearTimeout(i.current),i.current=null,null===(r=o.current)||void 0===r||r.call(o),o.current=null}return()=>{window.setTimeout(e,10)}},[t]),n!==t&&!iw){if(i.current){var s;window.clearTimeout(i.current),i.current=null,null===(s=o.current)||void 0===s||s.call(o),o.current=null}o.current=t.retain(),i.current=window.setTimeout(()=>{var e;i.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null},ip)}return t}function iT(e,t){var r;let n=e.getState(),i=null!==(r=n.nextTree)&&void 0!==r?r:n.currentTree,o=t.getStore_INTERNAL().getState().currentTree;is(()=>{let r=new Set;for(let n of[i.atomValues.keys(),o.atomValues.keys()])for(let s of n){var a,l;(null===(a=i.atomValues.get(s))||void 0===a?void 0:a.contents)!==(null===(l=o.atomValues.get(s))||void 0===l?void 0:l.contents)&&il(s).shouldRestoreFromSnapshots&&r.add(s)}r.forEach(t=>{id(e,new ih(t),o.atomValues.has(t)?f(o.atomValues.get(t)):ia)}),e.replaceState(e=>({...e,stateID:t.getID()}))})}function iN(){let e=ic();return im(t=>iT(e.current,t),[e])}var ix={useRecoilSnapshot:ik,gotoSnapshot:iT,useGotoRecoilSnapshot:iN,useRecoilTransactionObserver:i_,useTransactionObservation_DEPRECATED:iS,useTransactionSubscription_DEPRECATED:iE};let{peekNodeInfo:iP}=e7,{useStoreRef:iC}=np;var iR=function(){let e=iC();return({key:t})=>iP(e.current,e.current.getState().currentTree,t)};let{reactMode:iI}=L,{RecoilRoot:iO,useStoreRef:iM}=np,{useMemo:iD}=l;var iL=function(){"MUTABLE_SOURCE"===iI().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");let e=iM().current;return iD(()=>function({children:t}){return l.createElement(iO,{store_INTERNAL:e},t)},[e])};let{loadableWithValue:iF}=N,{initializeNode:iB}=e7,{DEFAULT_VALUE:iU,getNode:ij}=es,{copyTreeState:iV,getRecoilValueAsLoadable:iG,invalidateDownstreams:iz,writeLoadableToTreeState:iq}=tO;function iH(e){return"atom"===ij(e.key).nodeType}class iK{constructor(e,t){d(this,"_store",void 0),d(this,"_treeState",void 0),d(this,"_changes",void 0),d(this,"get",e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!iH(e))throw c("Reading selectors within atomicUpdate is not supported");let t=iG(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;if("hasError"===t.state)throw t.contents;throw c(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)}),d(this,"set",(e,t)=>{if(!iH(e))throw c("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){let r=this.get(e);this._changes.set(e.key,t(r))}else iB(this._store,e.key,"set"),this._changes.set(e.key,t)}),d(this,"reset",e=>{this.set(e,iU)}),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;let e=iV(this._treeState);for(let[t,r]of this._changes)iq(e,t,iF(r));return iz(this._store,e),e}}function iW(e){return t=>{e.replaceState(r=>{let n=new iK(e,r);return t(n),n.newTreeState_INTERNAL()})}}var i$=Object.freeze({__proto__:null,atomicUpdater:{atomicUpdater:iW}.atomicUpdater}),iY=function(e,t){if(!e)throw Error(t)};let{atomicUpdater:iJ}=i$,{batchUpdates:iQ}=t9,{DEFAULT_VALUE:iX}=es,{useStoreRef:iZ}=np,{refreshRecoilValue:i0,setRecoilValue:i1}=tO,{cloneSnapshot:i2}=rD,{gotoSnapshot:i3}=ix,{useCallback:i6}=l;class i4{}let i5=new i4;function i8(e,t,r,n){let i,o=i5;if(iQ(()=>{let s="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof t)throw c(s);let a=eq({...null!=n?n:{},set:(t,r)=>i1(e,t,r),reset:t=>i1(e,t,iX),refresh:t=>i0(e,t),gotoSnapshot:t=>i3(e,t),transact_UNSTABLE:t=>iJ(e)(t)},{snapshot(){let t=i2(e);return i=t.retain(),t}}),l=t(a);if("function"!=typeof l)throw c(s);o=l(...r)}),o instanceof i4&&iY(!1),h(o))o.finally(()=>{var e;null===(e=i)||void 0===e||e()});else{var s;null===(s=i)||void 0===s||s()}return o}function i7(e,t){let r=iZ();return i6((...t)=>i8(r.current,e,t),null!=t?[...t,r]:void 0)}var i9={recoilCallback:i8,useRecoilCallback:i7};let{useStoreRef:oe}=np,{refreshRecoilValue:ot}=tO,{useCallback:or}=l;var on=function(e){let t=oe();return or(()=>{let r=t.current;ot(r,e)},[e,t])};let{atomicUpdater:oi}=i$,{useStoreRef:oo}=np,{useMemo:os}=l;var oa=function(e,t){let r=oo();return os(()=>(...t)=>{let n=oi(r.current);n(r=>{e(r)(...t)})},null!=t?[...t,r]:void 0)};class ol{constructor(e){d(this,"value",void 0),this.value=e}}var ou=Object.freeze({__proto__:null,WrappedValue:{WrappedValue:ol}.WrappedValue});let{isFastRefreshEnabled:oc}=L;class oh extends Error{}class of{constructor(e){var t,r,n;d(this,"_name",void 0),d(this,"_numLeafs",void 0),d(this,"_root",void 0),d(this,"_onHit",void 0),d(this,"_onSet",void 0),d(this,"_mapNodeValue",void 0),this._name=null==e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(r=null==e?void 0:e.onSet)&&void 0!==r?r:()=>{},this._mapNodeValue=null!==(n=null==e?void 0:e.mapNodeValue)&&void 0!==n?n:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var r;return null===(r=this.getLeafNode(e,t))||void 0===r?void 0:r.value}getLeafNode(e,t){if(null==this._root)return;let r=this._root;for(;r;){if(null==t||t.onNodeVisit(r),"leaf"===r.type)return this._onHit(r),r;let n=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(n)}}set(e,t,r){let n=()=>{var n,i,o,s,a,l,u;let c,h;for(let[f,d]of e){let p=this._root;if((null==p?void 0:p.type)==="leaf")throw this.invalidCacheError();let g=c;if("branch"!==(c=null!==(a=c=g?g.branches.get(h):p)&&void 0!==a?a:{type:"branch",nodeKey:f,parent:g,branches:new Map,branchKey:h}).type||c.nodeKey!==f)throw this.invalidCacheError();null==g||g.branches.set(h,c),null==r||null===(l=r.onNodeVisit)||void 0===l||l.call(r,c),h=this._mapNodeValue(d),this._root=null!==(u=this._root)&&void 0!==u?u:c}let m=c?null===(n=c)||void 0===n?void 0:n.branches.get(h):this._root;if(null!=m&&("leaf"!==m.type||m.branchKey!==h))throw this.invalidCacheError();let y={type:"leaf",value:t,parent:c,branchKey:h};null===(i=c)||void 0===i||i.branches.set(h,y),this._root=null!==(o=this._root)&&void 0!==o?o:y,this._numLeafs++,this._onSet(y),null==r||null===(s=r.onNodeVisit)||void 0===s||s.call(r,y)};try{n()}catch(i){if(i instanceof oh)this.clear(),n();else throw i}}delete(e){let t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let r=e.parent,n=e.branchKey;for(;r;){var i;if(r.branches.delete(n),r===t)return 0===r.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;n=null===(i=r)||void 0===i?void 0:i.branchKey,r=r.parent}for(;r!==t;r=r.parent)if(null==r)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){let e=oc()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw H(e+(null!=this._name?` - ${this._name}`:"")),new oh}}var od=Object.freeze({__proto__:null,TreeCache:{TreeCache:of}.TreeCache});class op{constructor(e){var t;d(this,"_maxSize",void 0),d(this,"_size",void 0),d(this,"_head",void 0),d(this,"_tail",void 0),d(this,"_map",void 0),d(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){let t=this._keyMapper(e),r=this._map.get(t);if(r)return this.set(e,r.value),r.value}set(e,t){let r=this._keyMapper(e),n=this._map.get(r);n&&this.delete(e);let i=this.head(),o={key:e,right:i,left:null,value:t};i?i.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let e=this.tail();e&&this.delete(e.key)}delete(e){let t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;let r=f(this._map.get(t)),n=r.right,i=r.left;n&&(n.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=n),r===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var og=Object.freeze({__proto__:null,LRUCache:{LRUCache:op}.LRUCache});let{LRUCache:om}=og,{TreeCache:oy}=od;var ov=function({name:e,maxSize:t,mapNodeValue:r=e=>e}){let n=new om({maxSize:t}),i=new oy({name:e,mapNodeValue:r,onHit(e){n.set(e,!0)},onSet(e){let r=n.tail();n.set(e,!0),r&&i.size()>t&&i.delete(r.key)}});return i};function ob(e,t,r){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((null==t?void 0:t.allowFunctions)!==!0)throw c("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";if("object"!=typeof e){var n;return null!==(n=JSON.stringify(e))&&void 0!==n?n:""}if(h(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((e,r)=>ob(e,t,r.toString()))}]`;if("function"==typeof e.toJSON)return ob(e.toJSON(r),t,r);if(e instanceof Map){let i={};for(let[o,s]of e)i["string"==typeof o?o:ob(o,t)]=s;return ob(i,t,r)}return e instanceof Set?ob(Array.from(e).sort((e,r)=>ob(e,t).localeCompare(ob(r,t))),t,r):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?ob(Array.from(e),t,r):`{${Object.keys(e).filter(t=>void 0!==e[t]).sort().map(r=>`${ob(r,t)}:${ob(e[r],t,r)}`).join(",")}}`}var ow=function(e,t={allowFunctions:!1}){return ob(e,t)};let{TreeCache:oE}=od,oA={equality:"reference",eviction:"keep-all",maxSize:1/0};function oS(e){switch(e){case"reference":return e=>e;case"value":return e=>ow(e)}throw c(`Unrecognized equality policy ${e}`)}function o_(e,t,r,n){switch(e){case"keep-all":return new oE({name:n,mapNodeValue:r});case"lru":return ov({name:n,maxSize:f(t),mapNodeValue:r});case"most-recent":return ov({name:n,maxSize:1,mapNodeValue:r})}throw c(`Unrecognized eviction policy ${e}`)}var ok=function({equality:e=oA.equality,eviction:t=oA.eviction,maxSize:r=oA.maxSize}=oA,n){let i=oS(e);return o_(t,r,i,n)};let{isReactNative:oT,isWindow:oN}=ri;function ox(e){return()=>null}var oP={startPerfBlock:ox};let{isLoadable:oC,loadableWithError:oR,loadableWithPromise:oI,loadableWithValue:oO}=N,{WrappedValue:oM}=ou,{getNodeLoadable:oD,peekNodeLoadable:oL,setNodeValue:oF}=e7,{saveDepsToStore:oB}=eb,{DEFAULT_VALUE:oU,getConfigDeletionHandler:oj,getNode:oV,registerNode:oG}=es,{isRecoilValue:oz}=G,{markRecoilValueModified:oq}=tO,{retainedByOptionWithDefault:oH}=tX,{recoilCallback:oK}=i9,{startPerfBlock:oW}=oP;class o${}let oY=new o$,oJ=[],oQ=new Map,oX=(n=0,()=>n++);function oZ(e){let t=null,{key:r,get:n,cachePolicy_UNSTABLE:i}=e,o=null!=e.set?e.set:void 0,s=new Set,a=ok(null!=i?i:{equality:"reference",eviction:"keep-all"},r),l=oH(e.retainedBy_UNSTABLE),u=new Map,d=0;function p(){return!C("recoil_memory_managament_2020")||d>0}function g(e){return e.getState().knownSelectors.add(r),d++,()=>{d--}}function m(){return void 0!==oj(r)&&!p()}function y(e,t,r,n,i){L(t,n,i),v(e,r)}function v(e,t){M(e,t)&&O(e),w(t,!0)}function b(e,t){if(M(e,t)){let r=f(P(e));r.stateVersions.clear(),w(t,!1)}}function w(e,r){let n=oQ.get(e);if(null!=n){for(let i of n)oq(i,f(t));r&&oQ.delete(e)}}function E(e,t){let r=oQ.get(t);null==r&&oQ.set(t,r=new Set),r.add(e)}function A(e,t,r,n,i,o){return t.then(t=>{if(!p())throw O(e),oY;let o=oO(t);return y(e,r,i,o,n),t}).catch(t=>{if(!p())throw O(e),oY;if(h(t))return S(e,t,r,n,i,o);let s=oR(t);throw y(e,r,i,s,n),t})}function S(e,t,r,n,i,o){return t.then(n=>{if(!p())throw O(e),oY;null!=o.loadingDepKey&&o.loadingDepPromise===t?r.atomValues.set(o.loadingDepKey,oO(n)):e.getState().knownSelectors.forEach(e=>{r.atomValues.delete(e)});let s=T(e,r);if(s&&"loading"!==s.state){if((M(e,i)||null==P(e))&&v(e,i),"hasValue"===s.state)return s.contents;throw s.contents}if(!M(e,i)){let a=x(e,r);if(null!=a)return a.loadingLoadable.contents}let[l,u]=k(e,r,i);if("loading"!==l.state&&y(e,r,i,l,u),"hasError"===l.state)throw l.contents;return l.contents}).catch(t=>{if(t instanceof o$)throw oY;if(!p())throw O(e),oY;let o=oR(t);throw y(e,r,i,o,n),t})}function _(e,t,n,i){var o,a,l,u,c,h,f;for(let d of((M(e,i)||t.version===(null===(o=e.getState())||void 0===o?void 0:null===(a=o.currentTree)||void 0===a?void 0:a.version)||t.version===(null===(l=e.getState())||void 0===l?void 0:null===(u=l.nextTree)||void 0===u?void 0:u.version))&&oB(r,n,e,null!==(c=null===(h=e.getState())||void 0===h?void 0:null===(f=h.nextTree)||void 0===f?void 0:f.version)&&void 0!==c?c:e.getState().currentTree.version),n))s.add(d)}function k(e,i,o){let s,a;let l=oW(r),u=!0,f=!0,d=()=>{l(),f=!1},p=!1,g={loadingDepKey:null,loadingDepPromise:null},m=new Map;function y({key:t}){let r=oD(e,i,t);switch(m.set(t,r),u||(_(e,i,new Set(m.keys()),o),b(e,o)),r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":throw g.loadingDepKey=t,g.loadingDepPromise=r.contents,r.contents}throw c("Invalid Loadable state")}let v=r=>(...n)=>{if(f)throw c("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null!=t||iY(!1),oK(e,r,n,{node:t})};try{s=n({get:y,getCallback:v}),s=oz(s)?y(s):s,oC(s)&&("hasError"===s.state&&(p=!0),s=s.contents),h(s)?s=A(e,s,i,m,o,g).finally(d):d(),s=s instanceof oM?s.value:s}catch(w){h(s=w)?s=S(e,s,i,m,o,g).finally(d):(p=!0,d())}return a=p?oR(s):h(s)?oI(s):oO(s),u=!1,I(e,o,m),_(e,i,new Set(m.keys()),o),[a,m]}function T(e,t){let n=t.atomValues.get(r);if(null!=n)return n;let i=new Set;try{n=a.get(r=>("string"!=typeof r&&iY(!1),oD(e,t,r).contents),{onNodeVisit(e){"branch"===e.type&&e.nodeKey!==r&&i.add(e.nodeKey)}})}catch(o){throw c(`Problem with cache lookup for selector "${r}": ${o.message}`)}if(n){var s;t.atomValues.set(r,n),_(e,t,i,null===(s=P(e))||void 0===s?void 0:s.executionID)}return n}function N(e,t){let r=T(e,t);if(null!=r)return O(e),r;let n=x(e,t);if(null!=n){var i;return(null===(i=n.loadingLoadable)||void 0===i?void 0:i.state)==="loading"&&E(e,n.executionID),n.loadingLoadable}let o=oX(),[s,a]=k(e,t,o);return"loading"===s.state?(R(e,o,s,a,t),E(e,o)):(O(e),L(t,s,a)),s}function x(e,t){let r=re([u.has(e)?[f(u.get(e))]:[],q(ez(u,([t])=>t!==e),([,e])=>e)]);function n(r){for(let[n,i]of r)if(!oD(e,t,n).is(i))return!0;return!1}for(let i of r){if(i.stateVersions.get(t.version)||!n(i.depValuesDiscoveredSoFarDuringAsyncWork))return i.stateVersions.set(t.version,!0),i;i.stateVersions.set(t.version,!1)}}function P(e){return u.get(e)}function R(e,t,r,n,i){u.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:n,executionID:t,loadingLoadable:r,stateVersions:new Map([[i.version,!0]])})}function I(e,t,r){if(M(e,t)){let n=P(e);null!=n&&(n.depValuesDiscoveredSoFarDuringAsyncWork=r)}}function O(e){u.delete(e)}function M(e,t){var r;return t===(null===(r=P(e))||void 0===r?void 0:r.executionID)}function D(e){return Array.from(e.entries()).map(([e,t])=>[e,t.contents])}function L(e,t,n){e.atomValues.set(r,t);try{a.set(D(n),t)}catch(i){throw c(`Problem with setting cache for selector "${r}": ${i.message}`)}}function F(e){if(oJ.includes(r)){let t=`Recoil selector has circular dependencies: ${oJ.slice(oJ.indexOf(r)).join(" → ")}`;return oR(c(t))}oJ.push(r);try{return e()}finally{oJ.pop()}}function B(e,t){let n=t.atomValues.get(r);return null!=n?n:a.get(r=>{var n;return"string"!=typeof r&&iY(!1),null===(n=oL(e,t,r))||void 0===n?void 0:n.contents})}function U(e,t){return F(()=>N(e,t))}function j(e){e.atomValues.delete(r)}function V(e,r){for(let n of(null!=t||iY(!1),s)){var i;let o=oV(n);null===(i=o.clearCache)||void 0===i||i.call(o,e,r)}s.clear(),j(r),a.clear(),oq(e,t)}if(null==o)return t=oG({key:r,nodeType:"selector",peek:B,get:U,init:g,invalidate:j,clearCache:V,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l});{let G=(e,t,n)=>{let i=!1,s=new Map;function a({key:n}){if(i)throw c("Recoil: Async selector sets are not currently supported.");let o=oD(e,t,n);if("hasValue"===o.state)return o.contents;if("loading"===o.state){let s=`Getting value of asynchronous atom or selector "${n}" in a pending state while setting selector "${r}" is not yet supported.`;throw H(s),c(s)}throw o.contents}function l(r,n){if(i){let o="Recoil: Async selector sets are not currently supported.";throw H(o),c(o)}let l="function"==typeof n?n(a(r)):n,u=oF(e,t,r.key,l);u.forEach((e,t)=>s.set(t,e))}function u(e){l(e,oU)}let f=o({set:l,get:a,reset:u},n);if(void 0!==f)throw h(f)?c("Recoil: Async selector sets are not currently supported."):c("Recoil: selector set should be a void function.");return i=!0,s};return t=oG({key:r,nodeType:"selector",peek:B,get:U,set:G,init:g,invalidate:j,clearCache:V,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}}oZ.value=e=>new oM(e);var o0=oZ;let{isLoadable:o1,loadableWithError:o2,loadableWithPromise:o3,loadableWithValue:o6}=N,{WrappedValue:o4}=ou,{peekNodeInfo:o5}=e7,{DEFAULT_VALUE:o8,DefaultValue:o7,getConfigDeletionHandler:o9,registerNode:se,setConfigDeletionHandler:st}=es,{isRecoilValue:sr}=G,{getRecoilValueAsLoadable:sn,markRecoilValueModified:si,setRecoilValue:so,setRecoilValueLoadable:ss}=tO,{retainedByOptionWithDefault:sa}=tX,sl=e=>e instanceof o4?e.value:e;function su(e){let t;let{key:r,persistence_UNSTABLE:n}=e,i=sa(e.retainedBy_UNSTABLE),o=0;function s(e){return o3(e.then(e=>(a=o6(e),e)).catch(e=>{throw a=o2(e),e}))}let a=h(e.default)?s(e.default):o1(e.default)?"loading"===e.default.state?s(e.default.contents):e.default:o6(sl(e.default));u(a.contents);let l=new Map;function u(e){return e}function d(e,t){let n=t.then(t=>{var i,o;let s=null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree;return(null===(o=s.atomValues.get(r))||void 0===o?void 0:o.contents)===n&&so(e,w,t),t}).catch(t=>{var i,o;let s=null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree;throw(null===(o=s.atomValues.get(r))||void 0===o?void 0:o.contents)===n&&ss(e,w,o2(t)),t});return n}function p(t,n,i){var s,f,p;o++;let m=()=>{var e;o--,null===(e=l.get(t))||void 0===e||e.forEach(e=>e()),l.delete(t)};if(t.getState().knownAtoms.add(r),"loading"===a.state){let y=()=>{var e;let n=null!==(e=t.getState().nextTree)&&void 0!==e?e:t.getState().currentTree;n.atomValues.has(r)||si(t,w)};a.contents.finally(y)}let v=null!==(s=e.effects)&&void 0!==s?s:e.effects_UNSTABLE;if(null!=v){let b=o8,E=!0,A=!1,S=null;function _(e){if(E&&e.key===r){let i=b;return i instanceof o7?g(t,n):h(i)?o3(i.then(e=>e instanceof o7?a.toPromise():e)):o6(i)}return sn(t,e)}function k(e){return _(e).toPromise()}function T(e){var n;let i=o5(t,null!==(n=t.getState().nextTree)&&void 0!==n?n:t.getState().currentTree,e.key);return!E||e.key!==r||b instanceof o7?i:{...i,isSet:!0,loadable:_(e)}}let N=e=>r=>{if(E){let n=_(w),i="hasValue"===n.state?n.contents:o8;h(b="function"==typeof r?r(i):r)&&(b=b.then(t=>(S={effect:e,value:t},t)))}else{if(h(r))throw c("Setting atoms to async values is not implemented.");"function"!=typeof r&&(S={effect:e,value:sl(r)}),so(t,w,"function"==typeof r?t=>{let n=sl(r(t));return S={effect:e,value:n},n}:sl(r))}},x=e=>()=>N(e)(o8),P=e=>n=>{var i;let{release:o}=t.subscribeToTransactions(t=>{var i,o,s,l,u;let{currentTree:c,previousTree:h}=t.getState();h||(H("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),h=c);let f=null!==(i=c.atomValues.get(r))&&void 0!==i?i:a;if("hasValue"===f.state){let d=f.contents,p=null!==(o=h.atomValues.get(r))&&void 0!==o?o:a,g="hasValue"===p.state?p.contents:o8;(null===(s=S)||void 0===s?void 0:s.effect)!==e||(null===(l=S)||void 0===l?void 0:l.value)!==d?n(d,g,!c.atomValues.has(r)):(null===(u=S)||void 0===u?void 0:u.effect)===e&&(S=null)}},r);l.set(t,[...null!==(i=l.get(t))&&void 0!==i?i:[],o])};for(let C of v)try{let R=C({node:w,storeID:t.storeID,parentStoreID_UNSTABLE:t.parentStoreID,trigger:i,setSelf:N(C),resetSelf:x(C),onSet:P(C),getPromise:k,getLoadable:_,getInfo_UNSTABLE:T});null!=R&&l.set(t,[...null!==(f=l.get(t))&&void 0!==f?f:[],R])}catch(I){b=I,A=!0}if(E=!1,!(b instanceof o7)){let O=A?o2(b):h(b)?o3(d(t,b)):o6(sl(b));u(O.contents),n.atomValues.set(r,O),null===(p=t.getState().nextTree)||void 0===p||p.atomValues.set(r,O)}}return m}function g(e,n){var i,o;return null!==(i=null!==(o=n.atomValues.get(r))&&void 0!==o?o:t)&&void 0!==i?i:a}function m(e,i){if(i.atomValues.has(r))return f(i.atomValues.get(r));if(!i.nonvalidatedAtoms.has(r))return a;{if(null!=t)return t;if(null==n)return z(`Tried to restore a persisted value for atom ${r} but it has no persistence settings.`),a;let o=i.nonvalidatedAtoms.get(r),s=n.validator(o,o8),l=s instanceof o7?a:o6(s);return t=l}}function y(){t=void 0}function v(e,n,i){if(n.atomValues.has(r)){let o=f(n.atomValues.get(r));if("hasValue"===o.state&&i===o.contents)return new Map}else if(!n.nonvalidatedAtoms.has(r)&&i instanceof o7)return new Map;return u(i),t=void 0,new Map().set(r,o6(i))}function b(){return void 0!==o9(r)&&o<=0}let w=se({key:r,nodeType:"atom",peek:g,get:m,set:v,init:p,invalidate:y,shouldDeleteConfigOnRelease:b,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:i});return w}function sc(e){let{...t}=e,r="default"in e?e.default:new Promise(()=>{});return sr(r)?sh({...t,default:r}):su({...t,default:r})}function sh(e){let t=sc({...e,default:o8,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof o7?t:f(e.persistence_UNSTABLE).validator(t,o8)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),r=o0({key:`${e.key}__withFallback`,get({get:r}){let n=r(t);return n instanceof o7?e.default:n},set:({set:e},r)=>e(t,r),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return st(r.key,o9(e.key)),r}sc.value=e=>new o4(e);var sf=sc;class sd{constructor(e){var t;d(this,"_map",void 0),d(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var sp=Object.freeze({__proto__:null,MapCache:{MapCache:sd}.MapCache});let{LRUCache:sg}=og,{MapCache:sm}=sp,sy={equality:"reference",eviction:"none",maxSize:1/0};function sv(e){switch(e){case"reference":return e=>e;case"value":return e=>ow(e)}throw c(`Unrecognized equality policy ${e}`)}function sb(e,t,r){switch(e){case"keep-all":return new sm({mapKey:r});case"lru":return new sg({mapKey:r,maxSize:f(t)});case"most-recent":return new sg({mapKey:r,maxSize:1})}throw c(`Unrecognized eviction policy ${e}`)}var sw=function({equality:e=sy.equality,eviction:t=sy.eviction,maxSize:r=sy.maxSize}=sy){let n=sv(e),i=sb(t,r,n);return i};let{setConfigDeletionHandler:sE}=es;var sA=function(e){var t,r;let n=sw({equality:null!==(t=null===(r=e.cachePolicyForParams_UNSTABLE)||void 0===r?void 0:r.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var r,i;let o=n.get(t);if(null!=o)return o;let{cachePolicyForParams_UNSTABLE:s,...a}=e,l="default"in e?e.default:new Promise(()=>{}),u=sf({...a,key:`${e.key}__${null!==(r=ow(t))&&void 0!==r?r:"void"}`,default:"function"==typeof l?l(t):l,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"==typeof e.effects?e.effects(t):"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE});return n.set(t,u),sE(u.key,()=>{n.delete(t)}),u}};let{setConfigDeletionHandler:sS}=es,s_=0;var sk=function(e){var t,r;let n=sw({equality:null!==(t=null===(r=e.cachePolicyForParams_UNSTABLE)||void 0===r?void 0:r.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var r;let i,o;try{i=n.get(t)}catch(s){throw c(`Problem with cache lookup for selector ${e.key}: ${s.message}`)}if(null!=i)return i;let a=`${e.key}__selectorFamily/${null!==(r=ow(t,{allowFunctions:!0}))&&void 0!==r?r:"void"}/${s_++}`,l=r=>e.get(t)(r),u=e.cachePolicy_UNSTABLE,h="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){let f=e.set,d=(e,r)=>f(t)(e,r);o=o0({key:a,get:l,set:d,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:h})}else o=o0({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:h});return n.set(t,o),sS(o.key,()=>{n.delete(t)}),o}};let sT=sk({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var sN=function(e){return sT(e)};let sx=sk({key:"__error",get:e=>()=>{throw c(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var sP=function(e){return sx(e)},sC=function(e){return e};let{loadableWithError:sR,loadableWithPromise:sI,loadableWithValue:sO}=N;function sM(e,t){let r=Array(t.length).fill(void 0),n=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{r[i]=e(o)}catch(s){n[i]=s}return[r,n]}function sD(e){return null!=e&&!h(e)}function sL(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function sF(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((e,r,n)=>({...e,[r]:t[n]}),{})}function sB(e,t,r){let n=r.map((e,r)=>null==e?sO(t[r]):h(e)?sI(e):sR(e));return sF(e,n)}function sU(e,t){return t.map((t,r)=>void 0===t?e[r]:t)}let sj=sk({key:"__waitForNone",get:e=>({get:t})=>{let r=sL(e),[n,i]=sM(t,r);return sB(e,n,i)},dangerouslyAllowMutability:!0}),sV=sk({key:"__waitForAny",get:e=>({get:t})=>{let r=sL(e),[n,i]=sM(t,r);return i.some(e=>!h(e))?sB(e,n,i):new Promise(t=>{for(let[r,o]of i.entries())h(o)&&o.then(o=>{n[r]=o,i[r]=void 0,t(sB(e,n,i))}).catch(o=>{i[r]=o,t(sB(e,n,i))})})},dangerouslyAllowMutability:!0}),sG=sk({key:"__waitForAll",get:e=>({get:t})=>{let r=sL(e),[n,i]=sM(t,r);if(i.every(e=>null==e))return sF(e,n);let o=i.find(sD);if(null!=o)throw o;return Promise.all(i).then(t=>sF(e,sU(n,t)))},dangerouslyAllowMutability:!0}),sz=sk({key:"__waitForAllSettled",get:e=>({get:t})=>{let r=sL(e),[n,i]=sM(t,r);return i.every(e=>!h(e))?sB(e,n,i):Promise.all(i.map((e,t)=>h(e)?e.then(e=>{n[t]=e,i[t]=void 0}).catch(e=>{n[t]=void 0,i[t]=e}):null)).then(()=>sB(e,n,i))},dangerouslyAllowMutability:!0}),sq=sk({key:"__noWait",get:e=>({get:t})=>{try{return o0.value(sO(t(e)))}catch(r){return o0.value(h(r)?sI(r):sR(r))}},dangerouslyAllowMutability:!0});var sH={waitForNone:sj,waitForAny:sV,waitForAll:sG,waitForAllSettled:sz,noWait:sq};let{RecoilLoadable:sK}=N,{DefaultValue:sW}=es,{RecoilRoot:s$,useRecoilStoreID:sY}=np,{isRecoilValue:sJ}=G,{retentionZone:sQ}=eD,{freshSnapshot:sX}=rD,{useRecoilState:sZ,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:s0,useRecoilStateLoadable:s1,useRecoilValue:s2,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:s3,useRecoilValueLoadable:s6,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:s4,useResetRecoilState:s5,useSetRecoilState:s8}=it,{useGotoRecoilSnapshot:s7,useRecoilSnapshot:s9,useRecoilTransactionObserver:ae}=ix,{useRecoilCallback:at}=i9,{noWait:ar,waitForAll:an,waitForAllSettled:ai,waitForAny:ao,waitForNone:as}=sH;var aa={DefaultValue:sW,isRecoilValue:sJ,RecoilLoadable:sK,RecoilRoot:s$,useRecoilStoreID:sY,useRecoilBridgeAcrossReactRoots_UNSTABLE:iL,atom:sf,selector:o0,atomFamily:sA,selectorFamily:sk,constSelector:sN,errorSelector:sP,readOnlySelector:sC,noWait:ar,waitForNone:as,waitForAny:ao,waitForAll:an,waitForAllSettled:ai,useRecoilValue:s2,useRecoilValueLoadable:s6,useRecoilState:sZ,useRecoilStateLoadable:s1,useSetRecoilState:s8,useResetRecoilState:s5,useGetRecoilValueInfo_UNSTABLE:iR,useRecoilRefresher_UNSTABLE:on,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:s4,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:s3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:s0,useRecoilCallback:at,useRecoilTransaction_UNSTABLE:oa,useGotoRecoilSnapshot:s7,useRecoilSnapshot:s9,useRecoilTransactionObserver_UNSTABLE:ae,snapshot_UNSTABLE:sX,useRetain:nN,retentionZone:sQ};aa.DefaultValue,aa.isRecoilValue,aa.RecoilLoadable;var al=aa.RecoilRoot;aa.useRecoilStoreID,aa.useRecoilBridgeAcrossReactRoots_UNSTABLE;var au=aa.atom,ac=aa.selector,ah=aa.atomFamily;aa.selectorFamily,aa.constSelector,aa.errorSelector,aa.readOnlySelector,aa.noWait,aa.waitForNone,aa.waitForAny,aa.waitForAll,aa.waitForAllSettled;var af=aa.useRecoilValue;aa.useRecoilValueLoadable;var ad=aa.useRecoilState;aa.useRecoilStateLoadable,aa.useSetRecoilState,aa.useResetRecoilState,aa.useGetRecoilValueInfo_UNSTABLE,aa.useRecoilRefresher_UNSTABLE,aa.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,aa.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,aa.useRecoilState_TRANSITION_SUPPORT_UNSTABLE;var ap=aa.useRecoilCallback;aa.useRecoilTransaction_UNSTABLE,aa.useGotoRecoilSnapshot,aa.useRecoilSnapshot,aa.useRecoilTransactionObserver_UNSTABLE,aa.snapshot_UNSTABLE,aa.useRetain,aa.retentionZone},7635:function(e){"use strict";!function(t){let r=2147483647;function n(e){let t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=1779033703,n=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,l=528734635,u=1541459225,c=new Uint32Array(64);function h(e){let h=0,f=e.length;for(;f>=64;){let d=r,p=n,g=i,m=o,y=s,v=a,b=l,w=u,E,A,S,_,k;for(A=0;A<16;A++)S=h+4*A,c[A]=(255&e[S])<<24|(255&e[S+1])<<16|(255&e[S+2])<<8|255&e[S+3];for(A=16;A<64;A++)_=((E=c[A-2])>>>17|E<<15)^(E>>>19|E<<13)^E>>>10,k=((E=c[A-15])>>>7|E<<25)^(E>>>18|E<<14)^E>>>3,c[A]=(_+c[A-7]|0)+(k+c[A-16]|0)|0;for(A=0;A<64;A++)_=(((y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&v^~y&b)|0)+(w+(t[A]+c[A]|0)|0)|0,k=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&p^d&g^p&g)|0,w=b,b=v,v=y,y=m+_|0,m=g,g=p,p=d,d=_+k|0;r=r+d|0,n=n+p|0,i=i+g|0,o=o+m|0,s=s+y|0,a=a+v|0,l=l+b|0,u=u+w|0,h+=64,f-=64}}h(e);let f,d=e.length%64,p=e.length/536870912|0,g=e.length<<3,m=d<56?56:120,y=e.slice(e.length-d,e.length);for(y.push(128),f=d+1;f<m;f++)y.push(0);return y.push(p>>>24&255),y.push(p>>>16&255),y.push(p>>>8&255),y.push(p>>>0&255),y.push(g>>>24&255),y.push(g>>>16&255),y.push(g>>>8&255),y.push(g>>>0&255),h(y),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function i(e,t,r){let i;e=e.length<=64?e:n(e);let o=64+t.length+4,s=Array(o),a=Array(64),l=[];for(i=0;i<64;i++)s[i]=54;for(i=0;i<e.length;i++)s[i]^=e[i];for(i=0;i<t.length;i++)s[64+i]=t[i];for(i=o-4;i<o;i++)s[i]=0;for(i=0;i<64;i++)a[i]=92;for(i=0;i<e.length;i++)a[i]^=e[i];function u(){for(let e=o-1;e>=o-4;e--){if(s[e]++,s[e]<=255)return;s[e]=0}}for(;r>=32;)u(),l=l.concat(n(a.concat(n(s)))),r-=32;return r>0&&(u(),l=l.concat(n(a.concat(n(s))).slice(0,r))),l}function o(e,t,r,n,i){let o;for(u(e,(2*r-1)*16,i,0,16),o=0;o<2*r;o++)l(e,16*o,i,16),a(i,n),u(i,0,e,t+16*o,16);for(o=0;o<r;o++)u(e,t+32*o,e,16*o,16);for(o=0;o<r;o++)u(e,t+(2*o+1)*16,e,(o+r)*16,16)}function s(e,t){return e<<t|e>>>32-t}function a(e,t){u(e,0,t,0,16);for(let r=8;r>0;r-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let n=0;n<16;++n)e[n]+=t[n]}function l(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function u(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function c(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){let r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function h(e,t){if("number"!=typeof e||e%1)throw Error("invalid "+t);return e}function f(e,t,n,s,a,f,d){let p;if(n=h(n,"N"),s=h(s,"r"),a=h(a,"p"),f=h(f,"dkLen"),0===n||(n&n-1)!=0)throw Error("N must be power of 2");if(n>r/128/s)throw Error("N too large");if(s>r/128/a)throw Error("r too large");if(!c(e))throw Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!c(t))throw Error("salt must be an array or buffer");let g=i(e,t=Array.prototype.slice.call(t),128*a*s),m=new Uint32Array(32*a*s);for(let y=0;y<m.length;y++){let v=4*y;m[y]=(255&g[v+3])<<24|(255&g[v+2])<<16|(255&g[v+1])<<8|(255&g[v+0])<<0}let b=new Uint32Array(64*s),w=new Uint32Array(32*s*n),E=32*s,A=new Uint32Array(16),S=new Uint32Array(16),_=a*n*2,k=0,T=null,N=!1,x=0,P=0,C,R=d?parseInt(1e3/s):4294967295,I="undefined"!=typeof setImmediate?setImmediate:setTimeout,O=function(){let t;if(N)return d(Error("cancelled"),k/_);switch(x){case 0:u(m,p=32*P*s,b,0,E),x=1,C=0;case 1:(t=n-C)>R&&(t=R);for(let r=0;r<t;r++)u(b,0,w,(C+r)*E,E),o(b,E,s,A,S);if(C+=t,k+=t,d){let c=parseInt(1e3*k/_);if(c!==T){if(N=d(null,k/_))break;T=c}}if(C<n)break;C=0,x=2;case 2:(t=n-C)>R&&(t=R);for(let h=0;h<t;h++){let y=(2*s-1)*16,v=b[y]&n-1;l(w,v*E,b,E),o(b,E,s,A,S)}if(C+=t,k+=t,d){let M=parseInt(1e3*k/_);if(M!==T){if(N=d(null,k/_))break;T=M}}if(C<n)break;if(u(b,0,m,p,E),++P<a){x=0;break}g=[];for(let D=0;D<m.length;D++)g.push(m[D]>>0&255),g.push(m[D]>>8&255),g.push(m[D]>>16&255),g.push(m[D]>>24&255);let L=i(e,g,f);return d&&d(null,1,L),L}d&&I(O)};if(!d)for(;;){let M=O();if(void 0!=M)return M}O()}let d={scrypt:function(e,t,r,n,i,o,s){return new Promise(function(a,l){let u=0;s&&s(0),f(e,t,r,n,i,o,function(e,t,r){if(e)l(e);else if(r)s&&1!==u&&s(1),a(new Uint8Array(r));else if(s&&t!==u)return u=t,s(t)})})},syncScrypt:function(e,t,r,n,i,o){return new Uint8Array(f(e,t,r,n,i,o))}};e.exports=d}(0)},6601:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(6840),t(880)}),_N_E=e.O()}]);